(self.webpackChunknatours=self.webpackChunknatours||[]).push([[179],{7286:(G,b,M)=>{"use strict";var l=M(4650);let L=null;function q(){return L}const U=new l.OlP("DocumentToken");let H=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:function(){return function V(){return(0,l.LFG)(z)}()},providedIn:"platform"}),r})();const X=new l.OlP("Location Initialized");let z=(()=>{class r extends H{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(e){const n=q().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=q().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,i){B()?this._history.pushState(e,n,i):this.location.hash=i}replaceState(e,n,i){B()?this._history.replaceState(e,n,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U))},r.\u0275prov=l.Yz7({token:r,factory:function(){return function ge(){return new z((0,l.LFG)(U))}()},providedIn:"platform"}),r})();function B(){return!!window.history.pushState}function Ee(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function x(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function k(r){return r&&"?"!==r[0]?"?"+r:r}let j=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:function(){return(0,l.f3M)(de)},providedIn:"root"}),r})();const J=new l.OlP("appBaseHref");let de=(()=>{class r extends j{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(U).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+k(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,u){const d=this.prepareExternalUrl(i+k(u));this._platformLocation.pushState(e,n,d)}replaceState(e,n,i,u){const d=this.prepareExternalUrl(i+k(u));this._platformLocation.replaceState(e,n,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(H),l.LFG(J,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),fe=(()=>{class r extends j{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=Ee(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,u){let d=this.prepareExternalUrl(i+k(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,n,d)}replaceState(e,n,i,u){let d=this.prepareExternalUrl(i+k(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(H),l.LFG(J,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),se=(()=>{class r{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._baseHref=x(ve(n)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+k(n))}normalize(e){return r.stripTrailingSlash(function _e(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+k(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+k(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n,complete:i})}}return r.normalizeQueryParams=k,r.joinWithSlash=Ee,r.stripTrailingSlash=x,r.\u0275fac=function(e){return new(e||r)(l.LFG(j))},r.\u0275prov=l.Yz7({token:r,factory:function(){return function oe(){return new se((0,l.LFG)(j))}()},providedIn:"root"}),r})();function ve(r){return r.replace(/\/index.html$/,"")}var te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),Q=(()=>((Q=Q||{})[Q.Narrow=0]="Narrow",Q[Q.Abbreviated=1]="Abbreviated",Q[Q.Wide=2]="Wide",Q[Q.Short=3]="Short",Q))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Group=1]="Group",re[re.List=2]="List",re[re.PercentSign=3]="PercentSign",re[re.PlusSign=4]="PlusSign",re[re.MinusSign=5]="MinusSign",re[re.Exponential=6]="Exponential",re[re.SuperscriptingExponent=7]="SuperscriptingExponent",re[re.PerMille=8]="PerMille",re[re.Infinity=9]="Infinity",re[re.NaN=10]="NaN",re[re.TimeSeparator=11]="TimeSeparator",re[re.CurrencyDecimal=12]="CurrencyDecimal",re[re.CurrencyGroup=13]="CurrencyGroup",re))();function Ht(r,t){return Sn((0,l.cg1)(r)[l.wAp.DateFormat],t)}function St(r,t){return Sn((0,l.cg1)(r)[l.wAp.TimeFormat],t)}function ti(r,t){return Sn((0,l.cg1)(r)[l.wAp.DateTimeFormat],t)}function tn(r,t){const e=(0,l.cg1)(r),n=e[l.wAp.NumberSymbols][t];if(typeof n>"u"){if(t===re.CurrencyDecimal)return e[l.wAp.NumberSymbols][re.Decimal];if(t===re.CurrencyGroup)return e[l.wAp.NumberSymbols][re.Group]}return n}function Ji(r){if(!r[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sn(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function Ja(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const ur=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,An={},Qa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nn=(()=>((nn=nn||{})[nn.Short=0]="Short",nn[nn.ShortGMT=1]="ShortGMT",nn[nn.Long=2]="Long",nn[nn.Extended=3]="Extended",nn))(),Ue=(()=>((Ue=Ue||{})[Ue.FullYear=0]="FullYear",Ue[Ue.Month=1]="Month",Ue[Ue.Date=2]="Date",Ue[Ue.Hours=3]="Hours",Ue[Ue.Minutes=4]="Minutes",Ue[Ue.Seconds=5]="Seconds",Ue[Ue.FractionalSeconds=6]="FractionalSeconds",Ue[Ue.Day=7]="Day",Ue))(),Ne=(()=>((Ne=Ne||{})[Ne.DayPeriods=0]="DayPeriods",Ne[Ne.Days=1]="Days",Ne[Ne.Months=2]="Months",Ne[Ne.Eras=3]="Eras",Ne))();function C_(r,t,e,n){let i=function xn(r){if(_n(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[i,u=1,d=1]=r.split("-").map(h=>+h);return eu(i,u-1,d)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let n;if(n=r.match(ur))return function Fn(r){const t=new Date(0);let e=0,n=0;const i=r[8]?t.setUTCFullYear:t.setFullYear,u=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),n=Number(r[9]+r[11])),i.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const d=Number(r[4]||0)-e,h=Number(r[5]||0)-n,g=Number(r[6]||0),_=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return u.call(t,d,h,g,_),t}(n)}const t=new Date(r);if(!_n(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=cn(e,t)||t;let h,d=[];for(;t;){if(h=Qa.exec(t),!h){d.push(t);break}{d=d.concat(h.slice(1));const y=d.pop();if(!y)break;t=y}}let g=i.getTimezoneOffset();n&&(g=Zl(n,g),i=function Et(r,t,e){const n=e?-1:1,i=r.getTimezoneOffset();return function $l(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,n*(Zl(t,i)-i))}(i,n,!0));let _="";return d.forEach(y=>{const C=function iu(r){if(ru[r])return ru[r];let t;switch(r){case"G":case"GG":case"GGG":t=dt(Ne.Eras,Q.Abbreviated);break;case"GGGG":t=dt(Ne.Eras,Q.Wide);break;case"GGGGG":t=dt(Ne.Eras,Q.Narrow);break;case"y":t=Lt(Ue.FullYear,1,0,!1,!0);break;case"yy":t=Lt(Ue.FullYear,2,0,!0,!0);break;case"yyy":t=Lt(Ue.FullYear,3,0,!1,!0);break;case"yyyy":t=Lt(Ue.FullYear,4,0,!1,!0);break;case"Y":t=Qi(1);break;case"YY":t=Qi(2,!0);break;case"YYY":t=Qi(3);break;case"YYYY":t=Qi(4);break;case"M":case"L":t=Lt(Ue.Month,1,1);break;case"MM":case"LL":t=Lt(Ue.Month,2,1);break;case"MMM":t=dt(Ne.Months,Q.Abbreviated);break;case"MMMM":t=dt(Ne.Months,Q.Wide);break;case"MMMMM":t=dt(Ne.Months,Q.Narrow);break;case"LLL":t=dt(Ne.Months,Q.Abbreviated,te.Standalone);break;case"LLLL":t=dt(Ne.Months,Q.Wide,te.Standalone);break;case"LLLLL":t=dt(Ne.Months,Q.Narrow,te.Standalone);break;case"w":t=Fo(1);break;case"ww":t=Fo(2);break;case"W":t=Fo(1,!0);break;case"d":t=Lt(Ue.Date,1);break;case"dd":t=Lt(Ue.Date,2);break;case"c":case"cc":t=Lt(Ue.Day,1);break;case"ccc":t=dt(Ne.Days,Q.Abbreviated,te.Standalone);break;case"cccc":t=dt(Ne.Days,Q.Wide,te.Standalone);break;case"ccccc":t=dt(Ne.Days,Q.Narrow,te.Standalone);break;case"cccccc":t=dt(Ne.Days,Q.Short,te.Standalone);break;case"E":case"EE":case"EEE":t=dt(Ne.Days,Q.Abbreviated);break;case"EEEE":t=dt(Ne.Days,Q.Wide);break;case"EEEEE":t=dt(Ne.Days,Q.Narrow);break;case"EEEEEE":t=dt(Ne.Days,Q.Short);break;case"a":case"aa":case"aaa":t=dt(Ne.DayPeriods,Q.Abbreviated);break;case"aaaa":t=dt(Ne.DayPeriods,Q.Wide);break;case"aaaaa":t=dt(Ne.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":t=dt(Ne.DayPeriods,Q.Abbreviated,te.Standalone,!0);break;case"bbbb":t=dt(Ne.DayPeriods,Q.Wide,te.Standalone,!0);break;case"bbbbb":t=dt(Ne.DayPeriods,Q.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":t=dt(Ne.DayPeriods,Q.Abbreviated,te.Format,!0);break;case"BBBB":t=dt(Ne.DayPeriods,Q.Wide,te.Format,!0);break;case"BBBBB":t=dt(Ne.DayPeriods,Q.Narrow,te.Format,!0);break;case"h":t=Lt(Ue.Hours,1,-12);break;case"hh":t=Lt(Ue.Hours,2,-12);break;case"H":t=Lt(Ue.Hours,1);break;case"HH":t=Lt(Ue.Hours,2);break;case"m":t=Lt(Ue.Minutes,1);break;case"mm":t=Lt(Ue.Minutes,2);break;case"s":t=Lt(Ue.Seconds,1);break;case"ss":t=Lt(Ue.Seconds,2);break;case"S":t=Lt(Ue.FractionalSeconds,1);break;case"SS":t=Lt(Ue.FractionalSeconds,2);break;case"SSS":t=Lt(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=bs(nn.Short);break;case"ZZZZZ":t=bs(nn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bs(nn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=bs(nn.Long);break;default:return null}return ru[r]=t,t}(y);_+=C?C(i,e,g):"''"===y?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function eu(r,t,e){const n=new Date(0);return n.setFullYear(r,t,e),n.setHours(0,0,0),n}function cn(r,t){const e=function De(r){return(0,l.cg1)(r)[l.wAp.LocaleId]}(r);if(An[e]=An[e]||{},An[e][t])return An[e][t];let n="";switch(t){case"shortDate":n=Ht(r,le.Short);break;case"mediumDate":n=Ht(r,le.Medium);break;case"longDate":n=Ht(r,le.Long);break;case"fullDate":n=Ht(r,le.Full);break;case"shortTime":n=St(r,le.Short);break;case"mediumTime":n=St(r,le.Medium);break;case"longTime":n=St(r,le.Long);break;case"fullTime":n=St(r,le.Full);break;case"short":const i=cn(r,"shortTime"),u=cn(r,"shortDate");n=ft(ti(r,le.Short),[i,u]);break;case"medium":const d=cn(r,"mediumTime"),h=cn(r,"mediumDate");n=ft(ti(r,le.Medium),[d,h]);break;case"long":const g=cn(r,"longTime"),_=cn(r,"longDate");n=ft(ti(r,le.Long),[g,_]);break;case"full":const y=cn(r,"fullTime"),C=cn(r,"fullDate");n=ft(ti(r,le.Full),[y,C])}return n&&(An[e][t]=n),n}function ft(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),r}function Pn(r,t,e="-",n,i){let u="";(r<0||i&&r<=0)&&(i?r=1-r:(r=-r,u=e));let d=String(r);for(;d.length<t;)d="0"+d;return n&&(d=d.slice(d.length-t)),u+d}function Lt(r,t,e=0,n=!1,i=!1){return function(u,d){let h=function tu(r,t){switch(r){case Ue.FullYear:return t.getFullYear();case Ue.Month:return t.getMonth();case Ue.Date:return t.getDate();case Ue.Hours:return t.getHours();case Ue.Minutes:return t.getMinutes();case Ue.Seconds:return t.getSeconds();case Ue.FractionalSeconds:return t.getMilliseconds();case Ue.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,u);if((e>0||h>-e)&&(h+=e),r===Ue.Hours)0===h&&-12===e&&(h=12);else if(r===Ue.FractionalSeconds)return function Ro(r,t){return Pn(r,3).substring(0,t)}(h,t);const g=tn(d,re.MinusSign);return Pn(h,t,g,n,i)}}function dt(r,t,e=te.Format,n=!1){return function(i,u){return function bo(r,t,e,n,i,u){switch(e){case Ne.Months:return function xt(r,t,e){const n=(0,l.cg1)(r),u=Sn([n[l.wAp.MonthsFormat],n[l.wAp.MonthsStandalone]],t);return Sn(u,e)}(t,i,n)[r.getMonth()];case Ne.Days:return function lt(r,t,e){const n=(0,l.cg1)(r),u=Sn([n[l.wAp.DaysFormat],n[l.wAp.DaysStandalone]],t);return Sn(u,e)}(t,i,n)[r.getDay()];case Ne.DayPeriods:const d=r.getHours(),h=r.getMinutes();if(u){const _=function Os(r){const t=(0,l.cg1)(r);return Ji(t),(t[l.wAp.ExtraData][2]||[]).map(n=>"string"==typeof n?Ja(n):[Ja(n[0]),Ja(n[1])])}(t),y=function pf(r,t,e){const n=(0,l.cg1)(r);Ji(n);const u=Sn([n[l.wAp.ExtraData][0],n[l.wAp.ExtraData][1]],t)||[];return Sn(u,e)||[]}(t,i,n),C=_.findIndex(w=>{if(Array.isArray(w)){const[T,S]=w,R=d>=T.hours&&h>=T.minutes,N=d<S.hours||d===S.hours&&h<S.minutes;if(T.hours<S.hours){if(R&&N)return!0}else if(R||N)return!0}else if(w.hours===d&&w.minutes===h)return!0;return!1});if(-1!==C)return y[C]}return function qe(r,t,e){const n=(0,l.cg1)(r),u=Sn([n[l.wAp.DayPeriodsFormat],n[l.wAp.DayPeriodsStandalone]],t);return Sn(u,e)}(t,i,n)[d<12?0:1];case Ne.Eras:return function Fe(r,t){return Sn((0,l.cg1)(r)[l.wAp.Eras],t)}(t,n)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,u,r,t,e,n)}}function bs(r){return function(t,e,n){const i=-1*n,u=tn(e,re.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(r){case nn.Short:return(i>=0?"+":"")+Pn(d,2,u)+Pn(Math.abs(i%60),2,u);case nn.ShortGMT:return"GMT"+(i>=0?"+":"")+Pn(d,1,u);case nn.Long:return"GMT"+(i>=0?"+":"")+Pn(d,2,u)+":"+Pn(Math.abs(i%60),2,u);case nn.Extended:return 0===n?"Z":(i>=0?"+":"")+Pn(d,2,u)+":"+Pn(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${r}"`)}}}function Ps(r){return eu(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function Fo(r,t=!1){return function(e,n){let i;if(t){const u=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();i=1+Math.floor((d+u)/7)}else{const u=Ps(e),d=function Hl(r){const t=eu(r,0,1).getDay();return eu(r,0,1+(t<=4?4:11)-t)}(u.getFullYear()),h=u.getTime()-d.getTime();i=1+Math.round(h/6048e5)}return Pn(i,r,tn(n,re.MinusSign))}}function Qi(r,t=!1){return function(e,n){return Pn(Ps(e).getFullYear(),r,tn(n,re.MinusSign),t)}}const ru={};function Zl(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function _n(r){return r instanceof Date&&!isNaN(r.valueOf())}function Tt(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const n=e.indexOf("="),[i,u]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(u)}return null}class No{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class r{constructor(e,n,i){this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((i,u,d)=>{if(null==i.previousIndex)n.createEmbeddedView(this._template,new No(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)n.remove(null===u?void 0:u);else if(null!==u){const h=n.get(u);n.move(h,d),ai(h,i)}});for(let i=0,u=n.length;i<u;i++){const h=n.get(i).context;h.index=i,h.count=u,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{ai(n.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function ai(r,t){r.context.$implicit=t.item}let lr=(()=>{class r{constructor(e,n){this._viewContainer=e,this._context=new Zn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){O("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){O("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.s_b),l.Y36(l.Rgc))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class Zn{constructor(){this.$implicit=null,this.ngIf=null}}function O(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let Nt=(()=>{class r{constructor(e,n,i){this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[i,u]=e.split("."),d=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,i,u?`${n}${u}`:n,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),r})();const YT=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let zl=(()=>{class r{constructor(e,n){this.locale=e,this.defaultTimezone=n}transform(e,n="mediumDate",i,u){if(null==e||""===e||e!=e)return null;try{return C_(e,n,u||this.locale,i??this.defaultTimezone??void 0)}catch(d){throw function zt(r,t){return new l.vHH(2100,!1)}()}}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.soG,16),l.Y36(YT,24))},r.\u0275pipe=l.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),Kl=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();let tM=(()=>{class r{}return r.\u0275prov=(0,l.Yz7)({token:r,providedIn:"root",factory:()=>new ql((0,l.LFG)(U),window)}),r})();class ql{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function v0(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(d)return d}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(n-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=dr(this.window.history)||dr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dr(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Uo{}class Xl extends class fr extends class K{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function F(r){L||(L=r)}(new Xl)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function m0(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}();return null==e?null:function O_(r){Nr=Nr||document.createElement("a"),Nr.setAttribute("href",r);const t=Nr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tt(document.cookie,t)}}let Nr,Vo=null;const Jl=new l.OlP("TRANSITION_ID"),R_=[{provide:l.ip1,useFactory:function nt(r,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const n=q(),i=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<i.length;u++)n.remove(i[u])})}},deps:[Jl,U,l.zs3],multi:!0}];let y0=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Ql=new l.OlP("EventManagerPlugins");let ec=(()=>{class r{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,i){return this._findPluginFor(n).addEventListener(e,n,i)}addGlobalEventListener(e,n,i){return this._findPluginFor(n).addGlobalEventListener(e,n,i)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ql),l.LFG(l.R0b))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class Tf{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=q().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let b_=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),n.add(i))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),su=(()=>{class r extends b_{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,i){e.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(n.appendChild(d))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(pe),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,i)=>{this._addStylesToHost(e,i,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(pe))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function pe(r){q().remove(r)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tc=/%COMP%/g;function Ns(r,t,e){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?Ns(r,i,e):(i=i.replace(tc,r),e.push(i))}return e}function E0(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let F_=(()=>{class r{constructor(e,n,i){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ks(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(n.id);return i||(i=new Us(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,i)),i.applyToHost(e),i}case 1:case l.ifc.ShadowDom:return new Ri(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const i=Ns(n.id,n.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(ec),l.LFG(su),l.LFG(l.AFp))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class ks{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(If(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(If(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const u=ht[i];u?t.setAttributeNS(u,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=ht[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,n,i&l.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,E0(n)):this.eventManager.addEventListener(t,e,E0(n))}}function If(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Us extends ks{constructor(t,e,n,i){super(t),this.component=n;const u=Ns(i+"-"+n.id,n.styles,[]);e.addStyles(u),this.contentAttr=function ui(r){return"_ngcontent-%COMP%".replace(tc,r)}(i+"-"+n.id),this.hostAttr=function Sf(r){return"_nghost-%COMP%".replace(tc,r)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ri extends ks{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ns(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const h=document.createElement("style");h.textContent=u[d],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let C0=(()=>{class r extends Tf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i){return e.addEventListener(n,i,!1),()=>this.removeEventListener(e,n,i)}removeEventListener(e,n,i){return e.removeEventListener(n,i)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Af=["alt","control","meta","shift"],D0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xf={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let L_=(()=>{class r extends Tf{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,n,i){const u=r.parseEventName(n),d=r.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(e,u.domEventName,d))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const u=r._normalizeKey(n.pop());let d="";if(Af.forEach(g=>{const _=n.indexOf(g);_>-1&&(n.splice(_,1),d+=g+".")}),d+=u,0!=n.length||0===u.length)return null;const h={};return h.domEventName=i,h.fullKey=d,h}static getEventFullKey(e){let n="",i=function Of(r){let t=r.key;if(null==t){if(t=r.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===r.location&&nc.hasOwnProperty(t)&&(t=nc[t]))}return D0[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Af.forEach(u=>{u!=i&&(0,xf[u])(e)&&(n+=u+".")}),n+=i,n}static eventCallback(e,n,i){return u=>{r.getEventFullKey(u)===e&&i.runGuarded(()=>n(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Pf=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function k_(){Xl.makeCurrent()},multi:!0},{provide:U,useFactory:function V_(){return(0,l.RDi)(document),document},deps:[]}]),B_=new l.OlP(""),j_=[{provide:l.rWj,useClass:class nM{addToWindow(t){l.dqk.getAngularTestability=(n,i=!0)=>{const u=t.findTestabilityInTree(n,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(n=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const h=function(g){d=d||g,u--,0==u&&n(d)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?q().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ln=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function U_(){return new l.qLn},deps:[]},{provide:Ql,useClass:C0,multi:!0,deps:[U,l.R0b,l.Lbi]},{provide:Ql,useClass:L_,multi:!0,deps:[U]},{provide:F_,useClass:F_,deps:[ec,su,l.AFp]},{provide:l.FYo,useExisting:F_},{provide:b_,useExisting:su},{provide:su,useClass:su,deps:[U]},{provide:ec,useClass:ec,deps:[Ql,l.R0b]},{provide:Uo,useClass:y0,deps:[]},[]];let to=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:l.AFp,useValue:e.appId},{provide:Jl,useExisting:l.AFp},R_]}}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(B_,12))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[...Ln,...j_],imports:[Kl,l.hGG]}),r})(),Ff=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U))},r.\u0275prov=l.Yz7({token:r,factory:function(e){let n=null;return n=e?new e:function H_(){return new Ff((0,l.LFG)(U))}(),n},providedIn:"root"}),r})();typeof window<"u"&&window;var Be=M(9646),fi=M(9751),no=M(4351),Xt=M(9300),Ge=M(4004);class Bs{}class oc{}class kr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const i=e.slice(0,n),u=i.toLowerCase(),d=e.slice(n+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new kr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof kr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const u=t.value;if(u){let d=this.headers.get(e);if(!d)return;d=d.filter(h=>-1===u.indexOf(h)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sc{encodeKey(t){return jf(t)}encodeValue(t){return jf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const z_=/%(\d[a-f0-9])/gi,Y_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jf(r){return encodeURIComponent(r).replace(z_,(t,e)=>Y_[e]??t)}function du(r){return`${r}`}class ro{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R0(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,h]=-1==u?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,u)),t.decodeValue(i.slice(u+1))],g=e.get(d)||[];g.push(h),e.set(d,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],i=Array.isArray(n)?n.map(du):[du(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(u=>{e.push({param:n,value:u,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ro({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(du(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const i=n.indexOf(du(t.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fu{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Hf(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Zf(r){return typeof Blob<"u"&&r instanceof Blob}function Bo(r){return typeof FormData<"u"&&r instanceof FormData}class js{constructor(t,e,n,i){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function b0(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,u=i):u=n,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new kr),this.context||(this.context=new fu),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+d}}else this.params=new ro,this.urlWithParams=e}serializeBody(){return null===this.body?null:Hf(this.body)||Zf(this.body)||Bo(this.body)||function P0(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ro?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bo(this.body)?null:Zf(this.body)?this.body.type||null:Hf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,_=t.params||this.params;const y=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((C,w)=>C.set(w,t.setHeaders[w]),g)),t.setParams&&(_=Object.keys(t.setParams).reduce((C,w)=>C.set(w,t.setParams[w]),_)),new js(e,n,u,{params:_,headers:g,context:y,reportProgress:h,responseType:i,withCredentials:d})}}var Yt=(()=>((Yt=Yt||{})[Yt.Sent=0]="Sent",Yt[Yt.UploadProgress=1]="UploadProgress",Yt[Yt.ResponseHeader=2]="ResponseHeader",Yt[Yt.DownloadProgress=3]="DownloadProgress",Yt[Yt.Response=4]="Response",Yt[Yt.User=5]="User",Yt))();class $f{constructor(t,e=200,n="OK"){this.headers=t.headers||new kr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ac extends $f{constructor(t={}){super(t),this.type=Yt.ResponseHeader}clone(t={}){return new ac({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gs extends $f{constructor(t={}){super(t),this.type=Yt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Gs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jo extends $f{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function io(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Ur=(()=>{class r{constructor(e){this.handler=e}request(e,n,i={}){let u;if(e instanceof js)u=e;else{let g,_;g=i.headers instanceof kr?i.headers:new kr(i.headers),i.params&&(_=i.params instanceof ro?i.params:new ro({fromObject:i.params})),u=new js(e,n,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=(0,Be.of)(u).pipe((0,no.b)(g=>this.handler.handle(g)));if(e instanceof js||"events"===i.observe)return d;const h=d.pipe((0,Xt.h)(g=>g instanceof Gs));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return h.pipe((0,Ge.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Ge.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Ge.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Ge.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new ro).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,io(i,n))}post(e,n,i={}){return this.request("POST",e,io(i,n))}put(e,n,i={}){return this.request("PUT",e,io(i,n))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Bs))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class Wf{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const hu=new l.OlP("HTTP_INTERCEPTORS");let Hs=(()=>{class r{intercept(e,n){return n.handle(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const dM=/^\)\]\}',?\n/;let F0=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fi.y(n=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((T,S)=>i.setRequestHeader(T,S.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const T=e.detectContentTypeHeader();null!==T&&i.setRequestHeader("Content-Type",T)}if(e.responseType){const T=e.responseType.toLowerCase();i.responseType="json"!==T?T:"text"}const u=e.serializeBody();let d=null;const h=()=>{if(null!==d)return d;const T=i.statusText||"OK",S=new kr(i.getAllResponseHeaders()),R=function pu(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(i)||e.url;return d=new ac({headers:S,status:i.status,statusText:T,url:R}),d},g=()=>{let{headers:T,status:S,statusText:R,url:N}=h(),W=null;204!==S&&(W=typeof i.response>"u"?i.responseText:i.response),0===S&&(S=W?200:0);let Z=S>=200&&S<300;if("json"===e.responseType&&"string"==typeof W){const ne=W;W=W.replace(dM,"");try{W=""!==W?JSON.parse(W):null}catch(ue){W=ne,Z&&(Z=!1,W={error:ue,text:W})}}Z?(n.next(new Gs({body:W,headers:T,status:S,statusText:R,url:N||void 0})),n.complete()):n.error(new jo({error:W,headers:T,status:S,statusText:R,url:N||void 0}))},_=T=>{const{url:S}=h(),R=new jo({error:T,status:i.status||0,statusText:i.statusText||"Unknown Error",url:S||void 0});n.error(R)};let y=!1;const C=T=>{y||(n.next(h()),y=!0);let S={type:Yt.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(S.total=T.total),"text"===e.responseType&&!!i.responseText&&(S.partialText=i.responseText),n.next(S)},w=T=>{let S={type:Yt.UploadProgress,loaded:T.loaded};T.lengthComputable&&(S.total=T.total),n.next(S)};return i.addEventListener("load",g),i.addEventListener("error",_),i.addEventListener("timeout",_),i.addEventListener("abort",_),e.reportProgress&&(i.addEventListener("progress",C),null!==u&&i.upload&&i.upload.addEventListener("progress",w)),i.send(u),n.next({type:Yt.Sent}),()=>{i.removeEventListener("error",_),i.removeEventListener("abort",_),i.removeEventListener("load",g),i.removeEventListener("timeout",_),e.reportProgress&&(i.removeEventListener("progress",C),null!==u&&i.upload&&i.upload.removeEventListener("progress",w)),i.readyState!==i.DONE&&i.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Uo))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const K_=new l.OlP("XSRF_COOKIE_NAME"),Jt=new l.OlP("XSRF_HEADER_NAME");class uc{}let gu=(()=>{class r{constructor(e,n,i){this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tt(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(U),l.LFG(l.Lbi),l.LFG(K_))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),q_=(()=>{class r{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return n.handle(e);const u=this.tokenService.getToken();return null!==u&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,u)})),n.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(uc),l.LFG(Jt))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),L0=(()=>{class r{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=this.injector.get(hu,[]);this.chain=n.reduceRight((i,u)=>new Wf(i,u),this.backend)}return this.chain.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(oc),l.LFG(l.zs3))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),X_=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:q_,useClass:Hs}]}}static withOptions(e={}){return{ngModule:r,providers:[e.cookieName?{provide:K_,useValue:e.cookieName}:[],e.headerName?{provide:Jt,useValue:e.headerName}:[]]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[q_,{provide:hu,useExisting:q_,multi:!0},{provide:uc,useClass:gu},{provide:K_,useValue:"XSRF-TOKEN"},{provide:Jt,useValue:"X-XSRF-TOKEN"}]}),r})(),lc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[Ur,{provide:Bs,useClass:L0},F0,{provide:oc,useExisting:F0}],imports:[X_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})();var mn=M(457),Vr=M(1135);const{isArray:fM}=Array,{getPrototypeOf:hM,prototype:J_,keys:hr}=Object;function dc(r){if(1===r.length){const t=r[0];if(fM(t))return{args:t,keys:null};if(function Zs(r){return r&&"object"==typeof r&&hM(r)===J_}(t)){const e=hr(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}var fc=M(4671);const{isArray:Q_}=Array;function ev(r){return(0,Ge.U)(t=>function k0(r,t){return Q_(t)?r(...t):r(t)}(r,t))}var _u=M(7669);function tv(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}var Nn=M(5403),U0=M(9672);function hc(...r){const t=(0,_u.yG)(r),e=(0,_u.jO)(r),{args:n,keys:i}=dc(r);if(0===n.length)return(0,mn.D)([],t);const u=new fi.y(function pc(r,t,e=fc.y){return n=>{V0(t,()=>{const{length:i}=r,u=new Array(i);let d=i,h=i;for(let g=0;g<i;g++)V0(t,()=>{const _=(0,mn.D)(r[g],t);let y=!1;_.subscribe((0,Nn.x)(n,C=>{u[g]=C,y||(y=!0,h--),h||n.next(e(u.slice()))},()=>{--d||n.complete()}))},n)},n)}}(n,t,i?d=>tv(i,d):fc.y));return e?u.pipe(ev(e)):u}function V0(r,t,e){r?(0,U0.f)(e,r,t):t()}var bi=M(8189);function $s(...r){return function zf(){return(0,bi.J)(1)}()((0,mn.D)(r,(0,_u.yG)(r)))}var vu=M(8421);function nv(r){return new fi.y(t=>{(0,vu.Xf)(r()).subscribe(t)})}var B0=M(9635),gc=M(576);function hi(r,t){const e=(0,gc.m)(r)?r:()=>r,n=i=>i.error(e());return new fi.y(t?i=>t.schedule(n,0,i):n)}const zs=(0,M(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var bt=M(515),Yf=M(727),Wn=M(4482);function mu(){return(0,Wn.e)((r,t)=>{let e=null;r._refCount++;const n=(0,Nn.x)(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const i=r._connection,u=e;e=null,i&&(!u||i===u)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}class Ys extends fi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Yf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Nn.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Yf.w0.EMPTY)}return t}refCount(){return mu()(this)}}var Pt=M(7579),zn=M(3900),Ks=M(5698),fn=M(5577);function qs(r){return(0,Wn.e)((t,e)=>{let n=!1;t.subscribe((0,Nn.x)(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function Xs(r=j0){return(0,Wn.e)((t,e)=>{let n=!1;t.subscribe((0,Nn.x)(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function j0(){return new zs}function Pi(r,t){const e=arguments.length>=2;return n=>n.pipe(r?(0,Xt.h)((i,u)=>r(i,u,n)):fc.y,(0,Ks.q)(1),e?qs(t):Xs(()=>new zs))}function Qt(r,t,e){const n=(0,gc.m)(r)||t||e?{next:r,error:t,complete:e}:r;return n?(0,Wn.e)((i,u)=>{var d;null===(d=n.subscribe)||void 0===d||d.call(n);let h=!0;i.subscribe((0,Nn.x)(u,g=>{var _;null===(_=n.next)||void 0===_||_.call(n,g),u.next(g)},()=>{var g;h=!1,null===(g=n.complete)||void 0===g||g.call(n),u.complete()},g=>{var _;h=!1,null===(_=n.error)||void 0===_||_.call(n,g),u.error(g)},()=>{var g,_;h&&(null===(g=n.unsubscribe)||void 0===g||g.call(n)),null===(_=n.finalize)||void 0===_||_.call(n)}))}):fc.y}var On=M(262),Kf=M(5026);function qf(r){return r<=0?()=>bt.E:(0,Wn.e)((t,e)=>{let n=[];t.subscribe((0,Nn.x)(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(const i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}function rv(r,t){const e=arguments.length>=2;return n=>n.pipe(r?(0,Xt.h)((i,u)=>r(i,u,n)):fc.y,qf(1),e?qs(t):Xs(()=>new zs))}function Xf(r){return(0,Wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}const ct="primary";class iv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qs(r){return new iv(r)}function pM(r,t,e){const n=e.path.split("/");if(n.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<r.length))return null;const i={};for(let u=0;u<n.length;u++){const d=n[u],h=r[u];if(d.startsWith(":"))i[d.substring(1)]=h;else if(d!==h.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function pi(r,t){const e=r?Object.keys(r):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let u=0;u<e.length;u++)if(i=e[u],!ov(r[i],t[i]))return!1;return!0}function ov(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),n=[...t].sort();return e.every((i,u)=>n[u]===i)}return r===t}function Eu(r){return Array.prototype.concat.apply([],r)}function Jf(r){return r.length>0?r[r.length-1]:null}function yn(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function so(r){return(0,l.CqO)(r)?r:(0,l.QGY)(r)?(0,mn.D)(Promise.resolve(r)):(0,Be.of)(r)}const Qf={exact:function yc(r,t,e){if(!ao(r.segments,t.segments)||!th(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!r.children[n]||!yc(r.children[n],t.children[n],e))return!1;return!0},subset:av},sv={exact:function mc(r,t){return pi(r,t)},subset:function ea(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>ov(r[e],t[e]))},ignored:()=>!0};function eh(r,t,e){return Qf[e.paths](r.root,t.root,e.matrixParams)&&sv[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function av(r,t,e){return uv(r,t,t.segments,e)}function uv(r,t,e,n){if(r.segments.length>e.length){const i=r.segments.slice(0,e.length);return!(!ao(i,e)||t.hasChildren()||!th(i,e,n))}if(r.segments.length===e.length){if(!ao(r.segments,e)||!th(r.segments,e,n))return!1;for(const i in t.children)if(!r.children[i]||!av(r.children[i],t.children[i],n))return!1;return!0}{const i=e.slice(0,r.segments.length),u=e.slice(r.segments.length);return!!(ao(r.segments,i)&&th(r.segments,i,n)&&r.children[ct])&&uv(r.children[ct],t,u,n)}}function th(r,t,e){return t.every((n,i)=>sv[e](r[i].parameters,n.parameters))}class gi{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qs(this.queryParams)),this._queryParamMap}toString(){return H0.serialize(this)}}class st{constructor(t,e){this.segments=t,this.children=e,this.parent=null,yn(e,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ec(this)}}class ta{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qs(this.parameters)),this._parameterMap}toString(){return W0(this)}}function ao(r,t){return r.length===t.length&&r.every((e,n)=>e.path===t[n].path)}class dv{}class fv{parse(t){const e=new wc(t);return new gi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cu(t.root,!0)}`,n=function pv(r){const t=Object.keys(r).map(e=>{const n=r[e];return Array.isArray(n)?n.map(i=>`${uo(e)}=${uo(i)}`).join("&"):`${uo(e)}=${uo(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function Z0(r){return encodeURI(r)}(t.fragment)}`:""}`}}const H0=new fv;function Ec(r){return r.segments.map(t=>W0(t)).join("/")}function Cu(r,t){if(!r.hasChildren())return Ec(r);if(t){const e=r.children[ct]?Cu(r.children[ct],!1):"",n=[];return yn(r.children,(i,u)=>{u!==ct&&n.push(`${u}:${Cu(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function cv(r,t){let e=[];return yn(r.children,(n,i)=>{i===ct&&(e=e.concat(t(n,i)))}),yn(r.children,(n,i)=>{i!==ct&&(e=e.concat(t(n,i)))}),e}(r,(n,i)=>i===ct?[Cu(r.children[ct],!1)]:[`${i}:${Cu(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ct]?`${Ec(r)}/${e[0]}`:`${Ec(r)}/(${e.join("//")})`}}function Fi(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uo(r){return Fi(r).replace(/%3B/gi,";")}function hv(r){return Fi(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(r){return decodeURIComponent(r)}function $0(r){return nh(r.replace(/\+/g,"%20"))}function W0(r){return`${hv(r.path)}${function vM(r){return Object.keys(r).map(t=>`;${hv(t)}=${hv(r[t])}`).join("")}(r.parameters)}`}const z0=/^[^\/()?;=#]+/;function Cc(r){const t=r.match(z0);return t?t[0]:""}const Y0=/^[^=?&#]+/,mM=/^[^&#]+/;class wc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ct]=new st(t,e)),n}parseSegment(){const t=Cc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new ta(nh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const i=Cc(this.remaining);i&&(n=i,this.capture(n))}t[nh(e)]=nh(n)}parseQueryParam(t){const e=function K0(r){const t=r.match(Y0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const d=function q0(r){const t=r.match(mM);return t?t[0]:""}(this.remaining);d&&(n=d,this.capture(n))}const i=$0(e),u=$0(n);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(u)}else t[i]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Cc(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let u;n.indexOf(":")>-1?(u=n.slice(0,n.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=ct);const d=this.parseChildren();e[u]=1===Object.keys(d).length?d[ct]:new st([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function Dc(r){return r.segments.length>0?new st([],{[ct]:r}):r}function pr(r){const t={};for(const n of Object.keys(r.children)){const u=pr(r.children[n]);(u.segments.length>0||u.hasChildren())&&(t[n]=u)}return function wu(r){if(1===r.numberOfChildren&&r.children[ct]){const t=r.children[ct];return new st(r.segments.concat(t.segments),t.children)}return r}(new st(r.segments,t))}function lo(r){return r instanceof gi}function CM(r,t,e,n,i){if(0===e.length)return co(t.root,t.root,t.root,n,i);const u=function rh(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Q0(!0,0,r);let t=0,e=!1;const n=r.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const h={};return yn(u.outlets,(g,_)=>{h[_]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,u]},[]);return new Q0(e,t,n)}(e);return u.toRoot()?co(t.root,t.root,new st([],{}),n,i):function d(g){const _=function tC(r,t,e,n){if(r.isAbsolute)return new na(t.root,!0,0);if(-1===n)return new na(e,e===t.root,0);return function gv(r,t,e){let n=r,i=t,u=e;for(;u>i;){if(u-=i,n=n.parent,!n)throw new l.vHH(4005,!1);i=n.segments.length}return new na(n,!1,i-u)}(e,n+(Go(r.commands[0])?0:1),r.numberOfDoubleDots)}(u,t,r.snapshot?._urlSegment,g),y=_.processChildren?Du(_.segmentGroup,_.index,u.commands):ra(_.segmentGroup,_.index,u.commands);return co(t.root,_.segmentGroup,y,n,i)}(r.snapshot?._lastPathIndex)}function Go(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ho(r){return"object"==typeof r&&null!=r&&r.outlets}function co(r,t,e,n,i){let d,u={};n&&yn(n,(g,_)=>{u[_]=Array.isArray(g)?g.map(y=>`${y}`):`${g}`}),d=r===t?e:J0(r,t,e);const h=Dc(pr(d));return new gi(h,u,i)}function J0(r,t,e){const n={};return yn(r.children,(i,u)=>{n[u]=i===t?e:J0(i,t,e)}),new st(r.segments,n)}class Q0{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Go(n[0]))throw new l.vHH(4003,!1);const i=n.find(Ho);if(i&&i!==Jf(n))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class na{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ra(r,t,e){if(r||(r=new st([],{})),0===r.segments.length&&r.hasChildren())return Du(r,t,e);const n=function ih(r,t,e){let n=0,i=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return u;const d=r.segments[i],h=e[n];if(Ho(h))break;const g=`${h}`,_=n<e.length-1?e[n+1]:null;if(i>0&&void 0===g)break;if(g&&_&&"object"==typeof _&&void 0===_.outlets){if(!mv(g,_,d))return u;n+=2}else{if(!mv(g,{},d))return u;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const u=new st(r.segments.slice(0,n.pathIndex),{});return u.children[ct]=new st(r.segments.slice(n.pathIndex),r.children),Du(u,0,i)}return n.match&&0===i.length?new st(r.segments,{}):n.match&&!r.hasChildren()?oh(r,t,e):n.match?Du(r,0,i):oh(r,t,e)}function Du(r,t,e){if(0===e.length)return new st(r.segments,{});{const n=function _v(r){return Ho(r[0])?r[0].outlets:{[ct]:r}}(e),i={};return yn(n,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=ra(r.children[d],t,u))}),yn(r.children,(u,d)=>{void 0===n[d]&&(i[d]=u)}),new st(r.segments,i)}}function oh(r,t,e){const n=r.segments.slice(0,t);let i=0;for(;i<e.length;){const u=e[i];if(Ho(u)){const g=sn(u.outlets);return new st(n,g)}if(0===i&&Go(e[0])){n.push(new ta(r.segments[t].path,vv(e[0]))),i++;continue}const d=Ho(u)?u.outlets[ct]:`${u}`,h=i<e.length-1?e[i+1]:null;d&&h&&Go(h)?(n.push(new ta(d,vv(h))),i+=2):(n.push(new ta(d,{})),i++)}return new st(n,{})}function sn(r){const t={};return yn(r,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=oh(new st([],{}),0,e))}),t}function vv(r){const t={};return yn(r,(e,n)=>t[n]=`${e}`),t}function mv(r,t,e){return r==e.path&&pi(t,e.parameters)}class Br{constructor(t,e){this.id=t,this.url=e}}class Mc extends Br{constructor(t,e,n="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zo extends Br{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sc extends Br{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yv extends Br{constructor(t,e,n,i){super(t,e),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nC extends Br{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rC extends Br{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wM extends Br{constructor(t,e,n,i,u){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DM extends Br{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu extends Br{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ev{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cv{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wv{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iC{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dv{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ah{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lh(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=lh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Mu(t,this._root).map(e=>e.value)}}function lh(r,t){if(r===t.value)return t;for(const e of t.children){const n=lh(r,e);if(n)return n}return null}function Mu(r,t){if(r===t.value)return[t];for(const e of t.children){const n=Mu(r,e);if(n.length)return n.unshift(t),n}return[]}class _i{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $o(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class fo extends oC{constructor(t,e){super(t),this.snapshot=e,Ic(this,t)}toString(){return this.snapshot.toString()}}function Tv(r,t){const e=function ch(r,t){const d=new Wo([],{},{},"",{},ct,t,null,r.root,-1,{});return new ho("",new _i(d,[]))}(r,t),n=new Vr.X([new ta("",{})]),i=new Vr.X({}),u=new Vr.X({}),d=new Vr.X({}),h=new Vr.X(""),g=new jr(n,i,d,h,u,ct,t,e.root);return g.snapshot=e.root,new fo(new _i(g,[]),e)}class jr{constructor(t,e,n,i,u,d,h,g){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=u,this.outlet=d,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(t=>Qs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(t=>Qs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mv(r,t="emptyOnly"){const e=r.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const i=e[n],u=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(u.component)break;n--}}return function dh(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Wo{constructor(t,e,n,i,u,d,h,g,_,y,C,w){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=u,this.outlet=d,this.component=h,this.routeConfig=g,this._urlSegment=_,this._lastPathIndex=y,this._correctedLastPathIndex=w??y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends oC{constructor(t,e){super(e),this.url=t,Ic(this,e)}toString(){return Ac(this._root)}}function Ic(r,t){t.value._routerState=r,t.children.forEach(e=>Ic(r,e))}function Ac(r){const t=r.children.length>0?` { ${r.children.map(Ac).join(", ")} } `:"";return`${r.value}${t}`}function fh(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,pi(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),pi(t.params,e.params)||r.params.next(e.params),function G0(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!pi(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),pi(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function hh(r,t){const e=pi(r.params,t.params)&&function lv(r,t){return ao(r,t)&&r.every((e,n)=>pi(e.parameters,t[n].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||hh(r.parent,t.parent))}function vi(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const i=function sC(r,t,e){return t.children.map(n=>{for(const i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return vi(r,n,i);return vi(r,n)})}(r,t,e);return new _i(n,i)}{if(r.shouldAttach(t.value)){const u=r.retrieve(t.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(h=>vi(r,h)),d}}const n=function aC(r){return new jr(new Vr.X(r.url),new Vr.X(r.params),new Vr.X(r.queryParams),new Vr.X(r.fragment),new Vr.X(r.data),r.outlet,r.component,r)}(t.value),i=t.children.map(u=>vi(r,u));return new _i(n,i)}}const ph="ngNavigationCancelingError";function Iv(r,t){const{redirectTo:e,navigationBehaviorOptions:n}=lo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=xc(!1,0,t);return i.url=e,i.navigationBehaviorOptions=n,i}function xc(r,t,e){const n=new Error("NavigationCancelingError: "+(r||""));return n[ph]=!0,n.cancellationCode=t,e&&(n.url=e),n}function Av(r){return gh(r)&&lo(r.url)}function gh(r){return r&&r[ph]}class uC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ia,this.attachRef=null}}class ia{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new uC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const _h=!1;let Oc=(()=>{class r{constructor(e,n,i,u,d){this.parentContexts=e,this.location=n,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||ct,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,_h);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,_h);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,_h);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new l.vHH(4013,_h);this._activatedRoute=e;const i=this.location,d=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new Su(e,h,i.injector);if(n&&function lC(r){return!!r.resolveComponentFactory}(n)){const _=n.resolveComponentFactory(d);this.activated=i.createComponent(_,i.length,g)}else this.activated=i.createComponent(d,{index:i.length,injector:g,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(ia),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},r.\u0275dir=l.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Su{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jr?this.route:t===ia?this.childContexts:this.parent.get(t,e)}}let zo=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&l._UZ(0,"router-outlet")},dependencies:[Oc],encapsulation:2}),r})();function oa(r,t){return r.providers&&!r._injector&&(r._injector=(0,l.MMx)(r.providers,t,`Route: ${r.path}`)),r._injector??t}function Iu(r){const t=r.children&&r.children.map(Iu),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ct&&(e.component=zo),e}function Mr(r){return r.outlet||ct}function Ov(r,t){const e=r.filter(n=>Mr(n)===t);return e.push(...r.filter(n=>Mr(n)!==t)),e}function Rc(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class IM{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=$o(e);t.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],n),delete i[d]}),yn(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,n)})}deactivateRoutes(t,e,n){const i=t.value,u=e?e.value:null;if(i===u)if(i.component){const d=n.getContext(i.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,n);else u&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,u=$o(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(n&&n.outlet){const d=n.outlet.detach(),h=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,u=$o(t);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=$o(e);t.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],n),this.forwardEvent(new Dv(u.value.snapshot))}),t.children.length&&this.forwardEvent(new wv(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,u=e?e.value:null;if(fh(i),i===u)if(i.component){const d=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const d=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),fh(h.route.value),this.activateChildRoutes(t,null,d.children)}else{const h=Rc(i.snapshot),g=h?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=g,d.injector=h,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,n)}}class bc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mh{constructor(t,e){this.component=t,this.route=e}}function AM(r,t,e){const n=r._root;return Pc(n,t?t._root:null,e,[n.value])}function yh(r,t,e){return(Rc(t)??e).get(r)}function Pc(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=$o(t);return r.children.forEach(d=>{(function hC(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,d=t?t.value:null,h=e?e.getContext(r.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const g=function Rv(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!ao(r.url,t.url);case"pathParamsOrQueryParamsChange":return!ao(r.url,t.url)||!pi(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hh(r,t)||!pi(r.queryParams,t.queryParams);default:return!hh(r,t)}}(d,u,u.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new bc(n)):(u.data=d.data,u._resolvedData=d._resolvedData),Pc(r,t,u.component?h?h.children:null:e,n,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new mh(h.outlet.component,d))}else d&&Yo(t,h,i),i.canActivateChecks.push(new bc(n)),Pc(r,null,u.component?h?h.children:null:e,n,i)})(d,u[d.value.outlet],e,n.concat([d.value]),i),delete u[d.value.outlet]}),yn(u,(d,h)=>Yo(d,e.getContext(h),i)),i}function Yo(r,t,e){const n=$o(r),i=r.value;yn(n,(u,d)=>{Yo(u,i.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new mh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function sa(r){return"function"==typeof r}const Fc=Symbol("INITIAL_VALUE");function Ko(){return(0,zn.w)(r=>hc(r.map(t=>t.pipe((0,Ks.q)(1),function _c(...r){const t=(0,_u.yG)(r);return(0,Wn.e)((e,n)=>{(t?$s(r,e,t):$s(r,e)).subscribe(n)})}(Fc)))).pipe((0,Ge.U)(t=>{for(const e of t)if(!0!==e){if(e===Fc)return Fc;if(!1===e||e instanceof gi)return e}return!0}),(0,Xt.h)(t=>t!==Fc),(0,Ks.q)(1)))}function Lv(r){return(0,B0.z)(Qt(t=>{if(lo(t))throw Iv(0,t)}),(0,Ge.U)(t=>!0===t))}const Rn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lc(r,t,e,n,i){const u=Nc(r,t,e);return u.matched?function DC(r,t,e,n){const i=t.canMatch;if(!i||0===i.length)return(0,Be.of)(!0);const u=i.map(d=>{const h=r.get(d),g=function Au(r){return r&&sa(r.canMatch)}(h)?h.canMatch(t,e):h(t,e);return so(g)});return(0,Be.of)(u).pipe(Ko(),Lv())}(n=oa(t,n),t,e).pipe((0,Ge.U)(d=>!0===d?u:{...Rn})):(0,Be.of)(u)}function Nc(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...Rn}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||pM)(e,r,t);if(!i)return{...Rn};const u={};yn(i.posParams,(h,g)=>{u[g]=h.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function aa(r,t,e,n,i="corrected"){if(e.length>0&&function Dh(r,t,e){return e.some(n=>kc(r,t,n)&&Mr(n)!==ct)}(r,e,n)){const d=new st(t,function xu(r,t,e,n){const i={};i[ct]=n,n._sourceSegment=r,n._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&Mr(u)!==ct){const d=new st([],{});d._sourceSegment=r,d._segmentIndexShift=t.length,i[Mr(u)]=d}return i}(r,t,n,new st(e,r.children)));return d._sourceSegment=r,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function TC(r,t,e){return e.some(n=>kc(r,t,n))}(r,e,n)){const d=new st(r.segments,function kn(r,t,e,n,i,u){const d={};for(const h of n)if(kc(r,e,h)&&!i[Mr(h)]){const g=new st([],{});g._sourceSegment=r,g._segmentIndexShift="legacy"===u?r.segments.length:t.length,d[Mr(h)]=g}return{...i,...d}}(r,t,e,n,r.children,i));return d._sourceSegment=r,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const u=new st(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function kc(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Th(r,t,e,n){return!!(Mr(r)===n||n!==ct&&kc(t,e,r))&&("**"===r.path||Nc(t,r,e).matched)}function Nv(r,t,e){return 0===t.length&&!r.children[e]}const Ou=!1;class Uc{constructor(t){this.segmentGroup=t||null}}class Mh{constructor(t){this.urlTree=t}}function Ru(r){return hi(new Uc(r))}function kv(r){return hi(new Mh(r))}class AC{constructor(t,e,n,i,u){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const t=aa(this.urlTree.root,[],[],this.config).segmentGroup,e=new st(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ct).pipe((0,Ge.U)(u=>this.createUrlTree(pr(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,On.K)(u=>{if(u instanceof Mh)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Uc?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ct).pipe((0,Ge.U)(i=>this.createUrlTree(pr(i),t.queryParams,t.fragment))).pipe((0,On.K)(i=>{throw i instanceof Uc?this.noMatchError(i):i}))}noMatchError(t){return new l.vHH(4002,Ou)}createUrlTree(t,e,n){const i=Dc(t);return new gi(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Ge.U)(u=>new st([],u))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const u of Object.keys(n.children))"primary"===u?i.unshift(u):i.push(u);return(0,mn.D)(i).pipe((0,no.b)(u=>{const d=n.children[u],h=Ov(e,u);return this.expandSegmentGroup(t,h,d,u).pipe((0,Ge.U)(g=>({segment:g,outlet:u})))}),(0,Kf.R)((u,d)=>(u[d.outlet]=d.segment,u),{}),rv())}expandSegment(t,e,n,i,u,d){return(0,mn.D)(n).pipe((0,no.b)(h=>this.expandSegmentAgainstRoute(t,e,n,h,i,u,d).pipe((0,On.K)(_=>{if(_ instanceof Uc)return(0,Be.of)(null);throw _}))),Pi(h=>!!h),(0,On.K)((h,g)=>{if(h instanceof zs||"EmptyError"===h.name)return Nv(e,i,u)?(0,Be.of)(new st([],{})):Ru(e);throw h}))}expandSegmentAgainstRoute(t,e,n,i,u,d,h){return Th(i,e,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,u,d):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,u,d):Ru(e):Ru(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const u=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kv(u):this.lineralizeSegments(n,u).pipe((0,fn.z)(d=>{const h=new st(d,{});return this.expandSegment(t,h,e,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,u,d){const{matched:h,consumedSegments:g,remainingSegments:_,positionalParamSegments:y}=Nc(e,i,u);if(!h)return Ru(e);const C=this.applyRedirectCommands(g,i.redirectTo,y);return i.redirectTo.startsWith("/")?kv(C):this.lineralizeSegments(i,C).pipe((0,fn.z)(w=>this.expandSegment(t,e,n,w.concat(_),d,!1)))}matchSegmentAgainstRoute(t,e,n,i,u){return"**"===n.path?(t=oa(n,t),n.loadChildren?(n._loadedRoutes?(0,Be.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(t,n)).pipe((0,Ge.U)(h=>(n._loadedRoutes=h.routes,n._loadedInjector=h.injector,new st(i,{})))):(0,Be.of)(new st(i,{}))):Lc(e,n,i,t).pipe((0,zn.w)(({matched:d,consumedSegments:h,remainingSegments:g})=>d?this.getChildConfig(t=n._injector??t,n,i).pipe((0,fn.z)(y=>{const C=y.injector??t,w=y.routes,{segmentGroup:T,slicedSegments:S}=aa(e,h,g,w),R=new st(T.segments,T.children);if(0===S.length&&R.hasChildren())return this.expandChildren(C,w,R).pipe((0,Ge.U)(ne=>new st(h,ne)));if(0===w.length&&0===S.length)return(0,Be.of)(new st(h,{}));const N=Mr(n)===u;return this.expandSegment(C,R,w,S,N?ct:u,!0).pipe((0,Ge.U)(Z=>new st(h.concat(Z.segments),Z.children)))})):Ru(e)))}getChildConfig(t,e,n){return e.children?(0,Be.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Be.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fv(r,t,e,n){const i=t.canLoad;if(void 0===i||0===i.length)return(0,Be.of)(!0);const u=i.map(d=>{const h=r.get(d),g=function Pv(r){return r&&sa(r.canLoad)}(h)?h.canLoad(t,e):h(t,e);return so(g)});return(0,Be.of)(u).pipe(Ko(),Lv())}(t,e,n).pipe((0,fn.z)(i=>i?this.configLoader.loadChildren(t,e).pipe(Qt(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function SC(r){return hi(xc(Ou,3))}())):(0,Be.of)({routes:[],injector:t})}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,Be.of)(n);if(i.numberOfChildren>1||!i.children[ct])return hi(new l.vHH(4e3,Ou));i=i.children[ct]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,i){const u=this.createSegmentGroup(t,e.root,n,i);return new gi(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return yn(t,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);n[u]=e[h]}else n[u]=i}),n}createSegmentGroup(t,e,n,i){const u=this.createSegments(t,e.segments,n,i);let d={};return yn(e.children,(h,g)=>{d[g]=this.createSegmentGroup(t,h,n,i)}),new st(u,d)}createSegments(t,e,n,i){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,i):this.findOrReturn(u,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new l.vHH(4001,Ou);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}class xC{}class bM{constructor(t,e,n,i,u,d,h,g){this.injector=t,this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const t=aa(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ct).pipe((0,Ge.U)(e=>{if(null===e)return null;const n=new Wo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _i(n,e),u=new ho(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(t){const e=t.value,n=Mv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,i)}processChildren(t,e,n){return(0,mn.D)(Object.keys(n.children)).pipe((0,no.b)(i=>{const u=n.children[i],d=Ov(e,i);return this.processSegmentGroup(t,d,u,i)}),(0,Kf.R)((i,u)=>i&&u?(i.push(...u),i):null),function Js(r,t=!1){return(0,Wn.e)((e,n)=>{let i=0;e.subscribe((0,Nn.x)(n,u=>{const d=r(u,i++);(d||t)&&n.next(u),!d&&n.complete()}))})}(i=>null!==i),qs(null),rv(),(0,Ge.U)(i=>{if(null===i)return null;const u=Vc(i);return function Uv(r){r.sort((t,e)=>t.value.outlet===ct?-1:e.value.outlet===ct?1:t.value.outlet.localeCompare(e.value.outlet))}(u),u}))}processSegment(t,e,n,i,u){return(0,mn.D)(e).pipe((0,no.b)(d=>this.processSegmentAgainstRoute(d._injector??t,d,n,i,u)),Pi(d=>!!d),(0,On.K)(d=>{if(d instanceof zs)return Nv(n,i,u)?(0,Be.of)([]):(0,Be.of)(null);throw d}))}processSegmentAgainstRoute(t,e,n,i,u){if(e.redirectTo||!Th(e,n,i,u))return(0,Be.of)(null);let d;if("**"===e.path){const h=i.length>0?Jf(i).parameters:{},g=Ih(n)+i.length,_=new Wo(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(e),Mr(e),e.component??e._loadedComponent??null,e,Vv(n),g,jv(e),g);d=(0,Be.of)({snapshot:_,consumedSegments:[],remainingSegments:[]})}else d=Lc(n,e,i,t).pipe((0,Ge.U)(({matched:h,consumedSegments:g,remainingSegments:_,parameters:y})=>{if(!h)return null;const C=Ih(n)+g.length;return{snapshot:new Wo(g,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(e),Mr(e),e.component??e._loadedComponent??null,e,Vv(n),C,jv(e),C),consumedSegments:g,remainingSegments:_}}));return d.pipe((0,zn.w)(h=>{if(null===h)return(0,Be.of)(null);const{snapshot:g,consumedSegments:_,remainingSegments:y}=h;t=e._injector??t;const C=e._loadedInjector??t,w=function PM(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(e),{segmentGroup:T,slicedSegments:S}=aa(n,_,y,w.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===S.length&&T.hasChildren())return this.processChildren(C,w,T).pipe((0,Ge.U)(N=>null===N?null:[new _i(g,N)]));if(0===w.length&&0===S.length)return(0,Be.of)([new _i(g,[])]);const R=Mr(e)===u;return this.processSegment(C,w,T,S,R?ct:u).pipe((0,Ge.U)(N=>null===N?null:[new _i(g,N)]))}))}}function mi(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Vc(r){const t=[],e=new Set;for(const n of r){if(!mi(n)){t.push(n);continue}const i=t.find(u=>n.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...n.children),e.add(i)):t.push(n)}for(const n of e){const i=Vc(n.children);t.push(new _i(n.value,i))}return t.filter(n=>!e.has(n))}function Vv(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ih(r){let t=r,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function la(r){return r.data||{}}function jv(r){return r.resolve||{}}const bu=Symbol("RouteTitle");function Oh(r){return"string"==typeof r.title||null===r.title}function Rh(r){return(0,zn.w)(t=>{const e=r(t);return e?(0,mn.D)(e).pipe((0,Ge.U)(()=>t)):(0,Be.of)(t)})}let Bc=(()=>{class r{buildTitle(e){let n,i=e.root;for(;void 0!==i;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(u=>u.outlet===ct);return n}getResolvedTitleForRoute(e){return e.data[bu]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:function(){return(0,l.f3M)(Zv)},providedIn:"root"}),r})(),Zv=(()=>{class r extends Bc{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ff))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class RC{}class PC extends class bC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bh=new l.OlP("",{providedIn:"root",factory:()=>({})}),Pu=new l.OlP("ROUTES");let jc=(()=>{class r{constructor(e,n){this.injector=e,this.compiler=n,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Be.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=so(e.loadComponent()).pipe(Qt(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),Xf(()=>{this.componentLoaders.delete(e)})),i=new Ys(n,()=>new Pt.x).pipe(mu());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,Be.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const u=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe((0,Ge.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(n);let g,_,y=!1;Array.isArray(h)?_=h:(g=h.create(e).injector,_=Eu(g.get(Pu,[],l.XFs.Self|l.XFs.Optional)));return{routes:_.map(Iu),injector:g}}),Xf(()=>{this.childrenLoaders.delete(n)})),d=new Ys(u,()=>new Pt.x).pipe(mu());return this.childrenLoaders.set(n,d),d}loadModuleFactoryOrRoutes(e){return so(e()).pipe((0,fn.z)(n=>n instanceof l.YKP||Array.isArray(n)?(0,Be.of)(n):(0,mn.D)(this.compiler.compileModuleAsync(n))))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(l.zs3),l.LFG(l.Sil))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();class Fh{}class LC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $v(r){throw r}function Wv(r,t,e){return t.parse("/")}const qo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Kv(){const r=(0,l.f3M)(dv),t=(0,l.f3M)(ia),e=(0,l.f3M)(se),n=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),u=(0,l.f3M)(Pu,{optional:!0})??[],d=(0,l.f3M)(bh,{optional:!0})??{},h=(0,l.f3M)(Zv),g=(0,l.f3M)(Bc,{optional:!0}),_=(0,l.f3M)(Fh,{optional:!0}),y=(0,l.f3M)(RC,{optional:!0}),C=new Un(null,r,t,e,n,i,Eu(u));return _&&(C.urlHandlingStrategy=_),y&&(C.routeReuseStrategy=y),C.titleStrategy=g??h,function Yv(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(d,C),C}let Un=(()=>{class r{constructor(e,n,i,u,d,h,g){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=u,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pt.x,this.errorHandler=$v,this.malformedUriErrorHandler=Wv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Be.of)(void 0),this.urlHandlingStrategy=new LC,this.routeReuseStrategy=new PC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(jc),this.configLoader.onLoadEndListener=w=>this.triggerEvent(new Ev(w)),this.configLoader.onLoadStartListener=w=>this.triggerEvent(new sh(w)),this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const C=d.get(l.R0b);this.isNgZoneEnabled=C instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function _M(){return new gi(new st([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tv(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const n=this.events;return e.pipe((0,Xt.h)(i=>0!==i.id),(0,Ge.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,zn.w)(i=>{let u=!1,d=!1;return(0,Be.of)(i).pipe(Qt(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zn.w)(h=>{const g=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return qv(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,Be.of)(h).pipe((0,zn.w)(C=>{const w=this.transitions.getValue();return n.next(new Mc(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),w!==this.transitions.getValue()?bt.E:Promise.resolve(C)}),function ua(r,t,e,n){return(0,zn.w)(i=>function IC(r,t,e,n,i){return new AC(r,t,e,n,i).apply()}(r,t,e,i.extractedUrl,n).pipe((0,Ge.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qt(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function Gv(r,t,e,n,i,u){return(0,fn.z)(d=>function RM(r,t,e,n,i,u,d="emptyOnly",h="legacy"){return new bM(r,t,e,n,i,d,h,u).recognize().pipe((0,zn.w)(g=>null===g?function OC(r){return new fi.y(t=>t.error(r))}(new xC):(0,Be.of)(g)))}(r,t,e,d.urlAfterRedirects,n.serialize(d.urlAfterRedirects),n,i,u).pipe((0,Ge.U)(h=>({...d,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Qt(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const T=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(T,C)}this.browserUrlTree=C.urlAfterRedirects}const w=new nC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);n.next(w)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:T,source:S,restoredState:R,extras:N}=h,W=new Mc(w,this.serializeUrl(T),S,R);n.next(W);const Z=Tv(T,this.rootComponentType).snapshot;return i={...h,targetSnapshot:Z,urlAfterRedirects:T,extras:{...N,skipLocationChange:!1,replaceUrl:!1}},(0,Be.of)(i)}return this.rawUrlTree=h.rawUrl,h.resolve(null),bt.E}),Qt(h=>{const g=new rC(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Ge.U)(h=>i={...h,guards:AM(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function _C(r,t){return(0,fn.z)(e=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=e;return 0===d.length&&0===u.length?(0,Be.of)({...e,guardsResult:!0}):function vC(r,t,e,n){return(0,mn.D)(r).pipe((0,fn.z)(i=>function wC(r,t,e,n,i){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Be.of)(!0);const d=u.map(h=>{const g=yh(h,t,i);return so(function Ch(r){return r&&sa(r.canDeactivate)}(g)?g.canDeactivate(r,t,e,n):g(r,t,e,n)).pipe(Pi())});return(0,Be.of)(d).pipe(Ko())}(i.component,i.route,e,t,n)),Pi(i=>!0!==i,!0))}(d,n,i,r).pipe((0,fn.z)(h=>h&&function bv(r){return"boolean"==typeof r}(h)?function mC(r,t,e,n){return(0,mn.D)(t).pipe((0,no.b)(i=>$s(function wh(r,t){return null!==r&&t&&t(new Cv(r)),(0,Be.of)(!0)}(i.route.parent,n),function yC(r,t){return null!==r&&t&&t(new iC(r)),(0,Be.of)(!0)}(i.route,n),function CC(r,t,e){const n=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(d=>function xM(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(d)).filter(d=>null!==d).map(d=>nv(()=>{const h=d.guards.map(g=>{const _=yh(g,d.node,e);return so(function pC(r){return r&&sa(r.canActivateChild)}(_)?_.canActivateChild(n,r):_(n,r)).pipe(Pi())});return(0,Be.of)(h).pipe(Ko())}));return(0,Be.of)(u).pipe(Ko())}(r,i.path,e),function EC(r,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,Be.of)(!0);const i=n.map(u=>nv(()=>{const d=yh(u,t,e);return so(function Eh(r){return r&&sa(r.canActivate)}(d)?d.canActivate(t,r):d(t,r)).pipe(Pi())}));return(0,Be.of)(i).pipe(Ko())}(r,i.route,e))),Pi(i=>!0!==i,!0))}(n,u,r,t):(0,Be.of)(h)),(0,Ge.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),Qt(h=>{if(i.guardsResult=h.guardsResult,lo(h.guardsResult))throw Iv(0,h.guardsResult);const g=new wM(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),(0,Xt.h)(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Rh(h=>{if(h.guards.canActivateChecks.length)return(0,Be.of)(h).pipe(Qt(g=>{const _=new DM(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,zn.w)(g=>{let _=!1;return(0,Be.of)(g).pipe(function Ah(r,t){return(0,fn.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Be.of)(e);let u=0;return(0,mn.D)(i).pipe((0,no.b)(d=>function Hv(r,t,e,n){const i=r.routeConfig,u=r._resolve;return void 0!==i?.title&&!Oh(i)&&(u[bu]=i.title),function FM(r,t,e,n){const i=function ca(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return(0,Be.of)({});const u={};return(0,mn.D)(i).pipe((0,fn.z)(d=>function xh(r,t,e,n){const i=yh(r,t,n);return so(i.resolve?i.resolve(t,e):i(t,e))}(r[d],t,e,n).pipe(Pi(),Qt(h=>{u[d]=h}))),qf(1),function yu(r){return(0,Ge.U)(()=>r)}(u),(0,On.K)(d=>d instanceof zs?bt.E:hi(d)))}(u,r,t,n).pipe((0,Ge.U)(d=>(r._resolvedData=d,r.data=Mv(r,e).resolve,i&&Oh(i)&&(r.data[bu]=i.title),null)))}(d.route,n,r,t)),Qt(()=>u++),qf(1),(0,fn.z)(d=>u===i.length?(0,Be.of)(e):bt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qt({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),Qt(g=>{const _=new Tu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}))}),Rh(h=>{const g=_=>{const y=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(_.routeConfig).pipe(Qt(C=>{_.component=C}),(0,Ge.U)(()=>{})));for(const C of _.children)y.push(...g(C));return y};return hc(g(h.targetSnapshot.root)).pipe(qs(),(0,Ks.q)(1))}),Rh(()=>this.afterPreactivation()),(0,Ge.U)(h=>{const g=function Sv(r,t,e){const n=vi(r,t._root,e?e._root:void 0);return new fo(n,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),Qt(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((r,t,e)=>(0,Ge.U)(n=>(new IM(t,n.targetRouterState,n.currentRouterState,e).activate(r),n)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),Qt({next(){u=!0},complete(){u=!0}}),Xf(()=>{u||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,On.K)(h=>{if(d=!0,gh(h)){Av(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Sc(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(n.next(g),Av(h)){const _=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qv(i.source)};this.scheduleNavigation(_,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new yv(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);n.next(g);try{i.resolve(this.errorHandler(h))}catch(_){i.reject(_)}}return bt.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{const i={replaceUrl:!0},u=e.state?.navigationId?e.state:null;if(u){const h={...u};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,n,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Iu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:h,preserveFragment:g}=n,_=i||this.routerState.root,y=g?this.currentUrlTree.fragment:d;let C=null;switch(h){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),CM(_,this.currentUrlTree,e,C,y??null)}navigateByUrl(e,n={skipLocationChange:!1}){const i=lo(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function Hc(r){for(let t=0;t<r.length;t++){if(null==r[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return n}isActive(e,n){let i;if(i=!0===n?{...qo}:!1===n?{...zv}:n,lo(e))return eh(this.currentUrlTree,e,i);const u=this.parseUrl(e);return eh(this.currentUrlTree,u,i)}removeEmptyProps(e){return Object.keys(e).reduce((n,i)=>{const u=e[i];return null!=u&&(n[i]=u),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Zo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,n,i,u,d){if(this.disposed)return Promise.resolve(!1);let h,g,_;d?(h=d.resolve,g=d.reject,_=d.promise):_=new Promise((w,T)=>{h=w,g=T});const y=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:y,targetPageId:C,source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:h,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(w=>Promise.reject(w))}setBrowserUrl(e,n){const i=this.urlSerializer.serialize(e),u={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,n,i){const u=new Sc(e.id,this.serializeUrl(e.extractedUrl),n,i);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return r.\u0275fac=function(e){l.$Z()},r.\u0275prov=l.Yz7({token:r,factory:function(){return Kv()},providedIn:"root"}),r})();function qv(r){return"imperative"!==r}let Fu=(()=>{class r{constructor(e,n,i,u,d){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new Pt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const n=this.renderer,i=this.el.nativeElement;null!==e?n.setAttribute(i,"tabindex",e):n.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Un),l.Y36(jr),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},r.\u0275dir=l.lG2({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,n){1&e&&l.NdJ("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),r})(),Li=(()=>{class r{constructor(e,n,i){this.router=e,this.route=n,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Pt.x,this.subscription=e.events.subscribe(u=>{u instanceof Zo&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,i,u,d){if(0!==e||n||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,l.D6c)(this.skipLocationChange),replaceUrl:(0,l.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,l.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Un),l.Y36(jr),l.Y36(j))},r.\u0275dir=l.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,n){1&e&&l.NdJ("click",function(u){return n.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&l.uIk("target",n.target)("href",n.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),r})(),Lh=(()=>{class r{constructor(e,n,i,u,d,h){this.router=e,this.element=n,this.renderer=i,this.cdr=u,this.link=d,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof Zo&&this.update()})}ngAfterContentInit(){(0,Be.of)(this.links.changes,this.linksWithHrefs.changes,(0,Be.of)(null)).pipe((0,bi.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=(0,mn.D)(e).pipe((0,bi.J)()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function Nh(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Un),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Fu,8),l.Y36(Li,8))},r.\u0275dir=l.lG2({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,i){if(1&e&&(l.Suo(i,Fu,5),l.Suo(i,Li,5)),2&e){let u;l.iGM(u=l.CRH())&&(n.links=u),l.iGM(u=l.CRH())&&(n.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[l.TTD]}),r})();class kh{}let Bh=(()=>{class r{constructor(e,n,i,u,d){this.router=e,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xt.h)(e=>e instanceof Zo),(0,no.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const i=[];for(const u of n){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,e,`Route: ${u.path}`));const d=u._injector??e,h=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(h,u.children??u._loadedRoutes))}return(0,mn.D)(i).pipe((0,bi.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;i=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,Be.of)(null);const u=i.pipe((0,fn.z)(d=>null===d?(0,Be.of)(void 0):(n._loadedRoutes=d.routes,n._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(n.loadComponent&&!n._loadedComponent){const d=this.loader.loadComponent(n);return(0,mn.D)([u,d]).pipe((0,bi.J)())}return u})}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Un),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(kh),l.LFG(jc))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Zc=new l.OlP("");let Xv=(()=>{class r{constructor(e,n,i={}){this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Zo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ah&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new ah(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){l.$Z()},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const Jv=new l.OlP("ROUTER_FORROOT_GUARD"),jh=new l.OlP(""),NC=[se,{provide:dv,useClass:fv},{provide:Un,useFactory:Kv},ia,{provide:jr,useFactory:function kC(r){return r.routerState.root},deps:[Un]},jc];function Qv(){return new l.PXZ("Router",Un)}let Lu=(()=>{class r{constructor(e){}static forRoot(e,n){return{ngModule:r,providers:[NC,[],Gh(e),{provide:Jv,useFactory:UC,deps:[[Un,new l.FiY,new l.tp0]]},{provide:bh,useValue:n||{}},n?.useHash?{provide:j,useClass:fe}:{provide:j,useClass:de},{provide:Zc,useFactory:()=>{const r=(0,l.f3M)(Un),t=(0,l.f3M)(tM),e=(0,l.f3M)(bh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Xv(r,t,e)}},n?.preloadingStrategy?rm(n.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:Qv},n?.initialNavigation?Gr(n):[],[{provide:nm,useFactory:VC},{provide:l.tb,multi:!0,useExisting:nm}]]}}static forChild(e){return{ngModule:r,providers:[Gh(e)]}}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Jv,8))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();function UC(r){return"guarded"}function Gh(r){return[{provide:Pu,multi:!0,useValue:r}]}function VC(){const r=(0,l.f3M)(l.zs3);return t=>{const e=r.get(l.z2F);if(t!==e.components[0])return;const n=r.get(Un),i=r.get(Hh);1===r.get(Zh)&&n.initialNavigation(),r.get(jh,null,l.XFs.Optional)?.setUpPreloading(),r.get(Zc,null,l.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const nm=new l.OlP("");function Gr(r){return["disabled"===r.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const r=(0,l.f3M)(Un);return()=>{r.setUpLocationChangeListener()}}},{provide:Zh,useValue:2}]:[],"enabledBlocking"===r.initialNavigation?[{provide:Zh,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:r=>{const t=r.get(X,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(i=>{const u=r.get(Un),d=r.get(Hh);(function n(i){r.get(Un).events.pipe((0,Xt.h)(d=>d instanceof Zo||d instanceof Sc||d instanceof yv),(0,Ge.U)(d=>d instanceof Zo||d instanceof Sc&&(0===d.code||1===d.code)&&null),(0,Xt.h)(d=>null!==d),(0,Ks.q)(1)).subscribe(()=>{i()})})(()=>{i(!0),e=!0}),u.afterPreactivation=()=>(i(!0),e||d.closed?(0,Be.of)(void 0):d),u.initialNavigation()}))}}]:[]]}const Hh=new l.OlP("",{factory:()=>new Pt.x}),Zh=new l.OlP("",{providedIn:"root",factory:()=>1});function rm(r){return[Bh,{provide:jh,useExisting:Bh},{provide:kh,useExisting:r}]}const ZC=[];let $C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Lu.forRoot(ZC),Lu]}),r})(),$h=(()=>{class r{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.Qsj),l.Y36(l.SBq))},r.\u0275dir=l.lG2({type:r}),r})(),po=(()=>{class r extends $h{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,features:[l.qOj]}),r})();const Hr=new l.OlP("NgValueAccessor"),om={provide:Hr,useExisting:(0,l.Gpc)(()=>Xo),multi:!0},sm=new l.OlP("CompositionEventMode");let Xo=(()=>{class r extends $h{constructor(e,n,i){super(e,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zC(){const r=q()?q().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(sm,8))},r.\u0275dir=l.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&l.NdJ("input",function(u){return n._handleInput(u.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(u){return n._compositionEnd(u.target.value)})},features:[l._Bn([om]),l.qOj]}),r})();function Jo(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}const hn=new l.OlP("NgValidators"),er=new l.OlP("NgAsyncValidators"),KC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function qC(r){return Jo(r.value)?{required:!0}:null}function JC(r){return Jo(r.value)||KC.test(r.value)?null:{email:!0}}function zc(r){return null}function Qo(r){return null!=r}function cm(r){return(0,l.QGY)(r)?(0,mn.D)(r):r}function Yh(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Nu(r,t){return t.map(e=>e(r))}function Kh(r){return r.map(t=>function ew(r){return!r.validate}(t)?t:e=>t.validate(e))}function qh(r){return null!=r?function dm(r){if(!r)return null;const t=r.filter(Qo);return 0==t.length?null:function(e){return Yh(Nu(e,t))}}(Kh(r)):null}function Xh(r){return null!=r?function fm(r){if(!r)return null;const t=r.filter(Qo);return 0==t.length?null:function(e){return function rt(...r){const t=(0,_u.jO)(r),{args:e,keys:n}=dc(r),i=new fi.y(u=>{const{length:d}=e;if(!d)return void u.complete();const h=new Array(d);let g=d,_=d;for(let y=0;y<d;y++){let C=!1;(0,vu.Xf)(e[y]).subscribe((0,Nn.x)(u,w=>{C||(C=!0,_--),h[y]=w},()=>g--,void 0,()=>{(!g||!C)&&(_||u.next(n?tv(n,h):h),u.complete())}))}});return t?i.pipe(ev(t)):i}(Nu(e,t).map(cm)).pipe((0,Ge.U)(Yh))}}(Kh(r)):null}function hm(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Yc(r){return r?Array.isArray(r)?r:[r]:[]}function ku(r,t){return Array.isArray(r)?r.includes(t):r===t}function Kc(r,t){const e=Yc(t);return Yc(r).forEach(i=>{ku(e,i)||e.push(i)}),e}function tw(r,t){return Yc(t).filter(e=>!ku(r,e))}class qc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Yn extends qc{get formDirective(){return null}get path(){return null}}class es extends qc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ts{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let go=(()=>{class r extends ts{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(es,2))},r.\u0275dir=l.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&l.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[l.qOj]}),r})(),Kn=(()=>{class r extends ts{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Yn,10))},r.\u0275dir=l.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&l.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[l.qOj]}),r})();const Uu="VALID",ed="INVALID",ns="PENDING",td="DISABLED";function sp(r){return(rd(r)?r.validators:r)||null}function aw(r){return Array.isArray(r)?qh(r):r||null}function nd(r,t){return(rd(t)?t.asyncValidators:r)||null}function ap(r){return Array.isArray(r)?Xh(r):r||null}function rd(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class lw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=aw(this._rawValidators),this._composedAsyncValidatorFn=ap(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Uu}get invalid(){return this.status===ed}get pending(){return this.status==ns}get disabled(){return this.status===td}get enabled(){return this.status!==td}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=aw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ap(t)}addValidators(t){this.setValidators(Kc(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Kc(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tw(t,this._rawAsyncValidators))}hasValidator(t){return ku(this._rawValidators,t)}hasAsyncValidator(t){return ku(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ns,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=td,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uu,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uu||this.status===ns)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?td:Uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator=!0;const e=cm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?td:this.errors?ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(ed)?ed:Uu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class _m extends lw{constructor(t,e,n){super(sp(e),nd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function uw(r,t,e){r._forEachChild((n,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function id(r,t,e){const n=r.controls;if(!(t?Object.keys(n):n).length)throw new l.vHH(1e3,"");if(!n[e])throw new l.vHH(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,u)=>{n=e(n,i,u)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function od(r,t){dp(r,t),t.valueAccessor.writeValue(r.value),r.disabled&&t.valueAccessor.setDisabledState?.(!0),function fp(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&sd(r,t)})}(r,t),function cw(r,t){const e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function vm(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&sd(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function cp(r,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function $r(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dp(r,t){const e=function Jh(r){return r._rawValidators}(r);null!==t.validator?r.setValidators(hm(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const n=function pm(r){return r._rawAsyncValidators}(r);null!==t.asyncValidator?r.setAsyncValidators(hm(n,t.asyncValidator)):"function"==typeof n&&r.setAsyncValidators([n]);const i=()=>r.updateValueAndValidity();$r(t._rawValidators,i),$r(t._rawAsyncValidators,i)}function sd(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const ad={provide:Yn,useExisting:(0,l.Gpc)(()=>rs)},ki=(()=>Promise.resolve(null))();let rs=(()=>{class r extends Yn{constructor(e,n){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new _m({},qh(e),Xh(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ki.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),od(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ki.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ki.then(()=>{const n=this._findContainer(e.path),i=new _m({});(function Ni(r,t){dp(r,t)})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ki.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){ki.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Bu(r,t){r._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(hn,10),l.Y36(er,10))},r.\u0275dir=l.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&l.NdJ("submit",function(u){return n.onSubmit(u)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ad]),l.qOj]}),r})();function _p(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function vp(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ud=class extends lw{constructor(t=null,e,n){super(sp(e),nd(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=vp(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_p(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_p(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){vp(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},wm={provide:es,useExisting:(0,l.Gpc)(()=>En)},Dm=(()=>Promise.resolve(null))();let En=(()=>{class r extends es{constructor(e,n,i,u,d){super(),this._changeDetectorRef=d,this.control=new ud,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=function _o(r,t){if(!t)return null;let e,n,i;return Array.isArray(t),t.forEach(u=>{u.constructor===Xo?e=u:function fw(r){return Object.getPrototypeOf(r.constructor)===po}(u)?n=u:i=u}),i||n||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function pp(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){od(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Dm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,i=0!==n&&(0,l.D6c)(n);Dm.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function up(r,t){return[...t.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Yn,9),l.Y36(hn,10),l.Y36(er,10),l.Y36(Hr,10),l.Y36(l.sBO,8))},r.\u0275dir=l.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([wm]),l.qOj,l.TTD]}),r})(),da=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=l.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const gw={provide:Hr,useExisting:(0,l.Gpc)(()=>Tm),multi:!0};let Tm=(()=>{class r extends po{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,n){1&e&&l.NdJ("input",function(u){return n.onChange(u.target.value)})("blur",function(){return n.onTouched()})},features:[l._Bn([gw]),l.qOj]}),r})(),yp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();const bm={provide:Hr,useExisting:(0,l.Gpc)(()=>dd),multi:!0};function Pm(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let dd=(()=>{class r extends po{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=Pm(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){const n=function ww(r){return r.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n):e}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,n){1&e&&l.NdJ("change",function(u){return n.onChange(u.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([bm]),l.qOj]}),r})(),fd=(()=>{class r{constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Pm(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(dd,9))},r.\u0275dir=l.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Dw={provide:Hr,useExisting:(0,l.Gpc)(()=>wp),multi:!0};function Fm(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let wp=(()=>{class r extends po{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let n;if(this.value=e,Array.isArray(e)){const i=e.map(u=>this._getOptionId(u));n=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else n=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{const i=[],u=n.selectedOptions;if(void 0!==u){const d=u;for(let h=0;h<d.length;h++){const _=this._getOptionValue(d[h].value);i.push(_)}}else{const d=n.options;for(let h=0;h<d.length;h++){const g=d[h];if(g.selected){const _=this._getOptionValue(g.value);i.push(_)}}}this.value=i,e(i)}}_registerOption(e){const n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){const n=function hd(r){return r.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,n){1&e&&l.NdJ("change",function(u){return n.onChange(u.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Dw]),l.qOj]}),r})(),Dp=(()=>{class r{constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Fm(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Fm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(wp,9))},r.\u0275dir=l.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();function Tp(r){return"number"==typeof r?r:parseFloat(r)}let fa=(()=>{class r{constructor(){this._validator=zc}ngOnChanges(e){if(this.inputName in e){const n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):zc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=l.lG2({type:r,features:[l.TTD]}),r})();const GM={provide:hn,useExisting:(0,l.Gpc)(()=>Hu),multi:!0};let Hu=(()=>{class r extends fa{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>Tp(e),this.createValidator=e=>function um(r){return t=>{if(Jo(t.value)||Jo(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(e)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,n){2&e&&l.uIk("max",n._enabled?n.max:null)},inputs:{max:"max"},features:[l._Bn([GM]),l.qOj]}),r})();const HM={provide:hn,useExisting:(0,l.Gpc)(()=>Mp),multi:!0};let Mp=(()=>{class r extends fa{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>Tp(e),this.createValidator=e=>function Wc(r){return t=>{if(Jo(t.value)||Jo(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(e)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,n){2&e&&l.uIk("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[l._Bn([HM]),l.qOj]}),r})();const Nm={provide:hn,useExisting:(0,l.Gpc)(()=>vo),multi:!0};let vo=(()=>{class r extends fa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=e=>qC}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,n){2&e&&l.uIk("required",n._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Nm]),l.qOj]}),r})();const Ip={provide:hn,useExisting:(0,l.Gpc)(()=>gr),multi:!0};let gr=(()=>{class r extends fa{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.D6c,this.createValidator=e=>JC}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([Ip]),l.qOj]}),r})();const gd={provide:hn,useExisting:(0,l.Gpc)(()=>is),multi:!0};let is=(()=>{class r extends fa{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function pd(r){return"number"==typeof r?r:parseInt(r,10)}(e),this.createValidator=e=>function lm(r){return t=>Jo(t.value)||!function Wh(r){return null!=r&&"number"==typeof r.length}(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(e)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=l.n5z(r)))(n||r)}}(),r.\u0275dir=l.lG2({type:r,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,n){2&e&&l.uIk("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([gd]),l.qOj]}),r})(),Tw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[yp]}),r})(),WM=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[Tw]}),r})();var Ut=M(2997);const $u="[Auth] Login Start",Bm="[Auth] Login Auto",Op="[Auth] Signup Start",Rp="[Auth] Login ",jm="[Auth] Login Fail",Wu="[Auth] Logout",Ui="[Auth] Logout Start",Sw="[Auth] Logout Fail",ha="[User] Update",bp="[User] Update Start",Hm="[User] Update Fail",Wr="[App] App Message";class zu{constructor(t){this.payload=t,this.type=$u}}class Vn{constructor(t){this.payload=t,this.type=Op}}class os{constructor(){this.type=Bm}}class md{constructor(t){this.payload=t,this.type=Rp}}class _r{constructor(t){this.payload=t,this.type=Ui}}class Pp{constructor(){this.type=Wu}}class pa{constructor(t){this.payload=t,this.type=Sw}}class ga{constructor(t){this.payload=t,this.type=jm}}class mo{constructor(t){this.payload=t,this.type=bp}}class _a{constructor(t){this.payload=t,this.type=Hm}}class va{constructor(t){this.payload=t,this.type=Wr}}class ma{constructor(t){this.payload=t,this.type=ha}}let Bn=(()=>{class r{constructor(){this.title=new l.vpe,this.hideAlertTimeoutId=new l.vpe,this.alertType=new l.vpe,this.alertIsLoading=new l.vpe,this.alertMessage=new l.vpe,this.alertIsLoading.emit(!1)}setPageTitle(e){this.title.emit(e)}setAlertRef(e){this.alertRef=e}showAlert(e,n="",i=4){if(this.hideAlertTimeoutIdProperty&&(clearTimeout(this.hideAlertTimeoutIdProperty),this.hideAlertTimeoutIdProperty=null,this.hideAlertTimeoutId.emit(null)),"loadingSpinner"===e)this.alertIsLoading.emit(!0),this.alertRef.nativeElement.classList.remove("alert-hide"),this.alertType.emit("success");else{this.alertRef.nativeElement.classList.remove("alert-hide"),this.alertIsLoading.emit(!1),this.alertMessage.emit(n),this.alertType.emit(e);const u=setTimeout(()=>{this.hideAlert()},1e3*i);this.hideAlertTimeoutIdProperty=u,this.hideAlertTimeoutId.emit(u)}}hideAlert(){this.alertRef.nativeElement.classList.add("alert-hide")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Zt={production:!0,domain:""};let ss=(()=>{class r{constructor(e,n,i){this.http=e,this.store=n,this.generalServices=i,this.loadedBookings=null,this.bookings=new Pt.x,this.bookingsError=new Pt.x,this.loadedReviews=null,this.reviews=new Pt.x,this.reviewsError=new Pt.x,this.addedReview=new Pt.x,this.addedReviewError=new Pt.x,this.editedReview=new Pt.x,this.editedReviewError=new Pt.x,this.deletedReview=new Pt.x,this.deletedReviewError=new Pt.x,this.storeSub=this.store.select("auth").subscribe(u=>{this.user=u.user})}getUserReviews(){if(this.user){if(this.loadedReviews)return void this.reviews.next(this.loadedReviews);this.http.get(`${Zt.domain}api/v1/users/${this.user.id}/reviews`).subscribe({next:e=>{this.loadedReviews=e.data.data,this.reviews.next(e.data.data)},error:e=>{this.reviewsError.next("error")}})}}addReview(e,n){console.log("adding review... ",n),this.http.post(`${Zt.domain}api/v1/tours/${e.tourId}/reviews`,n).subscribe({next:i=>{i.data.data.user={photo:this.user?.photo,name:this.user.name},i.data.data.tour={imageCover:e.imageCover,name:e.name},this.addedReview.next(i.data.data);const u=[i.data.data,...this.loadedReviews];this.loadedReviews=u,this.reviews.next(this.loadedReviews)},error:i=>{this.addedReviewError.next(i)}})}deleteReview(e){this.http.delete(`${Zt.domain}api/v1/reviews/${e}`).subscribe({next:()=>{const n=this.loadedReviews?.findIndex(i=>i.id===e);this.loadedReviews?.splice(n,1),this.reviews.next(this.loadedReviews),this.deletedReview.next("successfull")},error:n=>{this.generalServices.showAlert("error","Something went wrong, Please try again"),this.deletedReviewError.next(n)}})}editReview(e,n){console.log({data:n}),this.http.patch(`${Zt.domain}api/v1/reviews/${e}`,n).subscribe({next:i=>{const u=this.loadedReviews?.findIndex(d=>d.id===e);this.loadedReviews?.splice(u,1,i.data.data),this.reviews.next(this.loadedReviews),this.editedReview.next(i.data.data)},error:i=>{this.editedReviewError.next(i)}})}getAccountBookings(){if(this.user){if(this.loadedBookings)return void this.bookings.next(this.loadedBookings);this.http.get(`${Zt.domain}api/v1/users/${this.user.id}/bookings`).subscribe({next:e=>{this.loadedBookings=e.data.data,this.bookings.next(e.data.data)},error:e=>{this.bookingsError.next("error")}})}}clearBookings(){this.loadedBookings=null}clearReviews(){this.loadedReviews=null}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ur),l.LFG(Ut.yh),l.LFG(Bn))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function $m(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"div",6)(1,"a",7),l.NdJ("click",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.logOut())}),l._uU(2,"Log out"),l.qZA(),l.TgZ(3,"a",8),l._UZ(4,"img",9),l.TgZ(5,"span",10),l._uU(6),l.qZA()()()}if(2&r){const e=l.oxw();l.xp6(4),l.Q6J("src",e.environment.domain+"img/users/"+e.user.photo,l.LSH)("alt","photo of "+e.user.name),l.xp6(2),l.Oqu(e.user.name.split(" ")[0])}}function Wm(r,t){1&r&&(l.TgZ(0,"div",6)(1,"a",11),l._uU(2,"Log in"),l.qZA(),l.TgZ(3,"button",12),l._uU(4,"Sign up"),l.qZA()())}let zm=(()=>{class r{constructor(e,n){this.store=e,this.accountService=n,this.environment=Zt}ngOnInit(){setTimeout(()=>{this.storeSub=this.store.select("auth").pipe((0,Ge.U)(e=>e.user)).subscribe(e=>{this.user=e})},0)}logOut(){this.store.dispatch(new _r),this.accountService.clearBookings(),this.accountService.clearReviews()}ngOnDestroy(){this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Ut.yh),l.Y36(ss))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-header"]],decls:8,vars:3,consts:[[1,"header"],[1,"nav","nav--tours"],["routerLink","/",1,"nav__el"],[1,"header__logo"],["alt","Natours logo",3,"src"],["class","nav nav nav--user",4,"ngIf"],[1,"nav","nav","nav--user"],[1,"nav__el",3,"click"],["routerLink","/me",1,"nav__el"],[1,"nav__user-img",3,"src","alt"],[1,"nav__user-name"],["routerLink","/login",1,"nav__el"],["routerLink","/signup",1,"nav__el","nav__el--cta"]],template:function(e,n){1&e&&(l.TgZ(0,"header",0)(1,"nav",1)(2,"a",2),l._uU(3,"All tours "),l.qZA()(),l.TgZ(4,"div",3),l._UZ(5,"img",4),l.qZA(),l.YNc(6,$m,7,3,"div",5),l.YNc(7,Wm,5,0,"div",5),l.qZA()),2&e&&(l.xp6(5),l.Q6J("src",n.environment.domain+"img/logo-white.png",l.LSH),l.xp6(1),l.Q6J("ngIf",n.user),l.xp6(1),l.Q6J("ngIf",!n.user))},dependencies:[lr,Fu,Li]}),r})(),Ym=(()=>{class r{constructor(){this.environment=Zt}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-footer"]],decls:26,vars:1,consts:[[1,"footer"],[1,"footer__logo"],["alt","Natours logo",3,"src"],[1,"footer__nav"],["href","#"],[1,"footer__copyright"],["href","https://abdelrhmannawar.netlify.app/","target","_blank"]],template:function(e,n){1&e&&(l.TgZ(0,"footer",0)(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"ul",3)(4,"li")(5,"a",4),l._uU(6,"About us"),l.qZA()(),l.TgZ(7,"li")(8,"a",4),l._uU(9,"Download apps"),l.qZA()(),l.TgZ(10,"li")(11,"a",4),l._uU(12,"Become a guide"),l.qZA()(),l.TgZ(13,"li")(14,"a",4),l._uU(15,"Careers"),l.qZA()(),l.TgZ(16,"li")(17,"a",4),l._uU(18,"Contanct"),l.qZA()(),l.TgZ(19,"li")(20,"a",4),l._uU(21,"About us"),l.qZA()()(),l.TgZ(22,"p",5),l._uU(23," \xa9 by Jonas Scmedtmann. coded by "),l.TgZ(24,"a",6),l._uU(25,"Abdelrhman Nawwar"),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("src",n.environment.domain+"img/logo-green.png",l.LSH))}}),r})(),Xu=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-loading-spinner"]],decls:10,vars:0,consts:[[1,"spinner__container"],[1,"lds-roller"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),l.qZA()())},styles:['.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:rgb(147,255,75);margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner__container[_ngcontent-%COMP%]{position:relative;min-height:100%;width:100%;display:flex;justify-content:center;align-items:center}']}),r})();const Km=["alert"];function Iw(r,t){1&r&&l._UZ(0,"app-loading-spinner",2)}let Aw=(()=>{class r{constructor(e){this.GeneralService=e,this.isAuthenticated=!1,this.isLoading=!1,this.error="",this.alertType="success",this.alertIsLoading=!1}ngOnInit(){this.alertTypeSub=this.GeneralService.alertType.subscribe(e=>{this.alertType=e}),this.alertIsLoadingSub=this.GeneralService.alertIsLoading.subscribe(e=>{this.alertIsLoading=e}),this.alertMessageSub=this.GeneralService.alertMessage.subscribe(e=>{this.alertMessage=e})}ngAfterViewInit(){this.GeneralService.setAlertRef(this.alert)}onDestroy(){this.storeSub&&this.storeSub.unsubscribe(),this.alertTypeSub.unsubscribe(),this.alertIsLoadingSub.unsubscribe(),this.alertMessageSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-alert"]],viewQuery:function(e,n){if(1&e&&l.Gf(Km,5),2&e){let i;l.iGM(i=l.CRH())&&(n.alert=i.first)}},decls:4,vars:4,consts:[["alert",""],["style","text-align: center",4,"ngIf"],[2,"text-align","center"]],template:function(e,n){1&e&&(l.TgZ(0,"div",null,0),l._uU(2),l.YNc(3,Iw,1,0,"app-loading-spinner",1),l.qZA()),2&e&&(l.Tol("alert alert--"+n.alertType+" alert-hide"),l.xp6(2),l.hij(" ",n.alertIsLoading?"":n.alertMessage," "),l.xp6(1),l.Q6J("ngIf",n.alertIsLoading))},dependencies:[lr,Xu]}),r})(),xw=(()=>{class r{constructor(e,n){this.genaralService=e,this.store=n}ngOnInit(){this.titleSub=this.genaralService.title.subscribe(e=>{this.title=e})}ngAfterViewInit(){this.store.dispatch(new os)}onDestroy(){this.titleSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn),l.Y36(Ut.yh))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main"]],template:function(e,n){1&e&&(l._UZ(0,"app-header")(1,"app-alert"),l.TgZ(2,"main",0),l._UZ(3,"router-outlet"),l.qZA(),l._UZ(4,"app-footer"))},dependencies:[Oc,zm,Ym,Aw]}),r})();function qm(r,t){1&r&&(l.TgZ(0,"span",14),l._uU(1," Email is required "),l.qZA())}function Ow(r,t){1&r&&(l.TgZ(0,"span",14),l._uU(1," Invalid email format! "),l.qZA())}function Xm(r,t){1&r&&(l.TgZ(0,"span",14),l._uU(1," Password is required "),l.qZA())}let Fp=(()=>{class r{constructor(e,n){this.genaralService=e,this.store=n,this.isLoading=!1,this.genaralService.setPageTitle("Login")}ngOnInit(){this.storeSub=this.store.select("auth").subscribe(e=>{this.isLoading=e.loading})}onSubmit(e){e.valid&&this.store.dispatch(new zu({email:e.value.email,password:e.value.password}))}onDestroy(){this.storeSub&&this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn),l.Y36(Ut.yh))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"login-form"],[1,"heading-secondary","ma-bt-lg"],[1,"form--login",3,"ngSubmit"],["f","ngForm"],[1,"form__group"],["for","email",1,"form__label"],["id","email","type","email","placeholder","you@example.com","required","","email","","ngModel","","name","email",1,"form__input"],["email","ngModel"],["class","text-danger",4,"ngIf"],[1,"form__group","ma-bt-md"],["for","password",1,"form__label"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","password","","ngModel","","name","password",1,"form__input"],["password","ngModel"],["type","submit",1,"btn","btn--green",3,"disabled"],[1,"text-danger"]],template:function(e,n){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Log into your account"),l.qZA(),l.TgZ(3,"form",2,3),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(4);return l.KtG(n.onSubmit(d))}),l.TgZ(5,"div",4)(6,"label",5),l._uU(7,"Email address"),l.qZA(),l._UZ(8,"input",6,7),l.YNc(10,qm,2,0,"span",8),l.YNc(11,Ow,2,0,"span",8),l.qZA(),l.TgZ(12,"div",9)(13,"label",10),l._uU(14,"Password"),l.qZA(),l._UZ(15,"input",11,12),l.YNc(17,Xm,2,0,"span",8),l.qZA(),l.TgZ(18,"div",4)(19,"button",13),l._uU(20),l.qZA()()()()}if(2&e){const i=l.MAs(4),u=l.MAs(9),d=l.MAs(16);l.xp6(10),l.Q6J("ngIf",(u.touched||i.submitted)&&(null==u.errors?null:u.errors.required)),l.xp6(1),l.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.email)),l.xp6(6),l.Q6J("ngIf",(d.touched||i.submitted)&&(null==d.errors?null:d.errors.required)),l.xp6(2),l.Q6J("disabled",!i.valid||n.isLoading),l.xp6(1),l.hij(" ",n.isLoading?"Logging in ...":"Login"," ")}},dependencies:[lr,da,Xo,go,Kn,vo,gr,En,rs]}),r})(),yd=(()=>{class r{patternValidator(){return e=>e.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(e.value)?null:{invalidPassword:!0}:null}MatchPassword(e,n){return i=>{const u=i.controls[e],d=i.controls[n];return!u||!d||d.errors&&!d.errors.passwordMismatch?null:u.value!==d.value?(d.setErrors({passwordMismatch:!0}),null):(d.setErrors(null),null)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Jm=(()=>{class r{constructor(e){this.customValidator=e,this.MatchPassword=[]}validate(e){return this.customValidator.MatchPassword(this.MatchPassword[0],this.MatchPassword[1])(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(yd))},r.\u0275dir=l.lG2({type:r,selectors:[["","appMatchPassword",""]],inputs:{MatchPassword:["appMatchPassword","MatchPassword"]},features:[l._Bn([{provide:hn,useExisting:r,multi:!0}])]}),r})(),Ju=(()=>{class r{constructor(e){this.customValidator=e}validate(e){return this.customValidator.patternValidator()(e)}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(yd))},r.\u0275dir=l.lG2({type:r,selectors:[["","appPasswordPattern",""]],features:[l._Bn([{provide:hn,useExisting:r,multi:!0}])]}),r})();function Ed(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Name is required "),l.qZA())}function Lp(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Email is required "),l.qZA())}function Rw(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Invalid email format! "),l.qZA())}function Np(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Password is required "),l.qZA())}function kp(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),l.qZA())}function Qm(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Password confirmation is required "),l.qZA())}function ey(r,t){1&r&&(l.TgZ(0,"span",25),l._uU(1," Passwords does not match "),l.qZA())}const Up=function(){return["password","passwordConfirm"]};let ty=(()=>{class r{constructor(e,n){this.genaralService=e,this.store=n,this.isLoading=!1,this.selectedUser="user",this.genaralService.setPageTitle("Sign up")}ngOnInit(){this.storeSub=this.store.select("auth").subscribe(e=>{this.isLoading=e.loading})}onSubmit(e){e.valid&&this.store.dispatch(new Vn({name:e.value.name,email:e.value.email,password:e.value.password,passwordConfirm:e.value.passwordConfirm,role:e.value.role}))}onDestroy(){this.storeSub&&this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn),l.Y36(Ut.yh))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-signup"]],decls:45,vars:11,consts:[[1,"login-form"],[1,"heading-secondary","ma-bt-lg"],[1,"form--login",3,"appMatchPassword","ngSubmit"],["f","ngForm"],[1,"form__group"],["for","name",1,"form__label"],["id","name","type","text","placeholder","name","required","","ngModel","","name","name",1,"form__input"],["name","ngModel"],["class","text-danger",4,"ngIf"],["for","email",1,"form__label"],["id","email","type","email","placeholder","you@example.com","required","","email","","ngModel","","name","email",1,"form__input"],["email","ngModel"],[1,"form__group","ma-bt-md"],["for","password",1,"form__label"],["appPasswordPattern","","id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","password","","ngModel","","name","password",1,"form__input"],["password","ngModel"],["for","passwordConfirm",1,"form__label"],["id","passwordConfirm","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","minlength","8","required","","password","","ngModel","","name","passwordConfirm",1,"form__input"],["passwordConfirm","ngModel"],["for","role",1,"form__label"],["id","role","required","","name","role",1,"form__input",3,"ngModel","ngModelChange"],["value","user"],["value","admin"],["value","lead-guide"],["type","submit",1,"btn","btn--green"],[1,"text-danger"]],template:function(e,n){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Create a new account"),l.qZA(),l.TgZ(3,"form",2,3),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(4);return l.KtG(n.onSubmit(d))}),l.TgZ(5,"div",4)(6,"label",5),l._uU(7,"Name"),l.qZA(),l._UZ(8,"input",6,7),l.YNc(10,Ed,2,0,"span",8),l.qZA(),l.TgZ(11,"div",4)(12,"label",9),l._uU(13,"Email address"),l.qZA(),l._UZ(14,"input",10,11),l.YNc(16,Lp,2,0,"span",8),l.YNc(17,Rw,2,0,"span",8),l.qZA(),l.TgZ(18,"div",12)(19,"label",13),l._uU(20,"Password"),l.qZA(),l._UZ(21,"input",14,15),l.YNc(23,Np,2,0,"span",8),l.YNc(24,kp,2,0,"span",8),l.qZA(),l.TgZ(25,"div",12)(26,"label",16),l._uU(27,"Password Confirm"),l.qZA(),l._UZ(28,"input",17,18),l.YNc(30,Qm,2,0,"span",8),l.YNc(31,ey,2,0,"span",8),l.qZA(),l.TgZ(32,"div",12)(33,"label",19),l._uU(34,"Role"),l.qZA(),l.TgZ(35,"select",20),l.NdJ("ngModelChange",function(d){return n.selectedUser=d}),l.TgZ(36,"option",21),l._uU(37,"User"),l.qZA(),l.TgZ(38,"option",22),l._uU(39,"Admin"),l.qZA(),l.TgZ(40,"option",23),l._uU(41,"Lead-guide"),l.qZA()()(),l.TgZ(42,"div",4)(43,"button",24),l._uU(44),l.qZA()()()()}if(2&e){const i=l.MAs(4),u=l.MAs(9),d=l.MAs(15),h=l.MAs(22),g=l.MAs(29);l.xp6(3),l.Q6J("appMatchPassword",l.DdM(10,Up)),l.xp6(7),l.Q6J("ngIf",(u.touched||i.submitted)&&(null==u.errors?null:u.errors.required)),l.xp6(6),l.Q6J("ngIf",(d.touched||i.submitted)&&(null==d.errors?null:d.errors.required)),l.xp6(1),l.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.email)),l.xp6(6),l.Q6J("ngIf",(h.touched||i.submitted)&&(null==h.errors?null:h.errors.required)),l.xp6(1),l.Q6J("ngIf",h.touched&&(null==h.errors?null:h.errors.invalidPassword)),l.xp6(6),l.Q6J("ngIf",(g.touched||i.submitted)&&(null==g.errors?null:g.errors.required)),l.xp6(1),l.Q6J("ngIf",g.touched&&(null==g.errors?null:g.errors.passwordMismatch)),l.xp6(4),l.Q6J("ngModel",n.selectedUser),l.xp6(9),l.hij(" ",n.isLoading?"Signing up ...":"Sign up"," ")}},dependencies:[lr,da,fd,Dp,Xo,dd,go,Kn,vo,is,gr,En,rs,Jm,Ju]}),r})();const Cd="[Tours] Load Tours Start ",wd="[Tours] Load Tours ",Vp="[Tours] Load Tours Fail ";class ry{constructor(){this.type=Cd}}class iy{constructor(t){this.payload=t,this.type=wd}}class bw{constructor(t){this.payload=t,this.type=Vp}}let Qu=(()=>{class r{constructor(e,n,i){this.http=e,this.store=n,this.generalServices=i,this.tours=[],this.toursUpdated=new Pt.x,this.loadedTour=null,this.BookedTourSession=new Pt.x,this.BookedTourSessionError=new Pt.x,this.storeSub=this.store.select("auth").subscribe(u=>{this.user=u.user})}getTour(e){return this.http.get(`${Zt.domain}api/v1/tours/slug/${e}`)}bookTour(e){this.generalServices.showAlert("loadingSpinner"),this.http.get(`${Zt.domain}api/v1/bookings/checkout-session/${e}`).subscribe({next:n=>{this.generalServices.hideAlert(),window.location=n.session.url},error:n=>{this.generalServices.showAlert("error","Something went wrong, Try again later!")}})}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ur),l.LFG(Ut.yh),l.LFG(Bn))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),oy=(()=>{class r{constructor(){this.environment=Zt}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-tour"]],inputs:{index:"index",tour:"tour"},decls:48,vars:17,consts:[[1,"card"],[1,"card__header"],[1,"card__picture"],[1,"card__picture-overlay"],[1,"card__picture-img",3,"src","alt"],[1,"heading-tertirary"],[1,"card__details"],[1,"card__sub-heading"],[1,"card__text"],[1,"card__data"],[1,"card__icon"],["href","./assets/img/icons.svg#icon-map-pin"],["href","./assets/img/icons.svg#icon-calendar"],["href","./assets/img/icons.svg#icon-flag"],["href","./assets/img/icons.svg#icon-user"],[1,"card__footer"],[1,"card__footer-value"],[1,"card__footer-text"],[1,"card__ratings"],[1,"btn","btn--green","btn--small",3,"routerLink"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._uU(4,"\xa0"),l.qZA(),l._UZ(5,"img",4),l.qZA(),l.TgZ(6,"h3",5)(7,"span"),l._uU(8),l.qZA()()(),l.TgZ(9,"div",6)(10,"h4",7),l._uU(11),l.qZA(),l.TgZ(12,"p",8),l._uU(13),l.qZA(),l.TgZ(14,"div",9),l.O4$(),l.TgZ(15,"svg",10),l._UZ(16,"use",11),l.qZA(),l.kcU(),l.TgZ(17,"span"),l._uU(18),l.qZA()(),l.TgZ(19,"div",9),l.O4$(),l.TgZ(20,"svg",10),l._UZ(21,"use",12),l.qZA(),l.kcU(),l.TgZ(22,"span"),l._uU(23),l.ALo(24,"date"),l.qZA()(),l.TgZ(25,"div",9),l.O4$(),l.TgZ(26,"svg",10),l._UZ(27,"use",13),l.qZA(),l.kcU(),l.TgZ(28,"span"),l._uU(29),l.qZA()(),l.TgZ(30,"div",9),l.O4$(),l.TgZ(31,"svg",10),l._UZ(32,"use",14),l.qZA(),l.kcU(),l.TgZ(33,"span"),l._uU(34),l.qZA()()(),l.TgZ(35,"div",15)(36,"p")(37,"span",16),l._uU(38),l.qZA(),l.TgZ(39,"span",17),l._uU(40," per person"),l.qZA()(),l.TgZ(41,"p",18)(42,"span",16),l._uU(43),l.qZA(),l.TgZ(44,"span",17),l._uU(45),l.qZA()(),l.TgZ(46,"a",19),l._uU(47,"Details"),l.qZA()()()),2&e&&(l.xp6(5),l.Q6J("src",n.environment.domain+"img/tours/"+n.tour.imageCover,l.LSH)("alt",n.tour.name),l.xp6(3),l.Oqu(n.tour.name),l.xp6(3),l.AsE(" ",n.tour.difficulty," ",n.tour.duration,"-day tour "),l.xp6(2),l.hij(" ",n.tour.summary," "),l.xp6(5),l.Oqu(n.tour.startLocation.description),l.xp6(5),l.Oqu(l.xi3(24,14,n.tour.startDates[0],"MMMM y")),l.xp6(6),l.hij("",n.tour.locations.length," stops"),l.xp6(5),l.hij("",n.tour.maxGroupSize," people"),l.xp6(4),l.hij("$",n.tour.price,""),l.xp6(5),l.Oqu(n.tour.ratingsAverage),l.xp6(2),l.hij(" rating (",n.tour.ratingsQuantity,")"),l.xp6(1),l.Q6J("routerLink","tour/"+n.tour.slug))},dependencies:[Li,zl]}),r})();function sy(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"button",3),l.NdJ("click",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.retry())}),l._uU(1," Retry "),l.qZA()}}let el=(()=>{class r{constructor(){this.fireRetry=new l.vpe}ngOnInit(){}retry(){this.fireRetry.emit("")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-component-message"]],inputs:{message:"message",isError:"isError"},outputs:{fireRetry:"fireRetry"},decls:4,vars:2,consts:[[2,"width","100%","min-height","100%","display","flex","justify-content","center","align-items","center","flex-direction","column","gap","2rem","text-align","center"],[1,"component-message__text",2,"font-size","4rem"],["class","btn btn--green",3,"click",4,"ngIf"],[1,"btn","btn--green",3,"click"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2),l.qZA(),l.YNc(3,sy,2,0,"button",2),l.qZA()),2&e&&(l.xp6(2),l.Oqu(n.message),l.xp6(1),l.Q6J("ngIf",n.isError))},dependencies:[lr]}),r})();function ay(r,t){1&r&&l._UZ(0,"app-loading-spinner")}function uy(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"app-component-message",4),l.NdJ("fireRetry",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.retryFetchTours())}),l.qZA()}if(2&r){const e=l.oxw();l.Q6J("message",e.error)("isError",!!e.error)}}function ly(r,t){if(1&r&&l._UZ(0,"app-tour",5),2&r){const n=t.index;l.Q6J("tour",t.$implicit)("index",n)}}let cy=(()=>{class r{constructor(e,n,i,u){this.toursService=e,this.store=n,this.route=i,this.generalService=u,this.tours=null,this.isLoading=!0,this.error=""}ngOnInit(){this.storeSub=this.store.select("tours").subscribe(e=>{null!==e.tours&&(this.isLoading=!1),this.tours=e.tours,this.isLoading=e.loading,this.error=e.errMessage}),null===this.tours&&this.loadTours()}loadTours(){this.store.dispatch(new ry)}retryFetchTours(){this.loadTours()}ngAfterViewInit(){this.route.queryParams.subscribe(e=>{"booking"===e.alert&&this.generalService.showAlert("success","Successfully booked the tour.")})}ngOnDestroy(){this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Qu),l.Y36(Ut.yh),l.Y36(jr),l.Y36(Bn))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-tours"]],decls:4,vars:3,consts:[[1,"card-container"],[4,"ngIf"],[3,"message","isError","fireRetry",4,"ngIf"],[3,"tour","index",4,"ngFor","ngForOf"],[3,"message","isError","fireRetry"],[3,"tour","index"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0),l.YNc(1,ay,1,0,"app-loading-spinner",1),l.YNc(2,uy,1,2,"app-component-message",2),l.YNc(3,ly,1,2,"app-tour",3),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",n.isLoading),l.xp6(1),l.Q6J("ngIf",n.error),l.xp6(1),l.Q6J("ngForOf",n.tours))},dependencies:[Lr,lr,oy,Xu,el]}),r})(),Dd=(()=>{class r{constructor(e,n){this.accountService=e,this.generalService=n,this.formData=new Pt.x,this.formVisibility=new Pt.x,this.formProcess=new Pt.x,this.updatedReview=new Pt.x,this.addedReview=new Pt.x,this.accountService.addedReview.subscribe(i=>{null!==i&&(console.log("addedReview",i),this.addedReview.next(i),this.formProcess.next(!1),this.generalService.showAlert("success","The review was successfully added"),this.formVisibility.next(!1))}),this.accountService.editedReview.subscribe(i=>{null!==i&&(this.updatedReview.next(i),this.formProcess.next(!1),this.generalService.showAlert("success","The review was successfully updated"),this.formVisibility.next(!1))}),this.addedReviewErrorSub=this.accountService.addedReviewError.subscribe(i=>{this.formProcess.next(!1),console.log({error:i}),this.generalService.showAlert("error","Error while adding the Review. Please Try again!")}),this.addedReviewErrorSub=this.accountService.editedReviewError.subscribe(i=>{this.formProcess.next(!1),console.log({error:i}),this.generalService.showAlert("error","Error while updating the Review. Please Try again!")})}setContainerRef(e){this.formRef=e}showReviewForm(e){this.formData.next(e),this.formVisibility.next(!0),this.tourId=e.tourData.tourId,this.tour=e.tourData,this.formMode=e.mode,this.reviewId=e.reviewData?.reviewId}handleReviewForm(e,n){this.formProcess.next(!0),"adding"===this.formMode?this.accountService.addReview(this.tour,{review:e,rating:n}):"editing"===this.formMode&&this.accountService.editReview(this.reviewId,{review:e,rating:n})}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(ss),l.LFG(Bn))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function pt(){return function(){throw new Error("Unimplemented abstract method.")}()}var Fw=0;function Dt(r){return r.ol_uid||(r.ol_uid=String(++Fw))}function Hp(r){return r[0]>0&&r[1]>0}function zr(r,t){return Array.isArray(r)?r:(void 0===t?t=[r,r]:(t[0]=r,t[1]=r),t)}var dy=function(){function r(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=zr(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return r.prototype.clone=function(){var t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getDeclutterMode=function(){return this.declutterMode_},r.prototype.getAnchor=function(){return pt()},r.prototype.getImage=function(t){return pt()},r.prototype.getHitDetectionImage=function(){return pt()},r.prototype.getPixelRatio=function(t){return 1},r.prototype.getImageState=function(){return pt()},r.prototype.getImageSize=function(){return pt()},r.prototype.getOrigin=function(){return pt()},r.prototype.getSize=function(){return pt()},r.prototype.setDisplacement=function(t){this.displacement_=t},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=zr(t)},r.prototype.listenImageChange=function(t){pt()},r.prototype.load=function(){pt()},r.prototype.unlistenImageChange=function(t){pt()},r}();const fy=dy;var r,hy=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),py=function(r){function t(e){var n=this,u="Assertion failed. See https://openlayers.org/en/v"+"6.15.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=r.call(this,u)||this).code=e,n.name="AssertionError",n.message=u,n}return hy(t,r),t}(Error);const as=py;function gt(r,t){if(!r)throw new as(t)}function an(r,t,e){return Math.min(Math.max(r,t),e)}var gy="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Nw="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function _y(r,t,e,n,i,u){var d=i-e,h=u-n;if(0!==d||0!==h){var g=((r-e)*d+(t-n)*h)/(d*d+h*h);g>1?(e=i,n=u):g>0&&(e+=d*g,n+=h*g)}return tl(r,t,e,n)}function tl(r,t,e,n){var i=e-r,u=n-t;return i*i+u*u}function vr(r){return r*Math.PI/180}function ya(r,t){var e=r%t;return e*t<0?e+t:e}function yo(r,t,e){return r+e*(t-r)}function Ir(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e}function tr(r,t){return Math.floor(Ir(r,t))}function nl(r,t){return Math.ceil(Ir(r,t))}var Zp=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,yy=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ey(r){return"string"==typeof r?r:$p(r)}var t,e,kw=(t={},e=0,function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var u=0;for(var d in t)0==(3&u++)&&(delete t[d],--e)}i=function rl(r){var t,e,n,i,u;if(yy.exec(r)&&(r=function Cy(r){var t=document.createElement("div");if(t.style.color=r,""!==t.style.color){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}return""}(r)),Zp.exec(r)){var h,d=r.length-1;h=d<=4?1:2;var g=4===d||8===d;t=parseInt(r.substr(1+0*h,h),16),e=parseInt(r.substr(1+1*h,h),16),n=parseInt(r.substr(1+2*h,h),16),i=g?parseInt(r.substr(1+3*h,h),16):255,1==h&&(t=(t<<4)+t,e=(e<<4)+e,n=(n<<4)+n,g&&(i=(i<<4)+i)),u=[t,e,n,i/255]}else 0==r.indexOf("rgba(")?wy(u=r.slice(5,-1).split(",").map(Number)):0==r.indexOf("rgb(")?((u=r.slice(4,-1).split(",").map(Number)).push(1),wy(u)):gt(!1,14);return u}(n),t[n]=i,++e}return i});function Ea(r){return Array.isArray(r)?r:kw(r)}function wy(r){return r[0]=an(r[0]+.5|0,0,255),r[1]=an(r[1]+.5|0,0,255),r[2]=an(r[2]+.5|0,0,255),r[3]=an(r[3],0,1),r}function $p(r){var t=r[0];t!=(0|t)&&(t=t+.5|0);var e=r[1];e!=(0|e)&&(e=e+.5|0);var n=r[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+e+","+n+","+(void 0===r[3]?1:Math.round(100*r[3])/100)+")"}function Yr(r){return Array.isArray(r)?$p(r):r}var Vi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Td=-1!==Vi.indexOf("firefox"),Dy=(-1!==Vi.indexOf("safari")&&-1==Vi.indexOf("chrom")&&(Vi.indexOf("version/15.4")>=0||Vi.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==Vi.indexOf("webkit")&&-1==Vi.indexOf("edge")),Wp=-1!==Vi.indexOf("macintosh"),il=typeof devicePixelRatio<"u"?devicePixelRatio:1,Ca=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Ty=typeof Image<"u"&&Image.prototype.decode,zp=function(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r}();function nr(r,t,e,n){var i;return i=e&&e.length?e.shift():Ca?new OffscreenCanvas(r||300,t||300):document.createElement("canvas"),r&&(i.width=r),t&&(i.height=t),i.getContext("2d",n)}function Yp(r){var t=r.canvas;t.width=1,t.height=1,r.clearRect(0,0,1,1)}function My(r){var t=r.offsetWidth,e=getComputedStyle(r);return t+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10))}function Sy(r){var t=r.offsetHeight,e=getComputedStyle(r);return t+(parseInt(e.marginTop,10)+parseInt(e.marginBottom,10))}function Kp(r,t){var e=t.parentNode;e&&e.replaceChild(r,t)}function Md(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function Iy(r){for(;r.lastChild;)r.removeChild(r.lastChild)}var jw=function(){function r(t){this.type=t,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}();const Bi=jw;var Gw=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}();const qp=Gw;function us(r,t){return r>t?1:r<t?-1:0}function Xp(r,t,e){var n=r.length;if(r[0]<=t)return 0;if(t<=r[n-1])return n-1;var i=void 0;if(e>0){for(i=1;i<n;++i)if(r[i]<t)return i-1}else if(e<0){for(i=1;i<n;++i)if(r[i]<=t)return i}else for(i=1;i<n;++i){if(r[i]==t)return i;if(r[i]<t)return"function"==typeof e?e(t,r[i-1],r[i])>0?i-1:i:r[i-1]-t<t-r[i]?i-1:i}return n-1}function Hw(r,t,e){for(;t<e;){var n=r[t];r[t]=r[e],r[e]=n,++t,--e}}function Ay(r,t){for(var e=Array.isArray(t)?t:[t],n=e.length,i=0;i<n;i++)r[r.length]=e[i]}function Eo(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function ls(){return!0}function ol(){return!1}function Co(){}var pn="function"==typeof Object.assign?Object.assign:function(r,t){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),n=1,i=arguments.length;n<i;++n){var u=arguments[n];if(null!=u)for(var d in u)u.hasOwnProperty(d)&&(e[d]=u[d])}return e};function Da(r){for(var t in r)delete r[t]}var wo="function"==typeof Object.values?Object.values:function(r){var t=[];for(var e in r)t.push(r[e]);return t};function sl(r){var t;for(t in r)return!1;return!t}var zw=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ta=function(r){function t(e){var n=r.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return zw(t,r),t.prototype.addEventListener=function(e,n){if(e&&n){var i=this.listeners_||(this.listeners_={}),u=i[e]||(i[e]=[]);-1===u.indexOf(n)&&u.push(n)}},t.prototype.dispatchEvent=function(e){var n="string"==typeof e,i=n?e:e.type,u=this.listeners_&&this.listeners_[i];if(u){var d=n?new Bi(e):e;d.target||(d.target=this.eventTarget_||this);var h=this.dispatching_||(this.dispatching_={}),g=this.pendingRemovals_||(this.pendingRemovals_={});i in h||(h[i]=0,g[i]=0),++h[i];for(var _,y=0,C=u.length;y<C;++y)if(!1===(_="handleEvent"in u[y]?u[y].handleEvent(d):u[y].call(this,d))||d.propagationStopped){_=!1;break}if(0==--h[i]){var w=g[i];for(delete g[i];w--;)this.removeEventListener(i,Co);delete h[i]}return _}},t.prototype.disposeInternal=function(){this.listeners_&&Da(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,n){var i=this.listeners_&&this.listeners_[e];if(i){var u=i.indexOf(n);-1!==u&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[u]=Co,++this.pendingRemovals_[e]):(i.splice(u,1),0===i.length&&delete this.listeners_[e]))}},t}(qp);const al=Ta;function Ct(r,t,e,n,i){if(n&&n!==r&&(e=e.bind(n)),i){var u=e;e=function(){r.removeEventListener(t,e),u.apply(this,arguments)}}var d={target:r,type:t,listener:e};return r.addEventListener(t,e),d}function ul(r,t,e,n){return Ct(r,t,e,n,!0)}function Ft(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Da(r))}var lS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),je=function(r){function t(){var e=r.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return lS(t,r),t.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,n){if(Array.isArray(e)){for(var i=e.length,u=new Array(i),d=0;d<i;++d)u[d]=Ct(this,e[d],n);return u}return Ct(this,e,n)},t.prototype.onceInternal=function(e,n){var i;if(Array.isArray(e)){var u=e.length;i=new Array(u);for(var d=0;d<u;++d)i[d]=ul(this,e[d],n)}else i=ul(this,e,n);return n.ol_key=i,i},t.prototype.unInternal=function(e,n){var i=n.ol_key;if(i)!function Yw(r){if(Array.isArray(r))for(var t=0,e=r.length;t<e;++t)Ft(r[t]);else Ft(r)}(i);else if(Array.isArray(e))for(var u=0,d=e.length;u<d;++u)this.removeEventListener(e[u],n);else this.removeEventListener(e,n)},t}(al);const Ry=je;var by=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cs=function(r){function t(e,n,i){var u=r.call(this,e)||this;return u.key=n,u.oldValue=i,u}return by(t,r),t}(Bi),Kw=function(r){function t(e){var n=r.call(this)||this;return Dt(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return by(t,r),t.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&pn({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,n){var i;i="change:".concat(e),this.hasListener(i)&&this.dispatchEvent(new cs(i,e,n)),this.hasListener(i="propertychange")&&this.dispatchEvent(new cs(i,e,n))},t.prototype.addChangeListener=function(e,n){this.addEventListener("change:".concat(e),n)},t.prototype.removeChangeListener=function(e,n){this.removeEventListener("change:".concat(e),n)},t.prototype.set=function(e,n,i){var u=this.values_||(this.values_={});if(i)u[e]=n;else{var d=u[e];u[e]=n,d!==n&&this.notify(e,d)}},t.prototype.setProperties=function(e,n){for(var i in e)this.set(i,e[i],n)},t.prototype.applyProperties=function(e){!e.values_||pn(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],sl(this.values_)&&(this.values_=null),n||this.notify(e,i)}},t}(Ry);const rr=Kw;var ds="ol-hidden",Jp="ol-unselectable",Sd="ol-control",Py="ol-collapsed",Fy=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Qp=["style","variant","weight","size","lineHeight","family"],eg=function(r){var t=r.match(Fy);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=Qp.length;n<i;++n){var u=t[n+1];void 0!==u&&(e[Qp[n]]=u)}return e.families=e.family.split(/,\s?/),e},tg="10px sans-serif",ji="#000",Id="round",ll=[],Ma="round",dl="#000",Do="center",fl="middle",To=[0,0,0,0],Hi=new rr;(new al).setSize=function(){console.warn("labelCache is deprecated.")};var ng,wi=null,rg={},Xw=function(){var u,d,t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function h(_,y,C){for(var w=!0,T=0;T<n;++T){var S=e[T];if(d=pl(_+" "+y+" "+t+S,i),C!=S){var R=pl(_+" "+y+" "+t+C+","+S,i);w=w&&R!=d}}return!!w}function g(){for(var _=!0,y=Hi.getKeys(),C=0,w=y.length;C<w;++C){var T=y[C];Hi.get(T)<100&&(h.apply(this,T.split("\n"))?(Da(rg),wi=null,ng=void 0,Hi.set(T,100)):(Hi.set(T,Hi.get(T)+1,!0),_=!1))}_&&(clearInterval(u),u=void 0)}return function(_){var y=eg(_);if(y)for(var C=y.families,w=0,T=C.length;w<T;++w){var S=C[w],R=y.style+"\n"+y.weight+"\n"+S;void 0===Hi.get(R)&&(Hi.set(R,100,!0),h(y.style,y.weight,S)||(Hi.set(R,0,!0),void 0===u&&(u=setInterval(g,32))))}}}(),Ly=function(){var r;return function(t){var e=rg[t];if(null==e){if(Ca){var n=eg(t),i=ig(t,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else r||((r=document.createElement("div")).innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),e=r.offsetHeight,document.body.removeChild(r);rg[t]=e}return e}}();function ig(r,t){return wi||(wi=nr(1,1)),r!=ng&&(wi.font=r,ng=wi.font),wi.measureText(t)}function pl(r,t){return ig(r,t).width}function Ny(r,t,e){if(t in e)return e[t];var n=t.split("\n").reduce(function(i,u){return Math.max(i,pl(r,u))},0);return e[t]=n,n}var fS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hS=function(r){function t(e){var n=this;return(n=r.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return fS(t,r),t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var n=this.getDisplacement();return[e[0]/2-n[0],e[1]/2+n[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(e){this.fill_=e,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var n=this.canvas_[e];if(!n){var i=this.renderOptions_,u=nr(i.size*e,i.size*e);this.draw_(i,u,e),this.canvas_[e]=n=u.canvas}return n},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return 2},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(e){this.stroke_=e,this.render()},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,n,i){if(0===n||this.points_===1/0||"bevel"!==e&&"miter"!==e)return n;var u=this.radius_,d=void 0===this.radius2_?u:this.radius2_;if(u<d){var h=u;u=d,d=h}var _=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),y=d*Math.sin(_),w=u-Math.sqrt(d*d-y*y),T=Math.sqrt(y*y+w*w),S=T/y;if("miter"===e&&S<=i)return S*n;var R=n/2/S,N=n/2*(w/T),Z=Math.sqrt((u+R)*(u+R)+N*N)-u;if(void 0===this.radius2_||"bevel"===e)return 2*Z;var ne=u*Math.sin(_),Ce=d-Math.sqrt(u*u-ne*ne),we=Math.sqrt(ne*ne+Ce*Ce)/ne;return we<=i?2*Math.max(Z,we*n/2-d-u):2*Z},t.prototype.createRenderOptions=function(){var d,e=Ma,n=0,i=null,u=0,h=0;this.stroke_&&(null===(d=this.stroke_.getColor())&&(d=dl),d=Yr(d),void 0===(h=this.stroke_.getWidth())&&(h=1),i=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=Ma),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var g=this.calculateLineJoinSize_(e,h,n),_=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:d,strokeWidth:h,size:Math.ceil(2*_+g),lineDash:i,lineDashOffset:u,lineJoin:e,miterLimit:n}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){var u=this.fill_.getColor();null===u&&(u=ji),n.fillStyle=Yr(u),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var n=this.fill_.getColor(),i=0;if("string"==typeof n&&(n=Ea(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i){var u=nr(e.size,e.size);this.hitDetectionCanvas_=u.canvas,this.drawHitDetectionCanvas_(e,u)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var n=this.points_,i=this.radius_;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{var u=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(n*=2);for(var d=this.angle_-Math.PI/2,h=2*Math.PI/n,g=0;g<n;g++){var _=d+g*h,y=g%2==0?i:u;e.lineTo(y*Math.cos(_),y*Math.sin(_))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=ji,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())},t}(fy);const pS=hS;var Uy=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ad=function(r){function t(e){var n=e||{};return r.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0],declutterMode:n.declutterMode})||this}return Uy(t,r),t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(pS);const Qw=Ad;var eD=function(){function r(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t},r}();const Vy=eD;var gl=function(){function r(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t},r.prototype.setLineCap=function(t){this.lineCap_=t},r.prototype.setLineDash=function(t){this.lineDash_=t},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},r.prototype.setLineJoin=function(t){this.lineJoin_=t},r.prototype.setMiterLimit=function(t){this.miterLimit_=t},r.prototype.setWidth=function(t){this.width_=t},r}();const tD=gl;var Ia=function(){function r(t){var e=t||{};this.geometry_=null,this.geometryFunction_=By,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return r.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new r({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(t){this.renderer_=t},r.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(t){this.fill_=t},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(t){this.stroke_=t},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(t){this.text_=t},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=By,this.geometry_=t},r.prototype.setZIndex=function(t){this.zIndex_=t},r}(),og=null;function rD(r,t){if(!og){var e=new Vy({color:"rgba(255,255,255,0.4)"}),n=new tD({color:"#3399CC",width:1.25});og=[new Ia({image:new Qw({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return og}function By(r){return r.getGeometry()}const oD=Ia;var jy=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0==(3&t++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},r.prototype.get=function(t,e,n){var i=Gy(t,e,n);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(t,e,n,i){var u=Gy(t,e,n);this.cache_[u]=i,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},r}();function Gy(r,t,e){return t+":"+r+":"+(e?Ey(e):"null")}var xd=new jy,Hy=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aD=function(r){function t(e,n,i,u){var d=r.call(this)||this;return d.extent=e,d.pixelRatio_=i,d.resolution=n,d.state=u,d}return Hy(t,r),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return pt()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){pt()},t}(al);const sg=aD;function ag(r){for(var t=[1/0,1/0,-1/0,-1/0],e=0,n=r.length;e<n;++e)Oa(t,r[e]);return t}function ug(r,t,e){return e?(e[0]=r[0]-t,e[1]=r[1]-t,e[2]=r[2]+t,e[3]=r[3]+t,e):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function $y(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function Wy(r,t,e){var n,i;return(n=t<r[0]?r[0]-t:r[2]<t?t-r[2]:0)*n+(i=e<r[1]?r[1]-e:r[3]<e?e-r[3]:0)*i}function fs(r,t){return lg(r,t[0],t[1])}function hs(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function lg(r,t,e){return r[0]<=t&&t<=r[2]&&r[1]<=e&&e<=r[3]}function cg(r,t){var d=t[0],h=t[1],g=0;return d<r[0]?g|=16:d>r[2]&&(g|=4),h<r[1]?g|=8:h>r[3]&&(g|=2),0===g&&(g=1),g}function Di(r,t,e,n,i){return i?(i[0]=r,i[1]=t,i[2]=e,i[3]=n,i):[r,t,e,n]}function Aa(r){return Di(1/0,1/0,-1/0,-1/0,r)}function xa(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function Oa(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function zy(r,t,e,n,i){for(;e<n;e+=i)hD(r,t[e],t[e+1]);return r}function hD(r,t,e){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}function Od(r,t){var e;return!!((e=t(_l(r)))||(e=t(ba(r)),e)||(e=t(bd(r)),e)||(e=t(Zi(r)),e))&&e}function Ra(r){var t=0;return hg(r)||(t=It(r)*Dn(r)),t}function _l(r){return[r[0],r[1]]}function ba(r){return[r[2],r[1]]}function ps(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function pD(r,t){var e;return"bottom-left"===t?e=_l(r):"bottom-right"===t?e=ba(r):"top-left"===t?e=Zi(r):"top-right"===t?e=bd(r):gt(!1,13),e}function fg(r,t,e,n,i){var u=Rd(r,t,e,n),d=u[0],h=u[1],g=u[2],_=u[3],y=u[4],C=u[5],w=u[6],T=u[7];return Di(Math.min(d,g,y,w),Math.min(h,_,C,T),Math.max(d,g,y,w),Math.max(h,_,C,T),i)}function Rd(r,t,e,n){var i=t*n[0]/2,u=t*n[1]/2,d=Math.cos(e),h=Math.sin(e),g=i*d,_=i*h,y=u*d,C=u*h,w=r[0],T=r[1];return[w-g+C,T-_-y,w-g-C,T-_+y,w+g-C,T+_+y,w+g+C,T+_-y,w-g+C,T-_-y]}function Dn(r){return r[3]-r[1]}function Pa(r,t,e){var n=e||[1/0,1/0,-1/0,-1/0];return ir(r,t)?(n[0]=r[0]>t[0]?r[0]:t[0],n[1]=r[1]>t[1]?r[1]:t[1],n[2]=r[2]<t[2]?r[2]:t[2],n[3]=r[3]<t[3]?r[3]:t[3]):Aa(n),n}function Zi(r){return[r[0],r[3]]}function bd(r){return[r[2],r[3]]}function It(r){return r[2]-r[0]}function ir(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function hg(r){return r[2]<r[0]||r[3]<r[1]}function gg(r,t){var e=t.getExtent(),n=ps(r);if(t.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var i=It(e),d=Math.floor((n[0]-e[0])/i)*i;r[0]-=d,r[2]-=d}return r}var yD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function _g(r,t,e){var n=r,i=!0,u=!1,d=!1,h=[ul(n,"load",function(){d=!0,u||t()})];return n.src&&Ty?(u=!0,n.decode().then(function(){i&&t()}).catch(function(g){i&&(d?t():e())})):h.push(ul(n,"error",e)),function(){i=!1,h.forEach(Ft)}}!function(r){function t(e,n,i,u,d,h){var g=r.call(this,e,n,i,0)||this;return g.src_=u,g.image_=new Image,null!==d&&(g.image_.crossOrigin=d),g.unlisten_=null,g.state=0,g.imageLoadFunction_=h,g}yD(t,r),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Dn(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=_g(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=Dn(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(sg);var mS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fa=null,CD=function(r){function t(e,n,i,u,d,h){var g=r.call(this)||this;return g.hitDetectionImage_=null,g.image_=e||new Image,null!==u&&(g.image_.crossOrigin=u),g.canvas_={},g.color_=h,g.unlisten_=null,g.imageState_=d,g.size_=i,g.src_=n,g}return mS(t,r),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Fa||(Fa=nr(1,1)),Fa.drawImage(this.image_,0,0);try{Fa.getImageData(0,0,1,1),this.tainted_=!1}catch{Fa=null,this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},t.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=nr(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=_g(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&2===this.imageState_){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var i=n.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Ey(this.color_),i.fillRect(0,0,n.width/e,n.height/e),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var u=i.getImageData(0,0,n.width,n.height),d=u.data,h=this.color_[0]/255,g=this.color_[1]/255,_=this.color_[2]/255,y=this.color_[3],C=0,w=d.length;C<w;C+=4)d[C]*=h,d[C+1]*=g,d[C+2]*=_,d[C+3]*=y;i.putImageData(u,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(al),yS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DD=function(r){function t(e){var n=this,i=e||{};(n=r.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,declutterMode:i.declutterMode})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var _=void 0!==i.img?i.img:null;n.imgSize_=i.imgSize;var y=i.src;gt(!(void 0!==y&&_),4),gt(!_||_&&n.imgSize_,5),(void 0===y||0===y.length)&&_&&(y=_.src||Dt(_)),gt(void 0!==y&&y.length>0,6);var C=void 0!==i.src?0:2;return n.color_=void 0!==i.color?Ea(i.color):null,n.iconImage_=function wD(r,t,e,n,i,u){var d=xd.get(t,n,u);return d||(d=new CD(r,t,e,n,i,u),xd.set(t,n,u,d)),d}(_,y,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,C,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return yS(t,r),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=n[0]),"fraction"==this.anchorYUnits_&&(e[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+n[1])}this.normalizedAnchor_=e}var i=this.getDisplacement();return[e[0]-i[0],e[1]+i[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=i[0]-n[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},t}(fy);const Xy=DD;var mg;function un(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function qr(r,t,e,n,i,u,d,h){var g=Math.sin(u),_=Math.cos(u);return r[0]=n*_,r[1]=i*g,r[2]=-n*g,r[3]=i*_,r[4]=d*n*_-h*n*g+t,r[5]=d*i*g+h*i*_+e,r}function ml(r,t){var e=function Jy(r){return r[0]*r[3]-r[1]*r[2]}(t);gt(0!==e,32);var n=t[0],i=t[1],u=t[2],d=t[3],h=t[4],g=t[5];return r[0]=d/e,r[1]=-i/e,r[2]=-u/e,r[3]=n/e,r[4]=(u*g-d*h)/e,r[5]=-(n*g-i*h)/e,r}function yg(r){var t="matrix("+r.join(", ")+")";if(Ca)return t;var e=mg||(mg=document.createElement("div"));return e.style.transform=t,e.style.transform}new Array(6);var AD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qy=function(r){function t(e){var n=r.call(this)||this;n.background_=e.background;var i=pn({},e);return"object"==typeof e.properties&&(delete i.properties,pn(i,e.properties)),i.opacity=void 0!==e.opacity?e.opacity:1,gt("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?i.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return AD(t,r),t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=an(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i||n.managed?i:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},t.prototype.getLayersArray=function(e){return pt()},t.prototype.getLayerStatesArray=function(e){return pt()},t.prototype.getExtent=function(){return this.get("extent")},t.prototype.getMaxResolution=function(){return this.get("maxResolution")},t.prototype.getMinResolution=function(){return this.get("minResolution")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.getOpacity=function(){return this.get("opacity")},t.prototype.getSourceState=function(){return pt()},t.prototype.getVisible=function(){return this.get("visible")},t.prototype.getZIndex=function(){return this.get("zIndex")},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set("extent",e)},t.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},t.prototype.setMinResolution=function(e){this.set("minResolution",e)},t.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},t.prototype.setMinZoom=function(e){this.set("minZoom",e)},t.prototype.setOpacity=function(e){gt("number"==typeof e,64),this.set("opacity",e)},t.prototype.setVisible=function(e){this.set("visible",e)},t.prototype.setZIndex=function(e){this.set("zIndex",e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},t}(rr);const eE=Qy;var xD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yl=function(r){function t(e){var n=this,i=pn({},e);return delete i.source,(n=r.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener("source",n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return xD(t,r),t.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},t.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},t.prototype.getSource=function(){return this.get("source")||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ft(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Ct(e,"change",this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(n){return n([])})},t.prototype.getData=function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null},t.prototype.render=function(e,n){var i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,n)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(e){e||this.unrender(),this.set("map",e)},t.prototype.getMapInternal=function(){return this.get("map")},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Ft(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ft(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ct(e,"precompose",function(n){var u=n.frameState.layerStatesArray,d=this.getLayerState(!1);gt(!u.some(function(h){return h.layer===d.layer}),67),u.push(d)},this),this.mapRenderKey_=Ct(this,"change",e.render,e),this.changed())},t.prototype.setSource=function(e){this.set("source",e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},t}(eE);function Ld(r,t){if(!r.visible)return!1;var e=t.resolution;if(e<r.minResolution||e>=r.maxResolution)return!1;var n=t.zoom;return n>r.minZoom&&n<=r.maxZoom}const La=yl;function kd(r,t){for(var e=!0,n=r.length-1;n>=0;--n)if(r[n]!=t[n]){e=!1;break}return e}function Na(r,t){var e=Math.cos(t),n=Math.sin(t),u=r[1]*e+r[0]*n;return r[0]=r[0]*e-r[1]*n,r[1]=u,r}function wg(r,t){if(t.canWrapX()){var e=It(t.getExtent()),n=function PD(r,t,e){var n=t.getExtent(),i=0;if(t.canWrapX()&&(r[0]<n[0]||r[0]>n[2])){var u=e||It(n);i=Math.floor((r[0]-n[0])/u)}return i}(r,t,e);n&&(r[0]-=n*e)}return r}var FD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MS=function(r){function t(e){var n=r.call(this)||this;return n.map_=e,n}return FD(t,r),t.prototype.dispatchRenderEvent=function(e,n){pt()},t.prototype.calculateMatrices2D=function(e){var n=e.viewState,i=e.coordinateToPixelTransform,u=e.pixelToCoordinateTransform;qr(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),ml(u,i)},t.prototype.forEachFeatureAtCoordinate=function(e,n,i,u,d,h,g,_){var y,C=n.viewState;function w(ut,et,ze,Ye){return d.call(h,et,ut?ze:null,Ye)}var T=C.projection,S=wg(e.slice(),T),R=[[0,0]];if(T.canWrapX()&&u){var W=It(T.getExtent());R.push([-W,0],[W,0])}for(var Z=n.layerStatesArray,ne=Z.length,ue=[],Ce=[],Me=0;Me<R.length;Me++)for(var we=ne-1;we>=0;--we){var xe=Z[we],ke=xe.layer;if(ke.hasRenderer()&&Ld(xe,C)&&g.call(_,ke)){var $e=ke.getRenderer(),Qe=ke.getSource();if($e&&Qe){var tt=Qe.getWrapX()?S:e,He=w.bind(null,xe.managed);Ce[0]=tt[0]+R[Me][0],Ce[1]=tt[1]+R[Me][1],y=$e.forEachFeatureAtCoordinate(Ce,n,i,He,ue)}if(y)return y}}if(0!==ue.length){var at=1/ue.length;return ue.forEach(function(ut,et){return ut.distanceSq+=et*at}),ue.sort(function(ut,et){return ut.distanceSq-et.distanceSq}),ue.some(function(ut){return y=ut.callback(ut.feature,ut.layer,ut.geometry)}),y}},t.prototype.forEachLayerAtPixel=function(e,n,i,u,d){return pt()},t.prototype.hasFeatureAtCoordinate=function(e,n,i,u,d,h){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,u,ls,this,d,h)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){pt()},t.prototype.scheduleExpireIconCache=function(e){xd.canExpireCache()&&e.postRenderFunctions.push(Dg)},t}(qp);function Dg(r,t){xd.expire()}const Tg=MS;var rE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mg=function(r){function t(e,n,i,u){var d=r.call(this,e)||this;return d.inversePixelTransform=n,d.frameState=i,d.context=u,d}return rE(t,r),t}(Bi);const Vd=Mg;var LD=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ND=function(r){function t(e){var n=r.call(this,e)||this;n.fontChangeListenerKey_=Ct(Hi,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Jp+" ol-layers";var u=e.getViewport();return u.insertBefore(n.element_,u.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return LD(t,r),t.prototype.dispatchRenderEvent=function(e,n){var i=this.getMap();if(i.hasListener(e)){var u=new Vd(e,void 0,n);i.dispatchEvent(u)}},t.prototype.disposeInternal=function(){Ft(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(T,S){return T.zIndex-S.zIndex}),i=e.viewState;this.children_.length=0;for(var u=[],d=null,h=0,g=n.length;h<g;++h){var _=n[h];e.layerIndex=h;var y=_.layer,C=y.getSourceState();if(!Ld(_,i)||"ready"!=C&&"undefined"!=C)y.unrender();else{var w=y.render(e,d);!w||(w!==d&&(this.children_.push(w),d=w),"getDeclutter"in y&&u.push(y))}}for(h=u.length-1;h>=0;--h)u[h].renderDeclutter(e);(function Bw(r,t){for(var e=r.childNodes,n=0;;++n){var i=e[n],u=t[n];if(!i&&!u)break;if(i!==u){if(!i){r.appendChild(u);continue}if(!u){r.removeChild(i),--n;continue}r.insertBefore(u,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,n,i,u,d){for(var h=n.viewState,g=n.layerStatesArray,y=g.length-1;y>=0;--y){var C=g[y],w=C.layer;if(w.hasRenderer()&&Ld(C,h)&&d(w)){var S=w.getRenderer().getDataAtPixel(e,n,i);if(S){var R=u(w,S);if(R)return R}}}},t}(Tg);const kD=ND;var Sg=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),El=function(r){function t(e,n,i){var u=r.call(this,e)||this;return u.element=n,u.index=i,u}return Sg(t,r),t}(Bi),iE=function(r){function t(e,n){var i=r.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var d=0,h=i.array_.length;d<h;++d)i.assertUnique_(i.array_[d],d);return i.updateLength_(),i}return Sg(t,r),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var n=0,i=e.length;n<i;++n)this.push(e[n]);return this},t.prototype.forEach=function(e){for(var n=this.array_,i=0,u=n.length;i<u;++i)e(n[i],i,n)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get("length")},t.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new El("add",n,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},t.prototype.remove=function(e){for(var n=this.array_,i=0,u=n.length;i<u;++i)if(n[i]===e)return this.removeAt(i)},t.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new El("remove",n,e)),n},t.prototype.setAt=function(e,n){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(n,e);var u=this.array_[e];this.array_[e]=n,this.dispatchEvent(new El("remove",u,e)),this.dispatchEvent(new El("add",n,e))}else{for(var d=i;d<e;++d)this.insertAt(d,void 0);this.insertAt(e,n)}},t.prototype.updateLength_=function(){this.set("length",this.array_.length)},t.prototype.assertUnique_=function(e,n){for(var i=0,u=this.array_.length;i<u;++i)if(this.array_[i]===e&&i!==n)throw new as(58)},t}(rr);const yr=iE;var Ig=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),So=function(r){function t(e,n){var i=r.call(this,e)||this;return i.layer=n,i}return Ig(t,r),t}(Bi),oE=function(r){function t(e){var n=this,i=e||{},u=pn({},i);delete u.layers;var d=i.layers;return(n=r.call(this,u)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener("layers",n.handleLayersChanged_),d?Array.isArray(d)?d=new yr(d.slice(),{unique:!0}):gt("function"==typeof d.getArray,43):d=new yr(void 0,{unique:!0}),n.setLayers(d),n}return Ig(t,r),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ft),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(Ct(e,"add",this.handleLayersAdd_,this),Ct(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Ft);Da(this.listenerKeys_);for(var i=e.getArray(),u=0,d=i.length;u<d;u++){var h=i[u];this.registerLayerListeners_(h),this.dispatchEvent(new So("addlayer",h))}this.changed()},t.prototype.registerLayerListeners_=function(e){var n=[Ct(e,"propertychange",this.handleLayerChange_,this),Ct(e,"change",this.handleLayerChange_,this)];e instanceof t&&n.push(Ct(e,"addlayer",this.handleLayerGroupAdd_,this),Ct(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Dt(e)]=n},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new So("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new So("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new So("addlayer",n)),this.changed()},t.prototype.handleLayersRemove_=function(e){var n=e.element,i=Dt(n);this.listenerKeys_[i].forEach(Ft),delete this.listenerKeys_[i],this.dispatchEvent(new So("removelayer",n)),this.changed()},t.prototype.getLayers=function(){return this.get("layers")},t.prototype.setLayers=function(e){var n=this.getLayers();if(n)for(var i=n.getArray(),u=0,d=i.length;u<d;++u)this.dispatchEvent(new So("removelayer",i[u]));this.set("layers",e)},t.prototype.getLayersArray=function(e){var n=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},t.prototype.getLayerStatesArray=function(e){var n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(y){y.getLayerStatesArray(n)});var u=this.getLayerState(),d=u.zIndex;!e&&void 0===u.zIndex&&(d=0);for(var h=i,g=n.length;h<g;h++){var _=n[h];_.opacity*=u.opacity,_.visible=_.visible&&u.visible,_.maxResolution=Math.min(_.maxResolution,u.maxResolution),_.minResolution=Math.max(_.minResolution,u.minResolution),_.minZoom=Math.max(_.minZoom,u.minZoom),_.maxZoom=Math.min(_.maxZoom,u.maxZoom),void 0!==u.extent&&(_.extent=void 0!==_.extent?Pa(_.extent,u.extent):u.extent),void 0===_.zIndex&&(_.zIndex=d)}return n},t.prototype.getSourceState=function(){return"ready"},t}(eE);const Gd=oE;var sE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UD=function(r){function t(e,n,i){var u=r.call(this,e)||this;return u.map=n,u.frameState=void 0!==i?i:null,u}return sE(t,r),t}(Bi);const ln=UD;var ka=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VD=function(r){function t(e,n,i,u,d,h){var g=r.call(this,e,n,d)||this;return g.originalEvent=i,g.pixel_=null,g.coordinate_=null,g.dragging=void 0!==u&&u,g.activePointers=h,g}return ka(t,r),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(ln);const Io=VD,en={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var uE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lE=function(r){function t(e,n){var i=r.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===n?1:n,i.down_=null;var u=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=u,i.pointerdownListenerKey_=Ct(u,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=Ct(u,"pointermove",i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!zp&&{passive:!1}),i}return uE(t,r),t.prototype.emulateClick_=function(e){var n=new Io(en.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Io(en.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new Io(en.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var n=e,i=n.pointerId;if(n.type==en.POINTERUP||n.type==en.POINTERCANCEL){for(var u in delete this.trackedTouches_[i],this.trackedTouches_)if(this.trackedTouches_[u].target!==n.target){delete this.trackedTouches_[u];break}}else(n.type==en.POINTERDOWN||n.type==en.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=wo(this.trackedTouches_)},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new Io(en.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Ft),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var n=new Io(en.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var i in this.dispatchEvent(n),this.down_={},e){var u=e[i];this.down_[i]="function"==typeof u?Co:u}if(0===this.dragListenerKeys_.length){var d=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ct(d,en.POINTERMOVE,this.handlePointerMove_,this),Ct(d,en.POINTERUP,this.handlePointerUp_,this),Ct(this.element_,en.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push(Ct(this.element_.getRootNode(),en.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var n=new Io(en.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}},t.prototype.relayMoveEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Io(en.POINTERMOVE,this.map_,e,n))},t.prototype.handleTouchMove_=function(e){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ft(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ft(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ft),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},t}(al);const Cl=lE;var Hd=1/0,cE=function(){function r(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Da(this.queuedElements_)},r.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},r.prototype.enqueue=function(t){gt(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Hd&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(t){return 2*t+1},r.prototype.getRightChildIndex_=function(t){return 2*t+2},r.prototype.getParentIndex_=function(t){return t-1>>1},r.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},r.prototype.isEmpty=function(){return 0===this.elements_.length},r.prototype.isKeyQueued=function(t){return t in this.queuedElements_},r.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},r.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,u=e[t],d=n[t],h=t;t<i>>1;){var g=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),y=_<i&&n[_]<n[g]?_:g;e[t]=e[y],n[t]=n[y],t=y}e[t]=u,n[t]=d,this.siftDown_(h,t)},r.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,u=n[e],d=i[e];e>t;){var h=this.getParentIndex_(e);if(!(i[h]>d))break;n[e]=n[h],i[e]=i[h],e=h}n[e]=u,i[e]=d},r.prototype.reprioritize=function(){var d,h,g,t=this.priorityFunction_,e=this.elements_,n=this.priorities_,i=0,u=e.length;for(h=0;h<u;++h)(g=t(d=e[h]))==Hd?delete this.queuedElements_[this.keyFunction_(d)]:(n[i]=g,e[i++]=d);e.length=i,n.length=i,this.heapify_()},r}();const BD=cE;var Ua=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jD=function(r){function t(e,n){var i=r.call(this,function(u){return e.apply(null,u)},function(u){return u[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Ua(t,r),t.prototype.enqueue=function(e){var n=r.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var n=e.target,i=n.getState();if(2===i||3===i||4===i){n.removeEventListener("change",this.boundHandleTileChange_);var u=n.getKey();u in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[u],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,n){for(var d,h,i=0;this.tilesLoading_<e&&i<n&&this.getCount()>0;)h=(d=this.dequeue()[0]).getKey(),0===d.getState()&&!(h in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[h]=!0,++this.tilesLoading_,++i,d.load())},t}(BD);const Ag=jD;var Or={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Xr={};Xr[Or.RADIANS]=6370997/(2*Math.PI),Xr[Or.DEGREES]=2*Math.PI*6370997/360,Xr[Or.FEET]=.3048,Xr[Or.METERS]=1,Xr[Or.USFEET]=1200/3937;const Wi=Or,Rr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var hE=function(){function r(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Xr[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}();const $d=hE;var SS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wl=6378137,Dl=Math.PI*wl,GD=[-Dl,-Dl,Dl,Dl],HD=[-180,-85,180,85],Wd=wl*Math.log(Math.tan(Math.PI/2)),gs=function(r){function t(e){return r.call(this,{code:e,units:Wi.METERS,extent:GD,global:!0,worldExtent:HD,getPointResolution:function(n,i){return n/gy(i[1]/wl)}})||this}return SS(t,r),t}($d),Og=[new gs("EPSG:3857"),new gs("EPSG:102100"),new gs("EPSG:102113"),new gs("EPSG:900913"),new gs("http://www.opengis.net/def/crs/EPSG/0/3857"),new gs("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ZD(r,t,e){var n=r.length,i=e>1?e:2,u=t;void 0===u&&(u=i>2?r.slice():new Array(n));for(var d=0;d<n;d+=i){u[d]=Dl*r[d]/180;var h=wl*Math.log(Math.tan(Math.PI*(+r[d+1]+90)/360));h>Wd?h=Wd:h<-Wd&&(h=-Wd),u[d+1]=h}return u}function pE(r,t,e){var n=r.length,i=e>1?e:2,u=t;void 0===u&&(u=i>2?r.slice():new Array(n));for(var d=0;d<n;d+=i)u[d]=180*r[d]/Dl,u[d+1]=360*Math.atan(Math.exp(r[d+1]/wl))/Math.PI-90;return u}var gE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_E=[-180,-90,180,90],vE=6378137*Math.PI/180,_s=function(r){function t(e,n){return r.call(this,{code:e,units:Wi.DEGREES,extent:_E,axisOrientation:n,global:!0,metersPerUnit:vE,worldExtent:_E})||this}return gE(t,r),t}($d),Rg=[new _s("CRS:84"),new _s("EPSG:4326","neu"),new _s("urn:ogc:def:crs:OGC:1.3:CRS84"),new _s("urn:ogc:def:crs:OGC:2:84"),new _s("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _s("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _s("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Tl={},Jr={};function Ml(r,t,e){var n=r.getCode(),i=t.getCode();n in Jr||(Jr[n]={}),Jr[n][i]=e}function yE(r,t,e){var n=e||6371008.8,i=vr(r[1]),u=vr(t[1]),d=(u-i)/2,h=vr(t[0]-r[0])/2,g=Math.sin(d)*Math.sin(d)+Math.sin(h)*Math.sin(h)*Math.cos(i)*Math.cos(u);return 2*n*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))}var CE=!0;function Lg(r){CE=!(void 0===r||r)}function Ba(r,t,e){var n;if(void 0!==t){for(var i=0,u=r.length;i<u;++i)t[i]=r[i];n=t}else n=r.slice();return n}function Ng(r,t,e){if(void 0!==t&&r!==t){for(var n=0,i=r.length;n<i;++n)t[n]=r[n];r=t}return r}function wE(r){(function zD(r,t){Tl[r]=t})(r.getCode(),r),Ml(r,r,Ba)}function Mn(r){return"string"==typeof r?function mE(r){return Tl[r]||Tl[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(r):r||null}function kg(r,t,e,n){var i,u=(r=Mn(r)).getPointResolutionFunc();if(u)i=u(t,e),n&&n!==r.getUnits()&&(d=r.getMetersPerUnit())&&(i=i*d/Xr[n]);else{var h=r.getUnits();if(h==Wi.DEGREES&&!n||n==Wi.DEGREES)i=t;else{var d,g=zd(r,Mn("EPSG:4326"));if(g===Ng&&h!==Wi.DEGREES)i=t*r.getMetersPerUnit();else{var _=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];i=(yE((_=g(_,_,2)).slice(0,2),_.slice(2,4))+yE(_.slice(4,6),_.slice(6,8)))/2}void 0!==(d=n?Xr[n]:r.getMetersPerUnit())&&(i/=d)}}return i}function DE(r){(function OS(r){r.forEach(wE)})(r),r.forEach(function(t){r.forEach(function(e){t!==e&&Ml(t,e,Ba)})})}function ME(r,t){return r?"string"==typeof r?Mn(r):r:Mn(t)}function Sl(r,t){return Lg(),Al(r,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function Il(r,t){if(r===t)return!0;var e=r.getUnits()===t.getUnits();return(r.getCode()===t.getCode()||zd(r,t)===Ba)&&e}function zd(r,t){var i=function IS(r,t){var e;return r in Jr&&t in Jr[r]&&(e=Jr[r][t]),e}(r.getCode(),t.getCode());return i||(i=Ng),i}function Yd(r,t){return zd(Mn(r),Mn(t))}function Al(r,t,e){return Yd(t,e)(r,void 0,r.length)}var sr=null;function Ug(){return sr}function Er(r,t){return r}function zi(r,t){return CE&&!kd(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(CE=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function xl(r,t){return r}function vs(r,t){return r}function Cr(r,t){return r}function xE(r,t,e){return function(n,i,u,d,h){if(n){if(!i&&!t)return n;var g=t?0:u[0]*i,_=t?0:u[1]*i,y=h?h[0]:0,C=h?h[1]:0,w=r[0]+g/2+y,T=r[2]-g/2+y,S=r[1]+_/2+C,R=r[3]-_/2+C;w>T&&(T=w=(T+w)/2),S>R&&(R=S=(R+S)/2);var N=an(n[0],w,T),W=an(n[1],S,R);if(d&&e&&i){var Z=30*i;N+=-Z*Math.log(1+Math.max(0,w-n[0])/Z)+Z*Math.log(1+Math.max(0,n[0]-T)/Z),W+=-Z*Math.log(1+Math.max(0,S-n[1])/Z)+Z*Math.log(1+Math.max(0,n[1]-R)/Z)}return[N,W]}}}function Vg(r){return r}function Kd(r,t,e,n){var i=It(t)/e[0],u=Dn(t)/e[1];return n?Math.min(r,Math.max(i,u)):Math.min(r,Math.min(i,u))}function qd(r,t,e){var n=Math.min(r,t);return n*=Math.log(1+50*Math.max(0,r/t-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/r-1))/50+1),an(n,e/2,2*t)}function Bg(r,t,e,n,i){return function(u,d,h,g){if(void 0!==u){var _=n?Kd(r,n,h,i):r;return(void 0===e||e)&&g?qd(u,_,t):an(u,t,_)}}}function jg(r){if(void 0!==r)return 0}function Gg(r){if(void 0!==r)return r}function Yi(r){return Math.pow(r,3)}function ms(r){return 1-Yi(1-r)}function Ol(r){return 3*r*r-2*r*r*r}function Ki(r){return r}!function qD(){DE(Og),DE(Rg),function TE(r,t,e,n){r.forEach(function(i){t.forEach(function(u){Ml(i,u,e),Ml(u,i,n)})})}(Rg,Og,ZD,pE)}();function ys(r,t,e,n,i,u){for(var d=u||[],h=0,g=t;g<e;g+=n){var _=r[g],y=r[g+1];d[h++]=i[0]*_+i[2]*y+i[4],d[h++]=i[1]*_+i[3]*y+i[5]}return u&&d.length!=h&&(d.length=h),d}function RE(r,t,e,n,i,u,d){for(var h=d||[],g=Math.cos(i),_=Math.sin(i),y=u[0],C=u[1],w=0,T=t;T<e;T+=n){var S=r[T]-y,R=r[T+1]-C;h[w++]=y+S*g-R*_,h[w++]=C+S*_+R*g;for(var N=T+2;N<T+n;++N)h[w++]=r[N]}return d&&h.length!=w&&(h.length=w),h}var bE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tT=[1,0,0,1,0,0],PE=function(r){function t(){var e=r.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function Oy(r){var e,n,i,t=!1;return function(){var u=Array.prototype.slice.call(arguments);return(!t||this!==i||!Eo(u,n))&&(t=!0,i=this,n=u,e=r.apply(this,arguments)),e}}(function(n,i,u){if(!u)return this.getSimplifiedGeometry(i);var d=this.clone();return d.applyTransform(u),d.getSimplifiedGeometry(i)}),e}return bE(t,r),t.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},t.prototype.clone=function(){return pt()},t.prototype.closestPointXY=function(e,n,i,u){return pt()},t.prototype.containsXY=function(e,n){var i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n},t.prototype.getClosestPoint=function(e,n){var i=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return pt()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Aa(n),this.extentRevision_=this.getRevision()}return function pg(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}(this.extent_,e)},t.prototype.rotate=function(e,n){pt()},t.prototype.scale=function(e,n,i){pt()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return pt()},t.prototype.getType=function(){return pt()},t.prototype.applyTransform=function(e){pt()},t.prototype.intersectsExtent=function(e){return pt()},t.prototype.translate=function(e,n){pt()},t.prototype.transform=function(e,n){var i=Mn(e),u=i.getUnits()==Wi.TILE_PIXELS?function(d,h,g){var _=i.getExtent(),y=i.getWorldExtent(),C=Dn(y)/Dn(_);return qr(tT,y[0],y[3],C,-C,0,0,0),ys(d,0,d.length,g,tT,h),Yd(i,n)(d,h,g)}:Yd(i,n);return this.applyTransform(u),this},t}(rr);const nT=PE;var FE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NS=function(r){function t(){var e=r.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return FE(t,r),t.prototype.computeExtent=function(e){return function lD(r,t,e,n,i){return zy(Aa(i),r,t,e,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return pt()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,n){this.stride=$g(e),this.layout=e,this.flatCoordinates=n},t.prototype.setCoordinates=function(e,n){pt()},t.prototype.setLayout=function(e,n,i){var u;if(e)u=$g(e);else{for(var d=0;d<i;++d){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}e=function Zg(r){var t;return 2==r?t="XY":3==r?t="XYZ":4==r&&(t="XYZM"),t}(u=n.length)}this.layout=e,this.stride=u},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,n){var i=this.getFlatCoordinates();if(i){var u=this.getStride();RE(i,0,i.length,u,e,n,i),this.changed()}},t.prototype.scale=function(e,n,i){var u=n;void 0===u&&(u=e);var d=i;d||(d=ps(this.getExtent()));var h=this.getFlatCoordinates();if(h){var g=this.getStride();(function QD(r,t,e,n,i,u,d,h){for(var g=h||[],_=d[0],y=d[1],C=0,w=t;w<e;w+=n){var S=r[w+1]-y;g[C++]=_+i*(r[w]-_),g[C++]=y+u*S;for(var R=w+2;R<w+n;++R)g[C++]=r[R]}h&&g.length!=C&&(g.length=C)})(h,0,h.length,g,e,u,d,h),this.changed()}},t.prototype.translate=function(e,n){var i=this.getFlatCoordinates();if(i){var u=this.getStride();(function eT(r,t,e,n,i,u,d){for(var h=d||[],g=0,_=t;_<e;_+=n){h[g++]=r[_]+i,h[g++]=r[_+1]+u;for(var y=_+2;y<_+n;++y)h[g++]=r[y]}d&&h.length!=g&&(h.length=g)})(i,0,i.length,u,e,n,i),this.changed()}},t}(nT);function $g(r){var t;return"XY"==r?t=2:"XYZ"==r||"XYM"==r?t=3:"XYZM"==r&&(t=4),t}const Wg=NS;function zg(r,t,e,n,i,u,d){var C,h=r[t],g=r[t+1],_=r[e]-h,y=r[e+1]-g;if(0===_&&0===y)C=t;else{var w=((i-h)*_+(u-g)*y)/(_*_+y*y);if(w>1)C=e;else{if(w>0){for(var T=0;T<n;++T)d[T]=yo(r[t+T],r[e+T],w);return void(d.length=n)}C=t}}for(T=0;T<n;++T)d[T]=r[C+T];d.length=n}function Yg(r,t,e,n,i){var u=r[t],d=r[t+1];for(t+=n;t<e;t+=n){var h=r[t],g=r[t+1],_=tl(u,d,h,g);_>i&&(i=_),u=h,d=g}return i}function qg(r,t,e,n,i,u,d,h,g,_,y){if(t==e)return _;var C,w;if(0===i){if((w=tl(d,h,r[t],r[t+1]))<_){for(C=0;C<n;++C)g[C]=r[t+C];return g.length=n,w}return _}for(var T=y||[NaN,NaN],S=t+n;S<e;)if(zg(r,S-n,S,n,d,h,T),(w=tl(d,h,T[0],T[1]))<_){for(_=w,C=0;C<n;++C)g[C]=T[C];g.length=n,S+=n}else S+=n*Math.max((Math.sqrt(w)-Math.sqrt(_))/i|0,1);if(u&&(zg(r,e-n,t,n,d,h,T),(w=tl(d,h,T[0],T[1]))<_)){for(_=w,C=0;C<n;++C)g[C]=T[C];g.length=n}return _}function UE(r,t,e,n){for(var i=0,u=e.length;i<u;++i)for(var d=e[i],h=0;h<n;++h)r[t++]=d[h];return t}function ja(r,t){return t*Math.round(r/t)}function US(r,t,e,n,i,u,d){if(t==e)return d;var _,y,h=ja(r[t],i),g=ja(r[t+1],i);t+=n,u[d++]=h,u[d++]=g;do{if(_=ja(r[t],i),y=ja(r[t+1],i),(t+=n)==e)return u[d++]=_,u[d++]=y,d}while(_==h&&y==g);for(;t<e;){var C=ja(r[t],i),w=ja(r[t+1],i);if(t+=n,C!=_||w!=y){var T=_-h,S=y-g,R=C-h,N=w-g;if(T*N==S*R&&(T<0&&R<T||T==R||T>0&&R>T)&&(S<0&&N<S||S==N||S>0&&N>S)){_=C,y=w;continue}u[d++]=_,u[d++]=y,h=_,g=y,_=C,y=w}}return u[d++]=_,u[d++]=y,d}function bl(r,t,e,n,i){for(var u=void 0!==i?i:[],d=0,h=t;h<e;h+=n)u[d++]=r.slice(h,h+n);return u.length=d,u}function Jd(r,t,e,n,i){for(var u=void 0!==i?i:[],d=0,h=0,g=e.length;h<g;++h){var _=e[h];u[d++]=bl(r,t,_,n,u[d]),t=_}return u.length=d,u}function Pl(r,t,e,n,i){for(var u=void 0!==i?i:[],d=0,h=0,g=e.length;h<g;++h){var _=e[h];u[d++]=Jd(r,t,_,n,u[d]),t=_[_.length-1]}return u.length=d,u}function BE(r,t,e,n){for(var i=0,u=r[e-n],d=r[e-n+1];t<e;t+=n){var h=r[t],g=r[t+1];i+=d*h-u*g,u=h,d=g}return i/2}var Es=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GE=function(r){function t(e,n){var i=r.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Es(t,r),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,n,i,u){return u<Wy(this.getExtent(),e,n)?u:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,u))},t.prototype.getArea=function(){return BE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return bl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=function Xd(r,t,e,n,i,u,d){var h=(e-t)/n;if(h<3){for(;t<e;t+=n)u[d++]=r[t],u[d++]=r[t+1];return d}var g=new Array(h);g[0]=1,g[h-1]=1;for(var _=[t,e-n],y=0;_.length>0;){for(var C=_.pop(),w=_.pop(),T=0,S=r[w],R=r[w+1],N=r[C],W=r[C+1],Z=w+n;Z<C;Z+=n){var Ce=_y(r[Z],r[Z+1],S,R,N,W);Ce>T&&(y=Z,T=Ce)}T>i&&(g[(y-t)/n]=1,w+n<y&&_.push(w,y),y+n<C&&_.push(y,C))}for(Z=0;Z<h;++Z)g[Z]&&(u[d++]=r[t+Z*n],u[d++]=r[t+Z*n+1]);return d}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,"XY")},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=UE(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Wg);const Qd=GE;var Xg=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uT=function(r){function t(e,n){var i=r.call(this)||this;return i.setCoordinates(e,n),i}return Xg(t,r),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,i,u){var d=this.flatCoordinates,h=tl(e,n,d[0],d[1]);if(h<u){for(var g=this.stride,_=0;_<g;++_)i[_]=d[_];return i.length=g,h}return u},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return function uD(r,t){var e=r[0],n=r[1];return Di(e,n,e,n,t)}(this.flatCoordinates,e)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(e){return lg(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function kE(r,t,e,n){for(var i=0,u=e.length;i<u;++i)r[t++]=e[i];return t}(this.flatCoordinates,0,e),this.changed()},t}(Wg);const ef=uT;function Jg(r,t,e,n,i){return!Od(i,function(d){return!Mi(r,t,e,n,d[0],d[1])})}function Mi(r,t,e,n,i,u){for(var d=0,h=r[e-n],g=r[e-n+1];t<e;t+=n){var _=r[t],y=r[t+1];g<=u?y>u&&(_-h)*(u-g)-(i-h)*(y-g)>0&&d++:y<=u&&(_-h)*(u-g)-(i-h)*(y-g)<0&&d--,h=_,g=y}return 0!==d}function HE(r,t,e,n,i,u){if(0===e.length||!Mi(r,t,e[0],n,i,u))return!1;for(var d=1,h=e.length;d<h;++d)if(Mi(r,e[d-1],e[d],n,i,u))return!1;return!0}function Qg(r,t,e,n,i){var u=zy([1/0,1/0,-1/0,-1/0],r,t,e,n);return!!ir(i,u)&&(!!(hs(i,u)||u[0]>=i[0]&&u[2]<=i[2]||u[1]>=i[1]&&u[3]<=i[3])||function ZE(r,t,e,n,i){var u;for(t+=n;t<e;t+=n)if(u=i(r.slice(t-n,t),r.slice(t,t+n)))return u;return!1}(r,t,e,n,function(d,h){return function Ky(r,t,e){var n=!1,i=cg(r,t),u=cg(r,e);if(1===i||1===u)n=!0;else{var d=r[0],h=r[1],g=r[2],_=r[3],w=e[0],T=e[1],S=(T-t[1])/(w-t[0]),R=void 0,N=void 0;!!(2&u)&&!(2&i)&&(n=(R=w-(T-_)/S)>=d&&R<=g),n||!(4&u)||4&i||(n=(N=T-(w-g)*S)>=h&&N<=_),n||!(8&u)||8&i||(n=(R=w-(T-h)/S)>=d&&R<=g),!n&&16&u&&!(16&i)&&(n=(N=T-(w-d)*S)>=h&&N<=_)}return n}(i,d,h)}))}function $E(r,t,e,n,i){return!!(Qg(r,t,e,n,i)||Mi(r,t,e,n,i[0],i[1])||Mi(r,t,e,n,i[0],i[3])||Mi(r,t,e,n,i[2],i[1])||Mi(r,t,e,n,i[2],i[3]))}function zE(r,t,e,n){for(;t<e-n;){for(var i=0;i<n;++i){var u=r[t+i];r[t+i]=r[e-n+i],r[e-n+i]=u}t+=n,e-=n}}function tf(r,t,e,n){for(var i=0,u=r[e-n],d=r[e-n+1];t<e;t+=n){var h=r[t],g=r[t+1];i+=(h-u)*(g+d),u=h,d=g}return 0===i?void 0:i>0}function nf(r,t,e,n,i){for(var u=void 0!==i&&i,d=0,h=e.length;d<h;++d){var g=e[d],_=tf(r,t,g,n);(0===d?u&&_||!u&&!_:u&&!_||!u&&_)&&zE(r,t,g,n),t=g}return t}var qE=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ga=function(r){function t(e,n,i){var u=r.call(this)||this;return u.ends_=[],u.flatInteriorPointRevision_=-1,u.flatInteriorPoint_=null,u.maxDelta_=-1,u.maxDeltaRevision_=-1,u.orientedRevision_=-1,u.orientedFlatCoordinates_=null,void 0!==n&&i?(u.setFlatCoordinates(n,e),u.ends_=i):u.setCoordinates(e,n),u}return qE(t,r),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Ay(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,n,i,u){return u<Wy(this.getExtent(),e,n)?u:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function Rl(r,t,e,n,i){for(var u=0,d=e.length;u<d;++u){var h=e[u];i=Yg(r,t,h,n,i),t=h}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function NE(r,t,e,n,i,u,d,h,g,_,y){for(var C=y||[NaN,NaN],w=0,T=e.length;w<T;++w){var S=e[w];_=qg(r,t,S,n,i,u,d,h,g,_,C),t=S}return _}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,u))},t.prototype.containsXY=function(e,n){return HE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},t.prototype.getArea=function(){return function jE(r,t,e,n){for(var i=0,u=0,d=e.length;u<d;++u){var h=e[u];i+=BE(r,t,h,n),t=h}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var n;return void 0!==e?nf(n=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):n=this.flatCoordinates,Jd(n,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ps(this.getExtent());this.flatInteriorPoint_=function lT(r,t,e,n,i,u,d){for(var h,g,_,y,C,w,T,S=i[u+1],R=[],N=0,W=e.length;N<W;++N){var Z=e[N];for(y=r[Z-n],w=r[Z-n+1],h=t;h<Z;h+=n)C=r[h],T=r[h+1],(S<=w&&T<=S||w<=S&&S<=T)&&R.push(_=(S-w)/(T-w)*(C-y)+y),y=C,w=T}var ne=NaN,ue=-1/0;for(R.sort(us),y=R[0],h=1,g=R.length;h<g;++h){C=R[h];var Ce=Math.abs(C-y);Ce>ue&&HE(r,t,e,n,_=(y+C)/2,S)&&(ne=_,ue=Ce),y=C}return isNaN(ne)&&(ne=i[u]),d?(d.push(ne,S,ue),d):[ne,S,ue]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new ef(this.getFlatInteriorPoint(),"XYM")},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new Qd(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,u=[],d=0,h=0,g=i.length;h<g;++h){var _=i[h],y=new Qd(n.slice(d,_),e);u.push(y),d=_}return u},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function YE(r,t,e,n,i){for(var u=void 0!==i&&i,d=0,h=e.length;d<h;++d){var g=e[d],_=tf(r,t,g,n);if(0===d){if(u&&_||!u&&!_)return!1}else if(u&&!_||!u&&_)return!1;t=g}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=nf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],i=[];return n.length=function sT(r,t,e,n,i,u,d,h){for(var g=0,_=e.length;g<_;++g){var y=e[g];d=US(r,t,y,n,i,u,d),h.push(d),t=y}return d}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new t(n,"XY",i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(e){return function WE(r,t,e,n,i){if(!$E(r,t,e[0],n,i))return!1;if(1===e.length)return!0;for(var u=1,d=e.length;u<d;++u)if(Jg(r,e[u-1],e[u],n,i)&&!Qg(r,e[u-1],e[u],n,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function VE(r,t,e,n,i){for(var u=i||[],d=0,h=0,g=e.length;h<g;++h){var _=UE(r,t,e[h],n);u[d++]=_,t=_}return u.length=d,u}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},t}(Wg);const dT=Ga;function fT(r){var t=r[0],e=r[1],n=r[2],i=r[3],u=[t,e,t,i,n,i,n,e,t,e];return new Ga(u,"XY",[u.length])}var pT=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GS=function(r){function t(e){var n=r.call(this)||this,i=pn({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=ME(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.nextCenter_=null,n.cancelAnchor_=void 0,i.projection&&Lg(),i.center&&(i.center=zi(i.center)),i.extent&&(i.extent=vs(i.extent)),n.applyOptions_(i),n}return pT(t,r),t.prototype.applyOptions_=function(e){var n=pn({},e);for(var i in Rr)delete n[i];this.setProperties(n,!0);var u=function ZS(r){var t,e,n,d=void 0!==r.minZoom?r.minZoom:0,h=void 0!==r.maxZoom?r.maxZoom:28,g=void 0!==r.zoomFactor?r.zoomFactor:2,_=void 0!==r.multiWorld&&r.multiWorld,y=void 0===r.smoothResolutionConstraint||r.smoothResolutionConstraint,C=void 0!==r.showFullExtent&&r.showFullExtent,w=ME(r.projection,"EPSG:3857"),T=w.getExtent(),S=r.constrainOnlyCenter,R=r.extent;if(!_&&!R&&w.isGlobal()&&(S=!1,R=T),void 0!==r.resolutions){var N=r.resolutions;e=N[d],n=void 0!==N[h]?N[h]:N[N.length-1],t=r.constrainResolution?function XD(r,t,e,n){return function(i,u,d,h){if(void 0!==i){var g=r[0],_=r[r.length-1],y=e?Kd(g,e,d,n):g;if(h)return void 0===t||t?qd(i,y,_):an(i,_,y);var w=Math.min(y,i),T=Math.floor(Xp(r,w,u));return r[T]>y&&T<r.length-1?r[T+1]:r[T]}}}(N,y,!S&&R,C):Bg(e,n,y,!S&&R,C)}else{var Z=(T?Math.max(It(T),Dn(T)):360*Xr[Wi.DEGREES]/w.getMetersPerUnit())/256/Math.pow(2,0),ne=Z/Math.pow(2,28);void 0!==(e=r.maxResolution)?d=0:e=Z/Math.pow(g,d),void 0===(n=r.minResolution)&&(n=void 0!==r.maxZoom?void 0!==r.maxResolution?e/Math.pow(g,h):Z/Math.pow(g,h):ne),h=d+Math.floor(Math.log(e/n)/Math.log(g)),n=e/Math.pow(g,h-d),t=r.constrainResolution?function OE(r,t,e,n,i,u){return function(d,h,g,_){if(void 0!==d){var y=i?Kd(t,i,g,u):t,C=void 0!==e?e:0;if(_)return void 0===n||n?qd(d,y,C):an(d,C,y);var S=Math.ceil(Math.log(t/y)/Math.log(r)-1e-9),R=-h*(.5-1e-9)+.5,N=Math.min(y,d),W=Math.floor(Math.log(t/N)/Math.log(r)+R),Z=Math.max(S,W);return an(t/Math.pow(r,Z),C,y)}}}(g,e,n,y,!S&&R,C):Bg(e,n,y,!S&&R,C)}return{constraint:t,maxResolution:e,minResolution:n,minZoom:d,zoomFactor:g}}(e);this.maxResolution_=u.maxResolution,this.minResolution_=u.minResolution,this.zoomFactor_=u.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=u.minZoom;var d=function HS(r){if(void 0!==r.extent)return xE(r.extent,r.constrainOnlyCenter,void 0===r.smoothExtentConstraint||r.smoothExtentConstraint);var e=ME(r.projection,"EPSG:3857");if(!0!==r.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,xE(n,!1,!1)}return Vg}(e),h=u.constraint,g=function $S(r){if(void 0===r.enableRotation||r.enableRotation){var e=r.constrainRotation;return void 0===e||!0===e?function Hg(r){var t=r||vr(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===e?Gg:"number"==typeof e?function JD(r){var t=2*Math.PI/r;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(e):Gg}return jg}(e);this.constraints_={center:d,resolution:h,rotation:g},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var n=this.padding_;this.padding_=e;var i=this.getCenter();if(i){var u=e||[0,0,0,0];n=n||[0,0,0,0];var d=this.getResolution();this.setCenterInternal([i[0]+d/2*(u[3]-n[3]+n[1]-u[1]),i[1]-d/2*(u[0]-n[0]+n[2]-u[2])])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),pn({},n,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var u=arguments[i];u.center&&((u=pn({},u)).center=zi(u.center,this.getProjection())),u.anchor&&((u=pn({},u)).anchor=zi(u.anchor,this.getProjection())),n[i]=u}this.animateInternal.apply(this,n)},t.prototype.animateInternal=function(e){var i,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n);for(var u=0;u<n&&!this.isDef();++u){var d=arguments[u];d.center&&this.setCenterInternal(d.center),void 0!==d.zoom?this.setZoom(d.zoom):d.resolution&&this.setResolution(d.resolution),void 0!==d.rotation&&this.setRotation(d.rotation)}if(u!==n){for(var h=Date.now(),g=this.targetCenter_.slice(),_=this.targetResolution_,y=this.targetRotation_,C=[];u<n;++u){var w=arguments[u],T={start:h,complete:!1,anchor:w.anchor,duration:void 0!==w.duration?w.duration:1e3,easing:w.easing||Ol,callback:i};if(w.center&&(T.sourceCenter=g,T.targetCenter=w.center.slice(),g=T.targetCenter),void 0!==w.zoom?(T.sourceResolution=_,T.targetResolution=this.getResolutionForZoom(w.zoom),_=T.targetResolution):w.resolution&&(T.sourceResolution=_,T.targetResolution=w.resolution,_=T.targetResolution),void 0!==w.rotation){T.sourceRotation=y;var S=ya(w.rotation-y+Math.PI,2*Math.PI)-Math.PI;T.targetRotation=y+S,y=T.targetRotation}gT(T)?T.complete=!0:h+=T.duration,C.push(T)}this.animations_.push(C),this.setHint(0,1),this.updateAnimations_()}else i&&t_(i,!0)},t.prototype.getAnimating=function(){return this.hints_[0]>0},t.prototype.getInteracting=function(){return this.hints_[1]>0},t.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,n=0,i=this.animations_.length;n<i;++n){var u=this.animations_[n];if(u[0].callback&&t_(u[0].callback,!1),!e)for(var d=0,h=u.length;d<h;++d){var g=u[d];if(!g.complete){e=g.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var u=this.animations_[i],d=!0,h=0,g=u.length;h<g;++h){var _=u[h];if(!_.complete){var C=_.duration>0?(e-_.start)/_.duration:1;C>=1?(_.complete=!0,C=1):d=!1;var w=_.easing(C);if(_.sourceCenter){var T=_.sourceCenter[0],S=_.sourceCenter[1],R=_.targetCenter[0],N=_.targetCenter[1];this.nextCenter_=_.targetCenter,this.targetCenter_=[T+w*(R-T),S+w*(N-S)]}if(_.sourceResolution&&_.targetResolution){var ne=1===w?_.targetResolution:_.sourceResolution+w*(_.targetResolution-_.sourceResolution);if(_.anchor){var ue=this.getViewportSize_(this.getRotation()),Ce=this.constraints_.resolution(ne,0,ue,!0);this.targetCenter_=this.calculateCenterZoom(Ce,_.anchor)}this.nextResolution_=_.targetResolution,this.targetResolution_=ne,this.applyTargetState_(!0)}if(void 0!==_.sourceRotation&&void 0!==_.targetRotation){var Me=1===w?ya(_.targetRotation+Math.PI,2*Math.PI)-Math.PI:_.sourceRotation+w*(_.targetRotation-_.sourceRotation);if(_.anchor){var we=this.constraints_.rotation(Me,!0);this.targetCenter_=this.calculateCenterRotate(we,_.anchor)}this.nextRotation_=_.targetRotation,this.targetRotation_=Me}if(this.applyTargetState_(!0),n=!0,!_.complete)break}}if(d){this.animations_[i]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var xe=u[0].callback;xe&&t_(xe,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,n){var i,u=this.getCenterInternal();return void 0!==u&&(Na(i=[u[0]-n[0],u[1]-n[1]],e-this.getRotation()),function Ti(r,t){r[0]+=+t[0],r[1]+=+t[1]}(i,n)),i},t.prototype.calculateCenterZoom=function(e,n){var i,u=this.getCenterInternal(),d=this.getResolution();return void 0!==u&&void 0!==d&&(i=[n[0]-e*(n[0]-u[0])/d,n[1]-e*(n[1]-u[1])/d]),i},t.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var i=n[0],u=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(u*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(u*Math.cos(e))]}return n},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Er(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(Rr.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){return xl(this.calculateExtentInternal(e),this.getProjection())},t.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();gt(i,1);var u=this.getResolution();gt(void 0!==u,2);var d=this.getRotation();return gt(void 0!==d,3),fg(i,u,d,n)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(Rr.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(vs(e,this.getProjection()),n)},t.prototype.getResolutionForExtentInternal=function(e,n){var i=n||this.getViewportSizeMinusPadding_(),u=It(e)/i[0],d=Dn(e)/i[1];return Math.max(u,d)},t.prototype.getResolutionForValueFunction=function(e){var n=e||2,i=this.getConstrainedResolution(this.maxResolution_),d=Math.log(i/this.minResolution_)/Math.log(n);return function(h){return i/Math.pow(n,h*d)}},t.prototype.getRotation=function(){return this.get(Rr.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),d=Math.log(i/this.minResolution_)/n;return function(h){return Math.log(i/h)/n/d}},t.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},t.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),i=this.getRotation(),u=this.getCenterInternal(),d=this.padding_;if(d){var h=this.getViewportSizeMinusPadding_();u=XE(u,this.getViewportSize_(),[h[0]/2+d[3],h[1]/2+d[0]],n,i)}return{center:u.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e},t.prototype.getZoomForResolution=function(e){var i,u,n=this.minZoom_||0;if(this.resolutions_){var d=Xp(this.resolutions_,e,1);n=d,i=this.resolutions_[d],u=d==this.resolutions_.length-1?2:i/this.resolutions_[d+1]}else i=this.maxResolution_,u=this.zoomFactor_;return n+Math.log(i/e)/Math.log(u)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=an(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],an(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,n){var i;if(gt(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))gt(!hg(e),25),i=fT(u=vs(e,this.getProjection()));else if("Circle"===e.getType()){var u;(i=fT(u=vs(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),ps(u))}else{var d=Ug();i=d?e.clone().transform(d,this.getProjection()):e}this.fitInternal(i,n)},t.prototype.rotatedExtentForGeometry=function(e){for(var n=this.getRotation(),i=Math.cos(n),u=Math.sin(-n),d=e.getFlatCoordinates(),h=e.getStride(),g=1/0,_=1/0,y=-1/0,C=-1/0,w=0,T=d.length;w<T;w+=h){var S=d[w]*i-d[w+1]*u,R=d[w]*u+d[w+1]*i;g=Math.min(g,S),_=Math.min(_,R),y=Math.max(y,S),C=Math.max(C,R)}return[g,_,y,C]},t.prototype.fitInternal=function(e,n){var i=n||{},u=i.size;u||(u=this.getViewportSizeMinusPadding_());var g,d=void 0!==i.padding?i.padding:[0,0,0,0],h=void 0!==i.nearest&&i.nearest;g=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;var _=this.rotatedExtentForGeometry(e),y=this.getResolutionForExtentInternal(_,[u[0]-d[1]-d[3],u[1]-d[0]-d[2]]);y=isNaN(y)?g:Math.max(y,g),y=this.getConstrainedResolution(y,h?0:1);var C=this.getRotation(),w=Math.sin(C),T=Math.cos(C),S=ps(_);S[0]+=(d[1]-d[3])/2*y,S[1]+=(d[0]-d[2])/2*y;var W=this.getConstrainedCenter([S[0]*T-S[1]*w,S[1]*T+S[0]*w],y),Z=i.callback?i.callback:Co;void 0!==i.duration?this.animateInternal({resolution:y,center:W,duration:i.duration,easing:i.easing},Z):(this.targetResolution_=y,this.targetCenter_=W,this.applyTargetState_(!1,!0),t_(Z,!0))},t.prototype.centerOn=function(e,n,i){this.centerOnInternal(zi(e,this.getProjection()),n,i)},t.prototype.centerOnInternal=function(e,n,i){this.setCenterInternal(XE(e,n,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,n,i,u){var d,h=this.padding_;if(h&&e){var g=this.getViewportSizeMinusPadding_(-i),_=XE(e,u,[g[0]/2+h[3],g[1]/2+h[0]],n,i);d=[e[0]-_[0],e[1]-_[1]]}return d},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var n=Er(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},t.prototype.adjustResolution=function(e,n){var i=n&&zi(n,this.getProjection());this.adjustResolutionInternal(e,i)},t.prototype.adjustResolutionInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),u=this.getViewportSize_(this.getRotation()),d=this.constraints_.resolution(this.targetResolution_*e,0,u,i);n&&(this.targetCenter_=this.calculateCenterZoom(d,n)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},t.prototype.adjustRotation=function(e,n){n&&(n=zi(n,this.getProjection())),this.adjustRotationInternal(e,n)},t.prototype.adjustRotationInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),u=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(u,n)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(e&&zi(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,n){var i=this.getAnimating()||this.getInteracting()||n,u=this.constraints_.rotation(this.targetRotation_,i),d=this.getViewportSize_(u),h=this.constraints_.resolution(this.targetResolution_,0,d,i),g=this.constraints_.center(this.targetCenter_,h,d,i,this.calculateCenterShift(this.targetCenter_,h,u,d));this.get(Rr.ROTATION)!==u&&this.set(Rr.ROTATION,u),this.get(Rr.RESOLUTION)!==h&&(this.set(Rr.RESOLUTION,h),this.set("zoom",this.getZoom(),!0)),(!g||!this.get(Rr.CENTER)||!kd(this.get(Rr.CENTER),g))&&this.set(Rr.CENTER,g),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,n,i){var u=void 0!==e?e:200,d=n||0,h=this.constraints_.rotation(this.targetRotation_),g=this.getViewportSize_(h),_=this.constraints_.resolution(this.targetResolution_,d,g),y=this.constraints_.center(this.targetCenter_,_,g,!1,this.calculateCenterShift(this.targetCenter_,_,h,g));if(0===u&&!this.cancelAnchor_)return this.targetResolution_=_,this.targetRotation_=h,this.targetCenter_=y,void this.applyTargetState_();var C=i||(0===u?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==_||this.getRotation()!==h||!this.getCenterInternal()||!kd(this.getCenterInternal(),y))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:h,center:y,resolution:_,duration:u,easing:ms,anchor:C}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},t.prototype.endInteraction=function(e,n,i){var u=i&&zi(i,this.getProjection());this.endInteractionInternal(e,n,u)},t.prototype.endInteractionInternal=function(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)},t.prototype.getConstrainedCenter=function(e,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(e,n){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},t.prototype.getConstrainedResolution=function(e,n){var i=n||0,u=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,u)},t}(rr);function t_(r,t){setTimeout(function(){r(t)},0)}function gT(r){return!(r.sourceCenter&&r.targetCenter&&!kd(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function XE(r,t,e,n,i){var u=Math.cos(-i),d=Math.sin(-i),h=r[0]*u-r[1]*d,g=r[1]*u+r[0]*d;return[(h+=(t[0]/2-e[0])*n)*u-(g+=(e[1]-t[1]/2)*n)*(d=-d),g*u+h*d]}const Cs=GS;var WS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function _T(r){r instanceof La?r.setMapInternal(null):r instanceof Gd&&r.getLayers().forEach(_T)}function vT(r,t){if(r instanceof La)r.setMapInternal(t);else if(r instanceof Gd)for(var e=r.getLayers().getArray(),n=0,i=e.length;n<i;++n)vT(e[n],t)}var zS=function(r){function t(e){var n=r.call(this)||this,i=function o(r){var t=null;void 0!==r.keyboardEventTarget&&(t="string"==typeof r.keyboardEventTarget?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var i,u,d,e={},n=r.layers&&"function"==typeof r.layers.getLayers?r.layers:new Gd({layers:r.layers});return e.layergroup=n,e.target=r.target,e.view=r.view instanceof Cs?r.view:new Cs,void 0!==r.controls&&(Array.isArray(r.controls)?i=new yr(r.controls.slice()):(gt("function"==typeof r.controls.getArray,47),i=r.controls)),void 0!==r.interactions&&(Array.isArray(r.interactions)?u=new yr(r.interactions.slice()):(gt("function"==typeof r.interactions.getArray,48),u=r.interactions)),void 0!==r.overlays?Array.isArray(r.overlays)?d=new yr(r.overlays.slice()):(gt("function"==typeof r.overlays.getArray,49),d=r.overlays):d=new yr,{controls:i,interactions:u,keyboardEventTarget:t,overlays:d,values:e}}(e);n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:il,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new yr,n.interactions=i.interactions||new yr,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Ag(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener("layergroup",n.handleLayerGroupChanged_),n.addChangeListener("view",n.handleViewChanged_),n.addChangeListener("size",n.handleSizeChanged_),n.addChangeListener("target",n.handleTargetChanged_),n.setProperties(i.values);var u=n;return e.view&&!(e.view instanceof Cs)&&e.view.then(function(d){u.setView(new Cs(d))}),n.controls.addEventListener("add",function(d){d.element.setMap(this)}.bind(n)),n.controls.addEventListener("remove",function(d){d.element.setMap(null)}.bind(n)),n.interactions.addEventListener("add",function(d){d.element.setMap(this)}.bind(n)),n.interactions.addEventListener("remove",function(d){d.element.setMap(null)}.bind(n)),n.overlays_.addEventListener("add",function(d){this.addOverlayInternal_(d.element)}.bind(n)),n.overlays_.addEventListener("remove",function(d){var g=d.element.getId();void 0!==g&&delete this.overlayIdIndex_[g.toString()],d.element.setMap(null)}.bind(n)),n.controls.forEach(function(d){d.setMap(this)}.bind(n)),n.interactions.forEach(function(d){d.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return WS(t,r),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.handleLayerAdd_=function(e){vT(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),r.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,n,i){if(this.frameState_&&this.renderer_){var u=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(u,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:ls,null)}},t.prototype.getFeaturesAtPixel=function(e,n){var i=[];return this.forEachFeatureAtPixel(e,function(u){i.push(u)},n),i},t.prototype.getAllLayers=function(){var e=[];return function n(i){i.forEach(function(u){u instanceof Gd?n(u.getLayers()):e.push(u)})}(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,n,i){if(this.frameState_&&this.renderer_){var u=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==u.hitTolerance?u.hitTolerance:0,n,u.layerFilter||ls)}},t.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:ls,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]},t.prototype.getTarget=function(){return this.get("target")},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Er(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?un(n.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get("layergroup")},t.prototype.setLayers=function(e){var n=this.getLayerGroup();if(e instanceof yr)n.setLayers(e);else{var i=n.getLayers();i.clear(),i.extend(e)}},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var u=e[n];if(u.visible){var d=u.layer.getRenderer();if(d&&!d.ready)return!0;var h=u.layer.getSource();if(h&&h.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(e){var n=zi(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},t.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?un(n.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get("size")},t.prototype.getView=function(){return this.get("view")},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,n,i,u){return function dE(r,t,e,n,i){if(!r||!(e in r.wantedTiles)||!r.wantedTiles[e][t.getKey()])return Hd;var u=r.viewState.center,d=n[0]-u[0],h=n[1]-u[1];return 65536*Math.log(i)+Math.sqrt(d*d+h*h)/i}(this.frameState_,e,n,i,u)},t.prototype.handleBrowserEvent=function(e,n){var u=new Io(n||e.type,this,e);this.handleMapBrowserEvent(u)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var u=this.getOwnerDocument(),d=this.viewport_.getRootNode?this.viewport_.getRootNode():u,h=n.target;if(this.overlayContainerStopEvent_.contains(h)||!(d===u?u.documentElement:d).contains(h))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var g=this.getInteractions().getArray().slice(),_=g.length-1;_>=0;_--){var y=g[_];if(y.getMap()===this&&y.getActive()&&this.getTargetElement()&&(!y.handleEvent(e)||e.propagationStopped))break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,u=i;if(e){var d=e.viewHints;if(d[0]||d[1]){var h=Date.now()-e.time>8;i=h?0:8,u=h?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,u))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ln("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new ln("loadstart",this,e))));for(var g=this.postRenderFunctions_,_=0,y=g.length;_<y;++_)g[_](this,e);g.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,n=this.targetChangeHandlerKeys_.length;e<n;++e)Ft(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Md(this.viewport_)}var i=this.getTargetElement();if(i){for(var u in i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Cl(this,this.moveTolerance_),en)this.mapBrowserEventHandler_.addEventListener(en[u],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!zp&&{passive:!1});var d=this.getOwnerDocument().defaultView,h=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Ct(h,"keydown",this.handleBrowserEvent,this),Ct(h,"keypress",this.handleBrowserEvent,this),Ct(d,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ft(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ft(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Ct(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ct(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ft),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new So("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ct(e,"propertychange",this.render,this),Ct(e,"change",this.render,this),Ct(e,"addlayer",this.handleLayerAdd_,this),Ct(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var u=e[n].layer;u.hasRenderer()&&u.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.handleLayerRemove_=function(e){_T(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var n=this,i=this.getSize(),u=this.getView(),d=this.frameState_,h=null;if(void 0!==i&&Hp(i)&&u&&u.isDef()){var g=u.getHints(this.frameState_?this.frameState_.viewHints:void 0),_=u.getState();if(h={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:fg(_.center,_.resolution,_.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:_,viewHints:g,wantedTiles:{},mapId:Dt(this),renderTargets:{}},_.nextCenter&&_.nextResolution){var y=isNaN(_.nextRotation)?_.rotation:_.nextRotation;h.nextExtent=fg(_.nextCenter,_.nextResolution,y,i)}}this.frameState_=h,this.renderer_.renderFrame(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions),d&&(!this.previousExtent_||!hg(this.previousExtent_)&&!xa(h.extent,this.previousExtent_))&&(this.dispatchEvent(new ln("movestart",this,d)),this.previousExtent_=Aa(this.previousExtent_)),this.previousExtent_&&!h.viewHints[0]&&!h.viewHints[1]&&!xa(h.extent,this.previousExtent_)&&(this.dispatchEvent(new ln("moveend",this,h)),$y(h.extent,this.previousExtent_))),this.dispatchEvent(new ln("postrender",this,h)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},t.prototype.setLayerGroup=function(e){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new So("removelayer",n)),this.set("layergroup",e)},t.prototype.setSize=function(e){this.set("size",e)},t.prototype.setTarget=function(e){this.set("target",e)},t.prototype.setView=function(e){if(!e||e instanceof Cs)this.set("view",e);else{this.set("view",new Cs);var n=this;e.then(function(i){n.setView(new Cs(i))})}},t.prototype.updateSize=function(){var e=this.getTargetElement(),n=void 0;if(e){var i=getComputedStyle(e),u=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),d=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(u)&&!isNaN(d)&&!Hp(n=[u,d])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(n),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}},t}(rr);const s=zS;var a=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c=function(r){function t(e){var n=r.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return a(t,r),t.prototype.disposeInternal=function(){Md(this.element),r.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Md(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Ft(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Co&&this.listenerKeys.push(Ct(e,"postrender",this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(rr);const f=c;var p=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v=function(r){function t(e){var n=this,i=e||{};(n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var u=void 0!==i.className?i.className:"ol-attribution",d=void 0!==i.tipLabel?i.tipLabel:"Attributions",h=void 0!==i.expandClassName?i.expandClassName:u+"-expand",g=void 0!==i.collapseLabel?i.collapseLabel:"\u203a",_=void 0!==i.collapseClassName?i.collapseClassName:u+"-collapse";"string"==typeof g?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=g,n.collapseLabel_.className=_):n.collapseLabel_=g;var y=void 0!==i.label?i.label:"i";"string"==typeof y?(n.label_=document.createElement("span"),n.label_.textContent=y,n.label_.className=h):n.label_=y;var C=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=d,n.toggleButton_.appendChild(C),n.toggleButton_.addEventListener("click",n.handleClick_.bind(n),!1);var T=n.element;return T.className=u+" "+Jp+" "+Sd+(n.collapsed_&&n.collapsible_?" "+Py:"")+(n.collapsible_?"":" ol-uncollapsible"),T.appendChild(n.toggleButton_),T.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return p(t,r),t.prototype.collectSourceAttributions_=function(e){for(var n={},i=[],u=!0,d=e.layerStatesArray,h=0,g=d.length;h<g;++h){var _=d[h];if(Ld(_,e.viewState)){var y=_.layer.getSource();if(y){var C=y.getAttributions();if(C){var w=C(e);if(w)if(u=u&&!1!==y.getAttributionsCollapsible(),Array.isArray(w))for(var T=0,S=w.length;T<S;++T)w[T]in n||(i.push(w[T]),n[w[T]]=!0);else w in n||(i.push(w),n[w]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(u),i},t.prototype.updateElement_=function(e){if(e){var n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Eo(n,this.renderedAttributions_)){Iy(this.ulElement_);for(var u=0,d=n.length;u<d;++u){var h=document.createElement("li");h.innerHTML=n[u],this.ulElement_.appendChild(h)}this.renderedAttributions_=n}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(Py),this.collapsed_?Kp(this.collapseLabel_,this.label_):Kp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(f);const m=v;var E=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D=function(r){function t(e){var n=this,i=e||{};n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var u=void 0!==i.className?i.className:"ol-rotate",d=void 0!==i.label?i.label:"\u21e7",h=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof d?(n.label_=document.createElement("span"),n.label_.className=h,n.label_.textContent=d):(n.label_=d,n.label_.classList.add(h));var g=i.tipLabel?i.tipLabel:"Reset rotation",_=document.createElement("button");_.className=u+"-reset",_.setAttribute("type","button"),_.title=g,_.appendChild(n.label_),_.addEventListener("click",n.handleClick_.bind(n),!1);var C=n.element;return C.className=u+" "+Jp+" "+Sd,C.appendChild(_),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(ds),n}return E(t,r),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var n=this.getMap().getView();if(n){var i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:ms}):n.setRotation(0))}},t.prototype.render=function(e){var n=e.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var u="rotate("+i+"rad)";if(this.autoHide_){var d=this.element.classList.contains(ds);d||0!==i?d&&0!==i&&this.element.classList.remove(ds):this.element.classList.add(ds)}this.label_.style.transform=u}this.rotation_=i}},t}(f);const I=D;var A=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P=function(r){function t(e){var n=this,i=e||{};n=r.call(this,{element:document.createElement("div"),target:i.target})||this;var u=void 0!==i.className?i.className:"ol-zoom",d=void 0!==i.delta?i.delta:1,h=void 0!==i.zoomInClassName?i.zoomInClassName:u+"-in",g=void 0!==i.zoomOutClassName?i.zoomOutClassName:u+"-out",_=void 0!==i.zoomInLabel?i.zoomInLabel:"+",y=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2013",C=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",w=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",T=document.createElement("button");T.className=h,T.setAttribute("type","button"),T.title=C,T.appendChild("string"==typeof _?document.createTextNode(_):_),T.addEventListener("click",n.handleClick_.bind(n,d),!1);var S=document.createElement("button");S.className=g,S.setAttribute("type","button"),S.title=w,S.appendChild("string"==typeof y?document.createTextNode(y):y),S.addEventListener("click",n.handleClick_.bind(n,-d),!1);var N=n.element;return N.className=u+" "+Jp+" "+Sd,N.appendChild(T),N.appendChild(S),n.duration_=void 0!==i.duration?i.duration:250,n}return A(t,r),t.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var u=i.getZoom();if(void 0!==u){var d=i.getConstrainedZoom(u+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:d,duration:this.duration_,easing:ms})):i.setZoom(d)}}},t}(f);const Y=P;var Ae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Le=function(r){function t(e){var n=r.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Ae(t,r),t.prototype.getActive=function(){return this.get("active")},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set("active",e)},t.prototype.setMap=function(e){this.map_=e},t}(rr);function he(r,t,e,n){var i=r.getZoom();if(void 0!==i){var u=r.getConstrainedZoom(i+t),d=r.getResolutionForZoom(u);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:d,anchor:e,duration:void 0!==n?n:250,easing:ms})}}const Ve=Le;var _t=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bt=function(r){function t(e){var n=r.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return _t(t,r),t.prototype.handleEvent=function(e){var n=!1;if(e.type==en.DBLCLICK){var i=e.originalEvent,d=e.coordinate,h=i.shiftKey?-this.delta_:this.delta_;he(e.map.getView(),h,d,this.duration_),i.preventDefault(),n=!0}return!n},t}(Ve);const ws=Bt;var n_=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r_=function(r){function t(e){var n=this,i=e||{};return n=r.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return n_(t,r),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==en.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==en.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==en.POINTERDOWN){var u=this.handleDownEvent(e);this.handlingDownUpSequence=u,n=this.stopDown(u)}else e.type==en.POINTERMOVE&&this.handleMoveEvent(e);return!n},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){e.activePointers&&(this.targetPointers=e.activePointers)},t}(Ve);function Fl(r){for(var t=r.length,e=0,n=0,i=0;i<t;i++)e+=r[i].clientX,n+=r[i].clientY;return[e/t,n/t]}const Ds=r_;function Ll(r){var t=arguments;return function(e){for(var n=!0,i=0,u=t.length;i<u&&(n=n&&t[i](e));++i);return n}}var i_=function(r){var t=r.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},rf=function(r){return!r.map.getTargetElement().hasAttribute("tabindex")||function(r){var t=r.map.getTargetElement(),e=r.map.getOwnerDocument().activeElement;return t.contains(e)}(r)},jA=ls,YS=function(r){var t=r.originalEvent;return 0==t.button&&!(Dy&&Wp&&t.ctrlKey)},KS=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},GA=function(r){var t=r.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},qS=function(r){var t=r.originalEvent,e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e&&!t.target.isContentEditable},mT=function(r){var t=r.originalEvent;return gt(void 0!==t,56),"mouse"==t.pointerType},HA=function(r){var t=r.originalEvent;return gt(void 0!==t,56),t.isPrimary&&0===t.button},ZA=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$A=function(r){function t(e){var n=r.call(this,{stopDown:ol})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var u=i.condition?i.condition:Ll(KS,HA);return n.condition_=i.onFocusOnly?Ll(rf,u):u,n.noKinetic_=!1,n}return ZA(t,r),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=Fl(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var u=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],h=e.map.getView();(function Ud(r,t){r[0]*=t,r[1]*=t})(u,h.getResolution()),Na(u,h.getRotation()),h.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var u=this.kinetic_.getDistance(),d=this.kinetic_.getAngle(),h=i.getCenterInternal(),g=n.getPixelFromCoordinateInternal(h),_=n.getCoordinateFromPixelInternal([g[0]-u*Math.cos(d),g[1]-u*Math.sin(d)]);i.animateInternal({center:i.getConstrainedCenter(_),duration:500,easing:ms})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(Ds);const WA=$A;var zA=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YA=function(r){function t(e){var n=this,i=e||{};return(n=r.call(this,{stopDown:ol})||this).condition_=i.condition?i.condition:i_,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return zA(t,r),t.prototype.handleDragEvent=function(e){if(mT(e)){var n=e.map,i=n.getView();if(i.getConstraints().rotation!==jg){var u=n.getSize(),d=e.pixel,h=Math.atan2(u[1]/2-d[1],d[0]-u[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(h-this.lastAngle_)),this.lastAngle_=h}}},t.prototype.handleUpEvent=function(e){return!mT(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!(!mT(e)||!YS(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},t}(Ds);const KA=YA;var qA=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XA=function(r){function t(e){var n=r.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return qA(t,r),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,i="px",u=this.element_.style;u.left=Math.min(e[0],n[0])+i,u.top=Math.min(e[1],n[1])+i,u.width=Math.abs(n[0]-e[0])+i,u.height=Math.abs(n[1]-e[1])+i},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,u=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);u[4]=u[0].slice(),this.geometry_?this.geometry_.setCoordinates([u]):this.geometry_=new dT([u])},t.prototype.getGeometry=function(){return this.geometry_},t}(qp);const JA=XA;var XS=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yT=function(r){function t(e,n,i){var u=r.call(this,e)||this;return u.coordinate=n,u.mapBrowserEvent=i,u}return XS(t,r),t}(Bi),QA=function(r){function t(e){var n=r.call(this)||this,i=e||{};return n.box_=new JA(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:YS,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return XS(t,r),t.prototype.defaultBoxEndCondition=function(e,n,i){var u=i[0]-n[0],d=i[1]-n[1];return u*u+d*d>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new yT("boxdrag",e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new yT(n?"boxend":"boxcancel",e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new yT("boxstart",e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(Ds);const ex=QA;var tx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nx=function(r){function t(e){var n=this,i=e||{};return(n=r.call(this,{condition:i.condition?i.condition:GA,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return tx(t,r),t.prototype.onBoxEnd=function(e){var i=this.getMap().getView(),u=this.getGeometry();if(this.out_){var d=i.rotatedExtentForGeometry(u),h=i.getResolutionForExtentInternal(d),g=i.getResolution()/h;(u=u.clone()).scale(g*g)}i.fitInternal(u,{duration:this.duration_,easing:ms})},t}(ex);const rx=nx;var ix=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ox=function(r){function t(e){var n=r.call(this)||this,i=e||{};return n.defaultCondition_=function(u){return KS(u)&&qS(u)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return ix(t,r),t.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type){var i=e.originalEvent,u=i.keyCode;if(this.condition_(e)&&(40==u||37==u||39==u||38==u)){var h=e.map.getView(),g=h.getResolution()*this.pixelDelta_,_=0,y=0;40==u?y=-g:37==u?_=-g:39==u?_=g:y=g;var C=[_,y];Na(C,h.getRotation()),function Ze(r,t,e){var n=r.getCenterInternal();n&&r.animateInternal({duration:void 0!==e?e:250,easing:Ki,center:r.getConstrainedCenter([n[0]+t[0],n[1]+t[1]])})}(h,C,this.duration_),i.preventDefault(),n=!0}}return!n},t}(Ve);const sx=ox;var ax=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ux=function(r){function t(e){var n=r.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:qS,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return ax(t,r),t.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,u=i.charCode;if(this.condition_(e)&&(u=="+".charCodeAt(0)||u=="-".charCodeAt(0))){var d=e.map,h=u=="+".charCodeAt(0)?this.delta_:-this.delta_;he(d.getView(),h,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},t}(Ve);const lx=ux;var cx=function(){function r(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var u=this.points_[e]-this.points_[n],d=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(d,u),this.initialVelocity_=Math.sqrt(u*u+d*d)/i,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}();const dx=cx;var fx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hx=function(r){function t(e){var n=this,i=e||{};(n=r.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var u=i.condition?i.condition:jA;return n.condition_=i.onFocusOnly?Ll(rf,u):u,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return fx(t,r),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var d,i=e.map,u=e.originalEvent;if(u.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(d=u.deltaY,Td&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=il),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)),0===d)return!1;this.lastDelta_=d;var h=Date.now();void 0===this.startTime_&&(this.startTime_=h),(!this.mode_||h-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(d)<4?"trackpad":"wheel");var g=i.getView();if("trackpad"===this.mode_&&!g.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(g.getAnimating()&&g.cancelAnimations(),g.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),g.adjustZoom(-d/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=h,!1;this.totalDelta_+=d;var _=Math.max(this.timeout_-(h-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),_),!1},t.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var i=-an(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),he(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(Ve);const px=hx;var gx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_x=function(r){function t(e){var n=this,i=e||{},u=i;return u.stopDown||(u.stopDown=ol),(n=r.call(this,u)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return gx(t,r),t.prototype.handleDragEvent=function(e){var n=0,i=this.targetPointers[0],u=this.targetPointers[1],d=Math.atan2(u.clientY-i.clientY,u.clientX-i.clientX);if(void 0!==this.lastAngle_){var h=d-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=h}this.lastAngle_=d;var g=e.map,_=g.getView();if(_.getConstraints().rotation!==jg){var y=g.getViewport().getBoundingClientRect(),C=Fl(this.targetPointers);C[0]-=y.left,C[1]-=y.top,this.anchor_=g.getCoordinateFromPixelInternal(C),this.rotating_&&(g.render(),_.adjustRotationInternal(n,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},t}(Ds);const vx=_x;var mx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yx=function(r){function t(e){var n=this,i=e||{},u=i;return u.stopDown||(u.stopDown=ol),(n=r.call(this,u)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return mx(t,r),t.prototype.handleDragEvent=function(e){var n=1,i=this.targetPointers[0],u=this.targetPointers[1],d=i.clientX-u.clientX,h=i.clientY-u.clientY,g=Math.sqrt(d*d+h*h);void 0!==this.lastDistance_&&(n=this.lastDistance_/g),this.lastDistance_=g;var _=e.map,y=_.getView();1!=n&&(this.lastScaleDelta_=n);var C=_.getViewport().getBoundingClientRect(),w=Fl(this.targetPointers);w[0]-=C.left,w[1]-=C.top,this.anchor_=_.getCoordinateFromPixelInternal(w),_.render(),y.adjustResolutionInternal(n,this.anchor_)},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},t}(Ds);const Ex=yx;function JS(r){var t=r||{},e=new yr,n=new dx(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new KA),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new ws({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new WA({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new vx),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Ex({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new sx),e.push(new lx({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new px({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new rx({duration:t.zoomDuration})),e}var Cx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wx=function(r){function t(e){return(e=pn({},e)).controls||(e.controls=function ce(r){var t=r||{},e=new yr;return(void 0===t.zoom||t.zoom)&&e.push(new Y(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new I(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new m(t.attributionOptions)),e}()),e.interactions||(e.interactions=JS({onFocusOnly:!0})),r.call(this,e)||this}return Cx(t,r),t.prototype.createRenderer=function(){return new kD(this)},t}(s);const Dx=wx;var Tx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mx=function(r){function t(e){var n=this,i=e||{},u=pn({},i);return delete u.preload,delete u.useInterimTilesOnError,(n=r.call(this,u)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return Tx(t,r),t.prototype.getPreload=function(){return this.get("preload")},t.prototype.setPreload=function(e){this.set("preload",e)},t.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},t.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},t.prototype.getData=function(e){return r.prototype.getData.call(this,e)},t}(La);const Sx=Mx;var Ix=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ax=function(r){function t(e){var n=r.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Ix(t,r),t.prototype.getFeatures=function(e){return pt()},t.prototype.getData=function(e){return null},t.prototype.prepareFrame=function(e){return pt()},t.prototype.renderFrame=function(e,n){return pt()},t.prototype.loadedTileCallback=function(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(e,n,i){return function(u,d){var h=this.loadedTileCallback.bind(this,i,u);return e.forEachLoadedTile(n,u,d,h)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,n,i,u,d){},t.prototype.getDataAtPixel=function(e,n,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()},t.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},t}(Ry);const xx=Ax;var Ox=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),QS=[],sf=null,bx=function(r){function t(e){var n=r.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return Ox(t,r),t.prototype.getImageData=function(e,n,i){var u;sf||function Rx(){var r=document.createElement("canvas");r.width=1,r.height=1,sf=r.getContext("2d")}(),sf.clearRect(0,0,1,1);try{sf.drawImage(e,n,i,1,1,0,0,1,1),u=sf.getImageData(0,0,1,1).data}catch{return sf=null,null}return u},t.prototype.getBackground=function(e){var i=this.getLayer().getBackground();return"function"==typeof i&&(i=i(e.viewState.resolution)),i||void 0},t.prototype.useContainer=function(e,n,i){var d,h,u=this.getLayer().getClassName();if(e&&e.className===u&&(!i||e&&e.style.backgroundColor&&Eo(Ea(e.style.backgroundColor),Ea(i)))&&(g=e.firstElementChild)instanceof HTMLCanvasElement&&(h=g.getContext("2d")),h&&h.canvas.style.transform===n?(this.container=e,this.context=h,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(d=document.createElement("div")).className=u;var g,_=d.style;_.position="absolute",_.width="100%",_.height="100%",h=nr(),d.appendChild(g=h.canvas),(_=g.style).position="absolute",_.left="0",_.transformOrigin="top left",this.container=d,this.context=h}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},t.prototype.clipUnrotated=function(e,n,i){var u=Zi(i),d=bd(i),h=ba(i),g=_l(i);un(n.coordinateToPixelTransform,u),un(n.coordinateToPixelTransform,d),un(n.coordinateToPixelTransform,h),un(n.coordinateToPixelTransform,g);var _=this.inversePixelTransform;un(_,u),un(_,d),un(_,h),un(_,g),e.save(),e.beginPath(),e.moveTo(Math.round(u[0]),Math.round(u[1])),e.lineTo(Math.round(d[0]),Math.round(d[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.lineTo(Math.round(g[0]),Math.round(g[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,n,i){var u=this.getLayer();if(u.hasListener(e)){var d=new Vd(e,this.inversePixelTransform,i,n);u.dispatchEvent(d)}},t.prototype.preRender=function(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)},t.prototype.postRender=function(e,n){this.dispatchRenderEvent_("postrender",e,n)},t.prototype.getRenderTransform=function(e,n,i,u,d,h,g){var C=u/n;return qr(this.tempTransform,d/2,h/2,C,-C,-i,-e[0]+g,-e[1])},t.prototype.getDataAtPixel=function(e,n,i){var u=un(this.inversePixelTransform,e.slice()),d=this.context,g=this.getLayer().getExtent();if(g&&!fs(g,un(n.pixelToCoordinateTransform,e.slice())))return null;var S,y=Math.round(u[0]),C=Math.round(u[1]),w=this.pixelContext_;if(!w){var T=document.createElement("canvas");T.width=1,T.height=1,w=T.getContext("2d"),this.pixelContext_=w}w.clearRect(0,0,1,1);try{w.drawImage(d.canvas,y,C,1,1,0,0,1,1),S=w.getImageData(0,0,1,1).data}catch(R){return"SecurityError"===R.name?(this.pixelContext_=null,new Uint8Array):S}return 0===S[3]?null:S},t.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},t}(xx);const eI=bx;var Px=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fx=function(r){function t(e,n,i){var u=r.call(this)||this,d=i||{};return u.tileCoord=e,u.state=n,u.interimTile=null,u.key="",u.transition_=void 0===d.transition?250:d.transition,u.transitionStarts_={},u.interpolate=!!d.interpolate,u}return Px(t,r),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){pt()},t.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=n;var u=n-i+1e3/60;return u>=this.transition_?1:Yi(u/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(al);const tI=Fx;var Lx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nx=function(r){function t(e,n,i,u,d,h){var g=r.call(this,e,n,h)||this;return g.crossOrigin_=u,g.src_=i,g.key=i,g.image_=new Image,null!==u&&(g.image_.crossOrigin=u),g.unlisten_=null,g.tileLoadFunction_=d,g}return Lx(t,r),t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function kx(){var r=nr(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},t.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=_g(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(tI);const nI=Nx;var Bx=function(){function r(t,e,n,i,u,d){this.sourceProj_=t,this.targetProj_=e;var h={},g=Yd(this.targetProj_,this.sourceProj_);this.transformInv_=function(ne){var ue=ne[0]+"/"+ne[1];return h[ue]||(h[ue]=g(ne)),h[ue]},this.maxSourceExtent_=i,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&It(i)==It(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?It(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?It(this.targetProj_.getExtent()):null;var _=Zi(n),y=bd(n),C=ba(n),w=_l(n),T=this.transformInv_(_),S=this.transformInv_(y),R=this.transformInv_(C),N=this.transformInv_(w),W=10+(d?Math.max(0,Math.ceil(Nw(Ra(n)/(d*d*256*256)))):0);if(this.addQuad_(_,y,C,w,T,S,R,N,W),this.wrapsXInSource_){var Z=1/0;this.triangles_.forEach(function(ne,ue,Ce){Z=Math.min(Z,ne.source[0][0],ne.source[1][0],ne.source[2][0])}),this.triangles_.forEach(function(ne){if(Math.max(ne.source[0][0],ne.source[1][0],ne.source[2][0])-Z>this.sourceWorldWidth_/2){var ue=[[ne.source[0][0],ne.source[0][1]],[ne.source[1][0],ne.source[1][1]],[ne.source[2][0],ne.source[2][1]]];ue[0][0]-Z>this.sourceWorldWidth_/2&&(ue[0][0]-=this.sourceWorldWidth_),ue[1][0]-Z>this.sourceWorldWidth_/2&&(ue[1][0]-=this.sourceWorldWidth_),ue[2][0]-Z>this.sourceWorldWidth_/2&&(ue[2][0]-=this.sourceWorldWidth_);var Ce=Math.min(ue[0][0],ue[1][0],ue[2][0]);Math.max(ue[0][0],ue[1][0],ue[2][0])-Ce<this.sourceWorldWidth_/2&&(ne.source=ue)}}.bind(this))}h={}}return r.prototype.addTriangle_=function(t,e,n,i,u,d){this.triangles_.push({source:[i,u,d],target:[t,e,n]})},r.prototype.addQuad_=function(t,e,n,i,u,d,h,g,_){var y=ag([u,d,h,g]),C=this.sourceWorldWidth_?It(y)/this.sourceWorldWidth_:null,w=this.sourceWorldWidth_,T=this.sourceProj_.canWrapX()&&C>.5&&C<1,S=!1;if(_>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(S=It(ag([t,e,n,i]))/this.targetWorldWidth_>.25||S),!T&&this.sourceProj_.isGlobal()&&C&&(S=C>.25||S)),!(!S&&this.maxSourceExtent_&&isFinite(y[0])&&isFinite(y[1])&&isFinite(y[2])&&isFinite(y[3]))||ir(y,this.maxSourceExtent_)){var W=0;if(!(S||isFinite(u[0])&&isFinite(u[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(g[0])&&isFinite(g[1])))if(_>0)S=!0;else if(1!=(W=(isFinite(u[0])&&isFinite(u[1])?0:8)+(isFinite(d[0])&&isFinite(d[1])?0:4)+(isFinite(h[0])&&isFinite(h[1])?0:2)+(isFinite(g[0])&&isFinite(g[1])?0:1))&&2!=W&&4!=W&&8!=W)return;if(_>0){if(!S){var ne=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]),ue=void 0;ue=T?(ya(u[0],w)+ya(h[0],w))/2-ya(ne[0],w):(u[0]+h[0])/2-ne[0];var Me=(u[1]+h[1])/2-ne[1];S=ue*ue+Me*Me>this.errorThresholdSquared_}if(S){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var xe=[(e[0]+n[0])/2,(e[1]+n[1])/2],ke=this.transformInv_(xe),$e=[(i[0]+t[0])/2,(i[1]+t[1])/2],Qe=this.transformInv_($e);this.addQuad_(t,e,xe,$e,u,d,ke,Qe,_-1),this.addQuad_($e,xe,n,i,Qe,ke,h,g,_-1)}else{var tt=[(t[0]+e[0])/2,(t[1]+e[1])/2],He=this.transformInv_(tt),at=[(n[0]+i[0])/2,(n[1]+i[1])/2],ut=this.transformInv_(at);this.addQuad_(t,tt,at,i,u,He,ut,g,_-1),this.addQuad_(tt,e,n,at,He,d,h,ut,_-1)}return}}if(T){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&W)&&this.addTriangle_(t,n,i,u,h,g),0==(14&W)&&this.addTriangle_(t,n,e,u,h,d),W&&(0==(13&W)&&this.addTriangle_(e,i,t,d,g,u),0==(7&W)&&this.addTriangle_(e,i,n,d,g,h))}},r.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var u=e.source;Oa(t,u[0]),Oa(t,u[1]),Oa(t,u[2])}),t},r.prototype.getTriangles=function(){return this.triangles_},r}();const jx=Bx;var wT,CT={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Gx={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},iI=[];function oI(r,t,e,n,i){r.beginPath(),r.moveTo(0,0),r.lineTo(t,e),r.lineTo(n,i),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,n)+1,Math.max(e,i)),r.restore()}function DT(r,t){return Math.abs(r[4*t]-210)>2||Math.abs(r[4*t+3]-191.25)>2}function sI(r,t,e,n){var i=Al(e,t,r),u=kg(t,n,e),d=t.getMetersPerUnit();void 0!==d&&(u*=d);var h=r.getMetersPerUnit();void 0!==h&&(u/=h);var g=r.getExtent();if(!g||fs(g,i)){var _=kg(r,u,i)/u;isFinite(_)&&_>0&&(u/=_)}return u}var Wx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zx=function(r){function t(e,n,i,u,d,h,g,_,y,C,w,T){var S=r.call(this,d,0,{interpolate:!!T})||this;S.renderEdges_=void 0!==w&&w,S.pixelRatio_=g,S.gutter_=_,S.canvas_=null,S.sourceTileGrid_=n,S.targetTileGrid_=u,S.wrappedTileCoord_=h||d,S.sourceTiles_=[],S.sourcesListenerKeys_=null,S.sourceZ_=0;var R=u.getTileCoordExtent(S.wrappedTileCoord_),N=S.targetTileGrid_.getExtent(),W=S.sourceTileGrid_.getExtent(),Z=N?Pa(R,N):R;if(0===Ra(Z))return S.state=4,S;var ne=e.getExtent();ne&&(W=W?Pa(W,ne):ne);var ue=u.getResolution(S.wrappedTileCoord_[0]),Ce=function Zx(r,t,e,n){var i=ps(e),u=sI(r,t,i,n);return(!isFinite(u)||u<=0)&&Od(e,function(d){return u=sI(r,t,d,n),isFinite(u)&&u>0}),u}(e,i,Z,ue);if(!isFinite(Ce)||Ce<=0)return S.state=4,S;if(S.triangulation_=new jx(e,i,Z,W,Ce*(void 0!==C?C:.5),ue),0===S.triangulation_.getTriangles().length)return S.state=4,S;S.sourceZ_=n.getZForResolution(Ce);var we=S.triangulation_.calculateSourceExtent();if(W&&(e.canWrapX()?(we[1]=an(we[1],W[1],W[3]),we[3]=an(we[3],W[1],W[3])):we=Pa(we,W)),Ra(we)){for(var xe=n.getTileRangeForExtentAndZ(we,S.sourceZ_),ke=xe.minX;ke<=xe.maxX;ke++)for(var $e=xe.minY;$e<=xe.maxY;$e++){var Qe=y(S.sourceZ_,ke,$e,g);Qe&&S.sourceTiles_.push(Qe)}0===S.sourceTiles_.length&&(S.state=4)}else S.state=4;return S}return Wx(t,r),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(y,C,w){y&&2==y.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(y.tileCoord),image:y.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),u="number"==typeof i?i:i[0],d="number"==typeof i?i:i[1],h=this.targetTileGrid_.getResolution(n),g=this.sourceTileGrid_.getResolution(this.sourceZ_),_=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function $x(r,t,e,n,i,u,d,h,g,_,y,C){var w=nr(Math.round(e*r),Math.round(e*t),iI);if(C||pn(w,CT),0===g.length)return w.canvas;function T(ue){return Math.round(ue*e)/e}w.scale(e,e),w.globalCompositeOperation="lighter";var S=[1/0,1/0,-1/0,-1/0];g.forEach(function(ue,Ce,Me){!function dD(r,t){t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3])}(S,ue.extent)});var R=It(S),N=Dn(S),W=nr(Math.round(e*R/n),Math.round(e*N/n));C||pn(W,CT);var Z=e/n;g.forEach(function(ue,Ce,Me){var we=ue.extent[0]-S[0],xe=-(ue.extent[3]-S[3]),ke=It(ue.extent),$e=Dn(ue.extent);ue.image.width>0&&ue.image.height>0&&W.drawImage(ue.image,_,_,ue.image.width-2*_,ue.image.height-2*_,we*Z,xe*Z,ke*Z,$e*Z)});var ne=Zi(d);return h.getTriangles().forEach(function(ue,Ce,Me){var we=ue.source,xe=ue.target,ke=we[0][0],$e=we[0][1],Qe=we[1][0],tt=we[1][1],He=we[2][0],at=we[2][1],ut=T((xe[0][0]-ne[0])/u),et=T(-(xe[0][1]-ne[1])/u),ze=T((xe[1][0]-ne[0])/u),Ye=T(-(xe[1][1]-ne[1])/u),yt=T((xe[2][0]-ne[0])/u),wt=T(-(xe[2][1]-ne[1])/u),jt=ke,Te=$e;ke=0,$e=0;var Gt=function vy(r){for(var t=r.length,e=0;e<t;e++){for(var n=e,i=Math.abs(r[e][e]),u=e+1;u<t;u++){var d=Math.abs(r[u][e]);d>i&&(i=d,n=u)}if(0===i)return null;var h=r[n];r[n]=r[e],r[e]=h;for(var g=e+1;g<t;g++)for(var _=-r[g][e]/r[e][e],y=e;y<t+1;y++)e==y?r[g][y]=0:r[g][y]+=_*r[e][y]}for(var C=new Array(t),w=t-1;w>=0;w--){C[w]=r[w][t]/r[w][w];for(var T=w-1;T>=0;T--)r[T][t]-=r[T][w]*C[w]}return C}([[Qe-=jt,tt-=Te,0,0,ze-ut],[He-=jt,at-=Te,0,0,yt-ut],[0,0,Qe,tt,Ye-et],[0,0,He,at,wt-et]]);if(Gt){if(w.save(),w.beginPath(),function Hx(){if(void 0===wT){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",oI(r,4,5,4,0),oI(r,4,5,0,5);var t=r.getImageData(0,0,3,3).data;wT=DT(t,0)||DT(t,4)||DT(t,8)}return wT}()||!C){w.moveTo(ze,Ye);for(var qn=ut-ze,Pr=et-Ye,Xn=0;Xn<4;Xn++)w.lineTo(ze+T((Xn+1)*qn/4),Ye+T(Xn*Pr/3)),3!=Xn&&w.lineTo(ze+T((Xn+1)*qn/4),Ye+T((Xn+1)*Pr/3));w.lineTo(yt,wt)}else w.moveTo(ze,Ye),w.lineTo(ut,et),w.lineTo(yt,wt);w.clip(),w.transform(Gt[0],Gt[2],Gt[1],Gt[3],ut,et),w.translate(S[0]-jt,S[3]-Te),w.scale(n/e,-n/e),w.drawImage(W.canvas,0,0),w.restore()}}),y&&(w.save(),w.globalCompositeOperation="source-over",w.strokeStyle="black",w.lineWidth=1,h.getTriangles().forEach(function(ue,Ce,Me){var we=ue.target,xe=(we[0][0]-ne[0])/u,ke=-(we[0][1]-ne[1])/u,$e=(we[1][0]-ne[0])/u,Qe=-(we[1][1]-ne[1])/u,tt=(we[2][0]-ne[0])/u,He=-(we[2][1]-ne[1])/u;w.beginPath(),w.moveTo($e,Qe),w.lineTo(xe,ke),w.lineTo(tt,He),w.closePath(),w.stroke()}),w.restore()),w.canvas}(u,d,this.pixelRatio_,g,this.sourceTileGrid_.getExtent(),h,_,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()},t.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,u){var d=n.getState();if(0==d||1==d){e++;var h=Ct(n,"change",function(g){var _=n.getState();(2==_||3==_||4==_)&&(Ft(h),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(h)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,u){0==n.getState()&&n.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ft),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(Yp(this.canvas_.getContext("2d")),iI.push(this.canvas_),this.canvas_=null),r.prototype.release.call(this)},t}(tI);const aI=zx;var uI=function(){function r(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},r}();function af(r,t,e,n,i){return void 0!==i?(i.minX=r,i.maxX=t,i.minY=e,i.maxY=n,i):new uI(r,t,e,n)}const lI=uI;var Yx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kx=function(r){function t(e){var n=r.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new lI(0,0,0,0),n}return Yx(t,r),t.prototype.isDrawableTile=function(e){var n=this.getLayer(),i=e.getState(),u=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!u},t.prototype.getTile=function(e,n,i,u){var d=u.pixelRatio,h=u.viewState.projection,g=this.getLayer(),y=g.getSource().getTile(e,n,i,d,h);return 3==y.getState()&&(g.getUseInterimTilesOnError()?g.getPreload()>0&&(this.newTiles_=!0):y.setState(2)),this.isDrawableTile(y)||(y=y.getInterimTile()),y},t.prototype.getData=function(e){var n=this.frameState;if(!n)return null;var i=this.getLayer(),u=un(n.pixelToCoordinateTransform,e.slice()),d=i.getExtent();if(d&&!fs(d,u))return null;for(var h=n.pixelRatio,g=n.viewState.projection,_=n.viewState,y=i.getRenderSource(),C=y.getTileGridForProjection(_.projection),w=y.getTilePixelRatio(n.pixelRatio),T=C.getZForResolution(_.resolution);T>=C.getMinZoom();--T){var S=C.getTileCoordForCoordAndZ(u,T),R=y.getTile(T,S[1],S[2],h,g);if(!(R instanceof nI||R instanceof aI))return null;if(2===R.getState()){var N=C.getOrigin(T),W=zr(C.getTileSize(T)),Z=C.getResolution(T),ne=Math.floor(w*((u[0]-N[0])/Z-S[1]*W[0])),ue=Math.floor(w*((N[1]-u[1])/Z-S[2]*W[1])),Ce=Math.round(w*y.getGutterForProjection(_.projection));return this.getImageData(R.getImage(),ne+Ce,ue+Ce)}}return null},t.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&r.prototype.loadedTileCallback.call(this,e,n,i)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,n){var i=e.layerStatesArray[e.layerIndex],u=e.viewState,d=u.projection,h=u.resolution,g=u.center,_=u.rotation,y=e.pixelRatio,C=this.getLayer(),w=C.getSource(),T=w.getRevision(),S=w.getTileGridForProjection(d),R=S.getZForResolution(h,w.zDirection),N=S.getResolution(R),W=e.extent,Z=e.viewState.resolution,ne=w.getTilePixelRatio(y),ue=Math.round(It(W)/Z*y),Ce=Math.round(Dn(W)/Z*y),Me=i.extent&&vs(i.extent);Me&&(W=Pa(W,vs(i.extent)));var we=N*ue/2/ne,xe=N*Ce/2/ne,ke=[g[0]-we,g[1]-xe,g[0]+we,g[1]+xe],$e=S.getTileRangeForExtentAndZ(W,R),Qe={};Qe[R]={};var tt=this.createLoadedTileFinder(w,d,Qe),He=this.tmpExtent,at=this.tmpTileRange_;this.newTiles_=!1;for(var ut=_?Rd(u.center,Z,_,e.size):void 0,et=$e.minX;et<=$e.maxX;++et)for(var ze=$e.minY;ze<=$e.maxY;++ze)if(!_||S.tileCoordIntersectsViewport([R,et,ze],ut)){var Ye=this.getTile(R,et,ze,e);if(this.isDrawableTile(Ye)){var yt=Dt(this);if(2==Ye.getState()&&(Qe[R][Ye.tileCoord.toString()]=Ye,(wt=Ye.inTransition(yt))&&1!==i.opacity&&(Ye.endTransition(yt),wt=!1),!this.newTiles_&&(wt||-1===this.renderedTiles.indexOf(Ye))&&(this.newTiles_=!0)),1===Ye.getAlpha(yt,e.time))continue}var jt=S.getTileCoordChildTileRange(Ye.tileCoord,at,He),Te=!1;jt&&(Te=tt(R+1,jt)),Te||S.forEachTileCoordParentTileRange(Ye.tileCoord,tt,at,He)}var gn=N/h*y/ne;qr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/y,1/y,_,-ue/2,-Ce/2);var Gt=yg(this.pixelTransform);this.useContainer(n,Gt,this.getBackground(e));var vt=this.context,qn=vt.canvas;ml(this.inversePixelTransform,this.pixelTransform),qr(this.tempTransform,ue/2,Ce/2,gn,gn,0,-ue/2,-Ce/2),qn.width!=ue||qn.height!=Ce?(qn.width=ue,qn.height=Ce):this.containerReused||vt.clearRect(0,0,ue,Ce),Me&&this.clipUnrotated(vt,e,Me),w.getInterpolate()||pn(vt,CT),this.preRender(vt,e),this.renderedTiles.length=0;var Xn,lf,Qr,Pr=Object.keys(Qe).map(Number);Pr.sort(us),1!==i.opacity||this.containerReused&&!w.getOpaque(e.viewState.projection)?(Xn=[],lf=[]):Pr=Pr.reverse();for(var c_=Pr.length-1;c_>=0;--c_){var xo=Pr[c_],d_=w.getTilePixelSize(xo,y,d),cf=S.getResolution(xo)/N,a0=d_[0]*cf*gn,u0=d_[1]*cf*gn,f_=S.getTileCoordForCoordAndZ(Zi(ke),xo),h_=S.getTileCoordExtent(f_),Ya=un(this.tempTransform,[ne*(h_[0]-ke[0])/N,ne*(ke[3]-h_[3])/N]),LT=ne*w.getGutterForProjection(d),jl=Qe[xo];for(var l0 in jl){var wt,Ka=(Ye=jl[l0]).tileCoord,df=f_[1]-Ka[1],NT=Math.round(Ya[0]-(df-1)*a0),c0=f_[2]-Ka[2],p_=Math.round(Ya[1]-(c0-1)*u0),As=NT-(et=Math.round(Ya[0]-df*a0)),Oo=p_-(ze=Math.round(Ya[1]-c0*u0)),Gl=R===xo,g_=!1;if(!(wt=Gl&&1!==Ye.getAlpha(Dt(this),e.time)))if(Xn){Qr=[et,ze,et+As,ze,et+As,ze+Oo,et,ze+Oo];for(var wr=0,d0=Xn.length;wr<d0;++wr)if(R!==xo&&xo<lf[wr]){var Jn=Xn[wr];ir([et,ze,et+As,ze+Oo],[Jn[0],Jn[3],Jn[4],Jn[7]])&&(g_||(vt.save(),g_=!0),vt.beginPath(),vt.moveTo(Qr[0],Qr[1]),vt.lineTo(Qr[2],Qr[3]),vt.lineTo(Qr[4],Qr[5]),vt.lineTo(Qr[6],Qr[7]),vt.moveTo(Jn[6],Jn[7]),vt.lineTo(Jn[4],Jn[5]),vt.lineTo(Jn[2],Jn[3]),vt.lineTo(Jn[0],Jn[1]),vt.clip())}Xn.push(Qr),lf.push(xo)}else vt.clearRect(et,ze,As,Oo);this.drawTileImage(Ye,e,et,ze,As,Oo,LT,Gl),Xn&&!wt?(g_&&vt.restore(),this.renderedTiles.unshift(Ye)):this.renderedTiles.push(Ye),this.updateUsedTiles(e.usedTiles,w,Ye)}}return this.renderedRevision=T,this.renderedResolution=N,this.extentChanged=!this.renderedExtent_||!xa(this.renderedExtent_,ke),this.renderedExtent_=ke,this.renderedPixelRatio=y,this.renderedProjection=d,this.manageTilePyramid(e,w,S,y,d,W,R,C.getPreload()),this.scheduleExpireCache(e,w),this.postRender(vt,e),i.extent&&vt.restore(),pn(vt,Gx),Gt!==qn.style.transform&&(qn.style.transform=Gt),this.container},t.prototype.drawTileImage=function(e,n,i,u,d,h,g,_){var y=this.getTileImage(e);if(y){var C=Dt(this),w=n.layerStatesArray[n.layerIndex],T=w.opacity*(_?e.getAlpha(C,n.time):1),S=T!==this.context.globalAlpha;S&&(this.context.save(),this.context.globalAlpha=T),this.context.drawImage(y,g,g,y.width-2*g,y.height-2*g,i,u,d,h),S&&this.context.restore(),T!==w.opacity?n.animate=!0:_&&e.endTransition(C)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var i=function(u,d,h){var g=Dt(u);g in h.usedTiles&&u.expireCache(h.viewState.projection,h.usedTiles[g])}.bind(null,n);e.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(e,n,i){var u=Dt(n);u in e||(e[u]={}),e[u][i.getKey()]=!0},t.prototype.manageTilePyramid=function(e,n,i,u,d,h,g,_,y){var C=Dt(n);C in e.wantedTiles||(e.wantedTiles[C]={});var Z,ne,ue,Ce,Me,we,w=e.wantedTiles[C],T=e.tileQueue,S=i.getMinZoom(),R=e.viewState.rotation,N=R?Rd(e.viewState.center,e.viewState.resolution,R,e.size):void 0,W=0;for(we=S;we<=g;++we)for(ne=i.getTileRangeForExtentAndZ(h,we,ne),ue=i.getResolution(we),Ce=ne.minX;Ce<=ne.maxX;++Ce)for(Me=ne.minY;Me<=ne.maxY;++Me)R&&!i.tileCoordIntersectsViewport([we,Ce,Me],N)||(g-we<=_?(++W,0==(Z=n.getTile(we,Ce,Me,u,d)).getState()&&(w[Z.getKey()]=!0,T.isKeyQueued(Z.getKey())||T.enqueue([Z,C,i.getTileCoordCenter(Z.tileCoord),ue])),void 0!==y&&y(Z)):n.useTile(we,Ce,Me,d));n.updateCacheSize(W,d)},t}(eI);const qx=Kx;var Xx=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jx=function(r){function t(e){return r.call(this,e)||this}return Xx(t,r),t.prototype.createRenderer=function(){return new qx(this)},t}(Sx);const Qx=Jx;var eO=function(){function r(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},r.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},r.prototype.get=function(t,e){var n=this.entries_[t];return gt(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},r.prototype.remove=function(t){var e=this.entries_[t];return gt(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var n,t=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)t[e++]=n.key_;return t},r.prototype.getValues=function(){var n,t=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)t[e++]=n.value_;return t},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},r.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},r.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},r.prototype.set=function(t,e){gt(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},r.prototype.setSize=function(t){this.highWaterMark=t},r}();const tO=eO;function cI(r,t,e,n){return void 0!==n?(n[0]=r,n[1]=t,n[2]=e,n):[r,t,e]}function s_(r,t,e){return r+"/"+t+"/"+e}function dI(r){return s_(r[0],r[1],r[2])}var oO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return oO(t,r),t.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var n=function nO(r){return r.split("/").map(Number)}(this.peekFirstKey()),i=n[0];this.forEach(function(u){u.tileCoord[0]!==i&&(this.remove(dI(u.tileCoord)),u.release())}.bind(this))}},t}(tO);const fI=sO;var aO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uO=function(r){function t(e){var n=r.call(this)||this;n.projection=Mn(e.projection),n.attributions_=hI(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise(function(u,d){i.viewResolver=u,i.viewRejector=d}),n}return aO(t,r),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return pt()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=hI(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(rr);function hI(r){return r?Array.isArray(r)?function(t){return r}:"function"==typeof r?r:function(t){return[r]}:null}const pI=uO;var lO=[0,0,0],cO=function(){function r(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,gt(function xy(r,t,e){var n=t||us;return r.every(function(i,u){if(0===u)return!0;var d=n(r[u-1],i);return!(d>0||e&&0===d)})}(this.resolutions_,function(d,h){return h-d},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,gt(this.origins_.length==this.resolutions_.length,20));var u=t.extent;void 0!==u&&!this.origin_&&!this.origins_&&(this.origin_=Zi(u)),gt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,gt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,gt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(d,h){var g=new lI(Math.min(0,d[0]),Math.max(d[0]-1,-1),Math.min(0,d[1]),Math.max(d[1]-1,-1));if(u){var _=this.getTileRangeForExtentAndZ(u,h);g.minX=Math.max(_.minX,g.minX),g.maxX=Math.min(_.maxX,g.maxX),g.minY=Math.max(_.minY,g.minY),g.maxY=Math.min(_.maxY,g.maxY)}return g},this):u&&this.calculateTileRanges_(u)}return r.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),u=i.minX,d=i.maxX;u<=d;++u)for(var h=i.minY,g=i.maxY;h<=g;++h)n([e,u,h])},r.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var d,h,g=null,_=t[0]-1;for(2===this.zoomFactor_?(d=t[1],h=t[2]):g=this.getTileCoordExtent(t,i);_>=this.minZoom;){if(e(_,2===this.zoomFactor_?af(d=Math.floor(d/2),d,h=Math.floor(h/2),h,n):this.getTileRangeForExtentAndZ(g,_,n)))return!0;--_}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},r.prototype.getResolution=function(t){return this.resolutions_[t]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],u=2*t[2];return af(i,i+1,u,u+1,e)}var d=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(d,t[0]+1,e)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],u=t[1],d=t[2];if(e===i)return af(u,d,u,d,n);if(this.zoomFactor_){var h=Math.pow(this.zoomFactor_,e-i),g=Math.floor(u*h),_=Math.floor(d*h);return e<i?af(g,g,_,_,n):af(g,Math.floor(h*(u+1))-1,_,Math.floor(h*(d+1))-1,n)}var w=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(w,e,n)},r.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),u=this.getResolution(t),d=zr(this.getTileSize(t),this.tmpSize_);return Di(i[0]+e.minX*d[0]*u,i[1]+e.minY*d[1]*u,i[0]+(e.maxX+1)*d[0]*u,i[1]+(e.maxY+1)*d[1]*u,n)},r.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=lO;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var u=i[1],d=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),af(u,i[1],d,i[2],n)},r.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=zr(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},r.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),u=zr(this.getTileSize(t[0]),this.tmpSize_),d=n[0]+t[1]*u[0]*i,h=n[1]-(t[2]+1)*u[1]*i;return Di(d,h,d+u[0]*i,h+u[1]*i,e)},r.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},r.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,u){var d=this.getZForResolution(n),h=n/this.getResolution(d),g=this.getOrigin(d),_=zr(this.getTileSize(d),this.tmpSize_),y=h*(t-g[0])/n/_[0],C=h*(g[1]-e)/n/_[1];return i?(y=nl(y,5)-1,C=nl(C,5)-1):(y=tr(y,5),C=tr(C,5)),cI(d,y,C,u)},r.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,u){var d=this.getOrigin(n),h=this.getResolution(n),g=zr(this.getTileSize(n),this.tmpSize_),_=(t-d[0])/h/g[0],y=(d[1]-e)/h/g[1];return i?(_=nl(_,5)-1,y=nl(y,5)-1):(_=tr(_,5),y=tr(y,5)),cI(n,_,y,u)},r.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},r.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},r.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},r.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},r.prototype.getZForResolution=function(t,e){return an(Xp(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},r.prototype.tileCoordIntersectsViewport=function(t,e){return $E(e,0,e.length,2,this.getTileCoordExtent(t))},r.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},r}();const gI=cO;function _I(r){var t=r.getDefaultTileGrid();return t||(t=function pO(r,t,e,n){return function fO(r,t,e,n){var i=void 0!==n?n:"top-left",u=vI(r,t,e);return new gI({extent:r,origin:pD(r,i),resolutions:u,tileSize:e})}(MT(r),t,e,n)}(r),r.setDefaultTileGrid(t)),t}function vI(r,t,e,n){for(var i=void 0!==t?t:42,u=Dn(r),d=It(r),h=zr(void 0!==e?e:256),g=n>0?n:Math.max(d/h[0],u/h[1]),_=i+1,y=new Array(_),C=0;C<_;++C)y[C]=g/Math.pow(2,C);return y}function MT(r){var t=(r=Mn(r)).getExtent();if(!t){var e=180*Xr[Wi.DEGREES]/r.getMetersPerUnit();t=Di(-e,-e,e,e)}return t}var mI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gO=function(r){function t(e){var n=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;return n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,n.tileGrid&&zr(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),[256,256]),n.tileCache=new fI(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return mI(t,r),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);i&&i.expireCache(n)},t.prototype.forEachLoadedTile=function(e,n,i,u){var d=this.getTileCacheForProjection(e);if(!d)return!1;for(var g,_,y,h=!0,C=i.minX;C<=i.maxX;++C)for(var w=i.minY;w<=i.maxY;++w)_=s_(n,C,w),y=!1,d.containsKey(_)&&(y=2===(g=d.get(_)).getState())&&(y=!1!==u(g)),y||(h=!1);return h},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(e,n,i,u,d){return pt()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:_I(e)},t.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();return gt(null===n||Il(n,e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,n,i){var u=this.getTileGridForProjection(i),d=this.getTilePixelRatio(n),h=zr(u.getTileSize(e),this.tmpSize);return 1==d?h:function Lw(r,t,e){return void 0===e&&(e=[0,0]),e[0]=r[0]*t+.5|0,e[1]=r[1]*t+.5|0,e}(h,d,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,n){var i=void 0!==n?n:this.getProjection(),u=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function dO(r,t,e){var n=t[0],i=r.getTileCoordCenter(t),u=MT(e);if(fs(u,i))return t;var d=It(u),h=Math.ceil((u[0]-i[0])/d);return i[0]+=d*h,r.getTileCoordForCoordAndZ(i,n)}(u,e,i)),function iO(r,t){var e=r[0],n=r[1],i=r[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var u=t.getFullTileRange(e);return!u||u.containsXY(n,i)}(e,u)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,n){var i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)},t.prototype.useTile=function(e,n,i,u){},t}(pI),_O=function(r){function t(e,n){var i=r.call(this,e)||this;return i.tile=n,i}return mI(t,r),t}(Bi);const vO=gO;function mO(r,t){var e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,u=/\{-y\}/g;return function(d,h,g){if(d)return r.replace(e,d[0].toString()).replace(n,d[1].toString()).replace(i,d[2].toString()).replace(u,function(){var y=t.getFullTileRange(d[0]);return gt(y,55),(y.getHeight()-d[2]-1).toString()})}}var wO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DO=function(r){function t(e){var n=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===t.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return wO(t,r),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var d,n=e.target,i=Dt(n),u=n.getState();1==u?(this.tileLoadingKeys_[i]=!0,d="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],d=3==u?"tileloaderror":2==u?"tileloadend":void 0),null!=d&&this.dispatchEvent(new _O(d,n))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()},t.prototype.setUrl=function(e){var n=function CO(r){var t=[],e=/\{([a-z])-([a-z])\}/.exec(r);if(e){var n=e[1].charCodeAt(0),i=e[2].charCodeAt(0),u=void 0;for(u=n;u<=i;++u)t.push(r.replace(e[0],String.fromCharCode(u)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(r)){for(var d=parseInt(e[2],10),h=parseInt(e[1],10);h<=d;h++)t.push(r.replace(e[0],h.toString()));return t}return t.push(r),t}(e);this.urls=n,this.setUrls(n)},t.prototype.setUrls=function(e){this.urls=e;var n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function yO(r,t){for(var e=r.length,n=new Array(e),i=0;i<e;++i)n[i]=mO(r[i],t);return function EO(r){return 1===r.length?r[0]:function(t,e,n){if(t){var i=function rO(r){return(r[1]<<r[0])+r[2]}(t),u=ya(i,r.length);return r[u](t,e,n)}}}(n)}(e,this.tileGrid),n):this.setKey(n)},t.prototype.tileUrlFunction=function(e,n,i){},t.prototype.useTile=function(e,n,i){var u=s_(e,n,i);this.tileCache.containsKey(u)&&this.tileCache.get(u)},t}(vO);const TO=DO;var MO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SO=function(r){function t(e){var n=this,i=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(i=e.interpolate),(n=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:IO,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:nI,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return MO(t,r),t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);for(var u in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var d=this.tileCacheForProjection[u];d.expireCache(d==i?n:{})}},t.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Il(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var e=r.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},t.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Il(this.getProjection(),e))&&r.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){var n=this.getProjection();if(this.tileGrid&&(!n||Il(n,e)))return this.tileGrid;var i=Dt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=_I(e)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();if(!n||Il(n,e))return this.tileCache;var i=Dt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new fI(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(e,n,i,u,d,h){var g=[e,n,i],_=this.getTileCoordForTileUrlFunction(g,d),y=_?this.tileUrlFunction(_,u,d):void 0,C=new this.tileClass(g,void 0!==y?0:4,void 0!==y?y:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return C.key=h,C.addEventListener("change",this.handleTileChange.bind(this)),C},t.prototype.getTile=function(e,n,i,u,d){var h=this.getProjection();if(!h||!d||Il(h,d))return this.getTileInternal(e,n,i,u,h||d);var g=this.getTileCacheForProjection(d),_=[e,n,i],y=void 0,C=dI(_);g.containsKey(C)&&(y=g.get(C));var w=this.getKey();if(y&&y.key==w)return y;var T=this.getTileGridForProjection(h),S=this.getTileGridForProjection(d),R=this.getTileCoordForTileUrlFunction(_,d),N=new aI(h,T,d,S,_,R,this.getTilePixelRatio(u),this.getGutter(),function(W,Z,ne,ue){return this.getTileInternal(W,Z,ne,ue,h)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return N.key=w,y?(N.interimTile=y,N.refreshInterimChain(),g.replace(C,N)):g.set(C,N),N},t.prototype.getTileInternal=function(e,n,i,u,d){var h=null,g=s_(e,n,i),_=this.getKey();if(this.tileCache.containsKey(g)){if((h=this.tileCache.get(g)).key!=_){var y=h;(h=this.createTile_(e,n,i,u,d,_)).interimTile=0==y.getState()?y.interimTile:y,h.refreshInterimChain(),this.tileCache.replace(g,h)}}else h=this.createTile_(e,n,i,u,d,_),this.tileCache.set(g,h);return h},t.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var n in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,n){var i=Mn(e);if(i){var u=Dt(i);u in this.tileGridForProjection||(this.tileGridForProjection[u]=n)}},t}(TO);function IO(r,t){r.getImage().src=t}const AO=SO;var xO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OO=function(r){function t(e){var n=this,i=e||{},u=void 0===i.imageSmoothing||i.imageSmoothing;void 0!==i.interpolate&&(u=i.interpolate);var d=void 0!==i.projection?i.projection:"EPSG:3857",h=void 0!==i.tileGrid?i.tileGrid:function hO(r){var t=r||{},e=t.extent||Mn("EPSG:3857").getExtent(),n={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:vI(e,t.maxZoom,t.tileSize,t.maxResolution)};return new gI(n)}({extent:MT(d),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return(n=r.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:u,opaque:i.opaque,projection:d,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:h,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this).gutter_=void 0!==i.gutter?i.gutter:0,n}return xO(t,r),t.prototype.getGutter=function(){return this.gutter_},t}(AO);const RO=OO;var bO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FO=function(r){function t(e){var n=e||{},i=void 0===n.imageSmoothing||n.imageSmoothing;return void 0!==n.interpolate&&(i=n.interpolate),r.call(this,{attributions:void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",interpolate:i,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX,zDirection:n.zDirection})||this}return bO(t,r),t}(RO);const LO=FO;var yI=M(2402),NO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kO=function(r){function t(e){var n=this,i=e||{},u=pn({},i);return delete u.style,delete u.renderBuffer,delete u.updateWhileAnimating,delete u.updateWhileInteracting,(n=r.call(this,u)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return NO(t,r),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return r.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get("renderOrder")},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new yI(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:rD,this.styleFunction_=null===e?void 0:function nD(r){var t,e;"function"==typeof r?t=r:(Array.isArray(r)?e=r:(gt("function"==typeof r.getZIndex,41),e=[r]),t=function(){return e});return t}(this.style_),this.changed()},t}(La);const UO=kO;var a_={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},t0=[a_.FILL],Za=[a_.STROKE],kl=[a_.BEGIN_PATH],CI=[a_.CLOSE_PATH];const Je=a_;var VO=function(){function r(){}return r.prototype.drawCustom=function(t,e,n,i){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},r}();const wI=VO;var BO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jO=function(r){function t(e,n,i,u){var d=r.call(this)||this;return d.tolerance=e,d.maxExtent=n,d.pixelRatio=u,d.maxLineWidth=0,d.resolution=i,d.beginGeometryInstruction1_=null,d.beginGeometryInstruction2_=null,d.bufferedMaxExtent_=null,d.instructions=[],d.coordinates=[],d.tmpCoordinate_=[],d.hitDetectionInstructions=[],d.state={},d}return BO(t,r),t.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return 1==n?e:e.map(function(i){return i*n})},t.prototype.appendFlatPointCoordinates=function(e,n){for(var i=this.getBufferedMaxExtent(),u=this.tmpCoordinate_,d=this.coordinates,h=d.length,g=0,_=e.length;g<_;g+=n)u[0]=e[g],u[1]=e[g+1],fs(i,u)&&(d[h++]=u[0],d[h++]=u[1]);return h},t.prototype.appendFlatLineCoordinates=function(e,n,i,u,d,h){var g=this.coordinates,_=g.length,y=this.getBufferedMaxExtent();h&&(n+=u);var R,N,W,C=e[n],w=e[n+1],T=this.tmpCoordinate_,S=!0;for(R=n+u;R<i;R+=u)T[0]=e[R],T[1]=e[R+1],(W=cg(y,T))!==N?(S&&(g[_++]=C,g[_++]=w,S=!1),g[_++]=T[0],g[_++]=T[1]):1===W?(g[_++]=T[0],g[_++]=T[1],S=!1):S=!0,C=T[0],w=T[1],N=W;return(d&&S||R===n+u)&&(g[_++]=C,g[_++]=w),_},t.prototype.drawCustomCoordinates_=function(e,n,i,u,d){for(var h=0,g=i.length;h<g;++h){var _=i[h],y=this.appendFlatLineCoordinates(e,n,_,u,!1,!1);d.push(y),n=_}return n},t.prototype.drawCustom=function(e,n,i,u){this.beginGeometry(e,n);var _,y,C,w,T,d=e.getType(),h=e.getStride(),g=this.coordinates.length;switch(d){case"MultiPolygon":_=e.getOrientedFlatCoordinates(),w=[];var S=e.getEndss();T=0;for(var R=0,N=S.length;R<N;++R){var W=[];T=this.drawCustomCoordinates_(_,T,S[R],h,W),w.push(W)}this.instructions.push([Je.CUSTOM,g,w,e,i,Pl]),this.hitDetectionInstructions.push([Je.CUSTOM,g,w,e,u||i,Pl]);break;case"Polygon":case"MultiLineString":C=[],_="Polygon"==d?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),T=this.drawCustomCoordinates_(_,0,e.getEnds(),h,C),this.instructions.push([Je.CUSTOM,g,C,e,i,Jd]),this.hitDetectionInstructions.push([Je.CUSTOM,g,C,e,u||i,Jd]);break;case"LineString":case"Circle":_=e.getFlatCoordinates(),y=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([Je.CUSTOM,g,y,e,i,bl]),this.hitDetectionInstructions.push([Je.CUSTOM,g,y,e,u||i,bl]);break;case"MultiPoint":_=e.getFlatCoordinates(),(y=this.appendFlatPointCoordinates(_,h))>g&&(this.instructions.push([Je.CUSTOM,g,y,e,i,bl]),this.hitDetectionInstructions.push([Je.CUSTOM,g,y,e,u||i,bl]));break;case"Point":_=e.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),this.instructions.push([Je.CUSTOM,g,y=this.coordinates.length,e,i]),this.hitDetectionInstructions.push([Je.CUSTOM,g,y,e,u||i])}this.endGeometry(n)},t.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[Je.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Je.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,u,d,i=e.length,h=-1;for(n=0;n<i;++n)(d=(u=e[n])[0])==Je.END_GEOMETRY?h=n:d==Je.BEGIN_GEOMETRY&&(u[2]=n,Hw(this.hitDetectionInstructions,h,n),h=-1)},t.prototype.setFillStrokeStyle=function(e,n){var i=this.state;if(e){var u=e.getColor();i.fillStyle=Yr(u||ji)}else i.fillStyle=void 0;if(n){var d=n.getColor();i.strokeStyle=Yr(d||dl);var h=n.getLineCap();i.lineCap=void 0!==h?h:Id;var g=n.getLineDash();i.lineDash=g?g.slice():ll;var _=n.getLineDashOffset();i.lineDashOffset=_||0;var y=n.getLineJoin();i.lineJoin=void 0!==y?y:Ma;var C=n.getWidth();i.lineWidth=void 0!==C?C:1;var w=n.getMiterLimit();i.miterLimit=void 0!==w?w:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},t.prototype.createFill=function(e){var n=e.fillStyle,i=[Je.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[Je.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,n){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)},t.prototype.updateStrokeStyle=function(e,n){var i=e.strokeStyle,u=e.lineCap,d=e.lineDash,h=e.lineDashOffset,g=e.lineJoin,_=e.lineWidth,y=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=u||d!=e.currentLineDash&&!Eo(e.currentLineDash,d)||e.currentLineDashOffset!=h||e.currentLineJoin!=g||e.currentLineWidth!=_||e.currentMiterLimit!=y)&&(void 0!==i&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=u,e.currentLineDash=d,e.currentLineDashOffset=h,e.currentLineJoin=g,e.currentLineWidth=_,e.currentMiterLimit=y)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Je.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},t.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=$y(this.maxExtent),this.maxLineWidth>0)&&ug(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},t}(wI);const u_=jO;var GO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HO=function(r){function t(e,n,i,u){var d=r.call(this,e,n,i,u)||this;return d.hitDetectionImage_=null,d.image_=null,d.imagePixelRatio_=void 0,d.anchorX_=void 0,d.anchorY_=void 0,d.height_=void 0,d.opacity_=void 0,d.originX_=void 0,d.originY_=void 0,d.rotateWithView_=void 0,d.rotation_=void 0,d.scale_=void 0,d.width_=void 0,d.declutterMode_=void 0,d.declutterImageWithText_=void 0,d}return GO(t,r),t.prototype.drawPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),u=e.getStride(),d=this.coordinates.length,h=this.appendFlatPointCoordinates(i,u);this.instructions.push([Je.DRAW_IMAGE,d,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,d,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}},t.prototype.drawMultiPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),u=e.getStride(),d=this.coordinates.length,h=this.appendFlatPointCoordinates(i,u);this.instructions.push([Je.DRAW_IMAGE,d,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,d,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,n){var i=e.getAnchor(),u=e.getSize(),d=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=u[1],this.opacity_=e.getOpacity(),this.originX_=d[0],this.originY_=d[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=u[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n},t}(u_);const ZO=HO;var $O=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),WO=function(r){function t(e,n,i,u){return r.call(this,e,n,i,u)||this}return $O(t,r),t.prototype.drawFlatCoordinates_=function(e,n,i,u){var d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,n,i,u,!1,!1),g=[Je.MOVE_TO_LINE_TO,d,h];return this.instructions.push(g),this.hitDetectionInstructions.push(g),i},t.prototype.drawLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ll,0],kl);var h=e.getFlatCoordinates(),g=e.getStride();this.drawFlatCoordinates_(h,0,h.length,g),this.hitDetectionInstructions.push(Za),this.endGeometry(n)}},t.prototype.drawMultiLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],kl);for(var h=e.getEnds(),g=e.getFlatCoordinates(),_=e.getStride(),y=0,C=0,w=h.length;C<w;++C)y=this.drawFlatCoordinates_(g,y,h[C],_);this.hitDetectionInstructions.push(Za),this.endGeometry(n)}},t.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Za),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},t.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Za),e.lastStroke=this.coordinates.length),e.lastStroke=0,r.prototype.applyStroke.call(this,e),this.instructions.push(kl)},t}(u_);const zO=WO;var YO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KO=function(r){function t(e,n,i,u){return r.call(this,e,n,i,u)||this}return YO(t,r),t.prototype.drawFlatCoordinatess_=function(e,n,i,u){var d=this.state,h=void 0!==d.fillStyle,g=void 0!==d.strokeStyle,_=i.length;this.instructions.push(kl),this.hitDetectionInstructions.push(kl);for(var y=0;y<_;++y){var C=i[y],w=this.coordinates.length,T=this.appendFlatLineCoordinates(e,n,C,u,!0,!g),S=[Je.MOVE_TO_LINE_TO,w,T];this.instructions.push(S),this.hitDetectionInstructions.push(S),g&&(this.instructions.push(CI),this.hitDetectionInstructions.push(CI)),n=C}return h&&(this.instructions.push(t0),this.hitDetectionInstructions.push(t0)),g&&(this.instructions.push(Za),this.hitDetectionInstructions.push(Za)),n},t.prototype.drawCircle=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,ji]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var h=e.getFlatCoordinates(),g=e.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,g,!1,!1);var y=[Je.CIRCLE,_];this.instructions.push(kl,y),this.hitDetectionInstructions.push(kl,y),void 0!==i.fillStyle&&(this.instructions.push(t0),this.hitDetectionInstructions.push(t0)),void 0!==i.strokeStyle&&(this.instructions.push(Za),this.hitDetectionInstructions.push(Za)),this.endGeometry(n)}},t.prototype.drawPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,ji]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var h=e.getEnds(),g=e.getOrientedFlatCoordinates(),_=e.getStride();this.drawFlatCoordinatess_(g,0,h,_),this.endGeometry(n)}},t.prototype.drawMultiPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,ji]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var h=e.getEndss(),g=e.getOrientedFlatCoordinates(),_=e.getStride(),y=0,C=0,w=h.length;C<w;++C)y=this.drawFlatCoordinatess_(g,y,h[C],_);this.endGeometry(n)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,u=n.length;i<u;++i)n[i]=ja(n[i],e);return r.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(u_);const DI=KO;function XO(r,t,e,n,i){var C,w,T,S,R,N,W,Z,ne,u=e,d=e,h=0,g=0,_=e;for(C=e;C<n;C+=i){var ue=t[C],Ce=t[C+1];void 0!==S&&(Z=ue-S,ne=Ce-R,T=Math.sqrt(Z*Z+ne*ne),void 0!==N&&(g+=w,Math.acos((N*Z+W*ne)/(w*T))>r&&(g>h&&(h=g,u=_,d=C),g=0,_=C-i)),w=T,N=Z,W=ne),S=ue,R=Ce}return(g+=T)>h?[_,C]:[u,d]}var JO=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l_={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},QO=function(r){function t(e,n,i,u){var d=r.call(this,e,n,i,u)||this;return d.labels_=null,d.text_="",d.textOffsetX_=0,d.textOffsetY_=0,d.textRotateWithView_=void 0,d.textRotation_=0,d.textFillState_=null,d.fillStates={},d.textStrokeState_=null,d.strokeStates={},d.textState_={},d.textStates={},d.textKey_="",d.fillKey_="",d.strokeKey_="",d.declutterImageWithText_=void 0,d}return JO(t,r),t.prototype.finish=function(){var e=r.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,n){var d=this.textState_;if(""!==this.text_&&d&&(this.textFillState_||this.textStrokeState_)){var h=this.coordinates,g=h.length,_=e.getType(),y=null,C=e.getStride();if("line"!==d.placement||"LineString"!=_&&"MultiLineString"!=_&&"Polygon"!=_&&"MultiPolygon"!=_){var we=d.overflow?null:[];switch(_){case"Point":case"MultiPoint":y=e.getFlatCoordinates();break;case"LineString":y=e.getFlatMidpoint();break;case"Circle":y=e.getCenter();break;case"MultiLineString":y=e.getFlatMidpoints(),C=2;break;case"Polygon":y=e.getFlatInteriorPoint(),d.overflow||we.push(y[2]/this.resolution),C=3;break;case"MultiPolygon":var xe=e.getFlatInteriorPoints();for(y=[],S=0,R=xe.length;S<R;S+=3)d.overflow||we.push(xe[S+2]/this.resolution),y.push(xe[S],xe[S+1]);if(0===y.length)return;C=2}if((Me=this.appendFlatPointCoordinates(y,C))===g)return;if(we&&(Me-g)/2!=y.length/C){var ke=g/2;we=we.filter(function(Ye,yt){var wt=h[2*(ke+yt)]===y[yt*C]&&h[2*(ke+yt)+1]===y[yt*C+1];return wt||--ke,wt})}this.saveTextStates_(),(d.backgroundFill||d.backgroundStroke)&&(this.setFillStrokeStyle(d.backgroundFill,d.backgroundStroke),d.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),d.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var $e=d.padding;if($e!=To&&(d.scale[0]<0||d.scale[1]<0)){var Qe=d.padding[0],tt=d.padding[1],He=d.padding[2],at=d.padding[3];d.scale[0]<0&&(tt=-tt,at=-at),d.scale[1]<0&&(Qe=-Qe,He=-He),$e=[Qe,tt,He,at]}var ut=this.pixelRatio;this.instructions.push([Je.DRAW_IMAGE,g,Me,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,$e==To?To:$e.map(function(Ye){return Ye*ut}),!!d.backgroundFill,!!d.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,we]);var et=1/ut;this.hitDetectionInstructions.push([Je.DRAW_IMAGE,g,Me,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[et,et],NaN,void 0,this.declutterImageWithText_,$e,!!d.backgroundFill,!!d.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,we]),this.endGeometry(n)}else{if(!ir(this.getBufferedMaxExtent(),e.getExtent()))return;var w=void 0;if(y=e.getFlatCoordinates(),"LineString"==_)w=[y.length];else if("MultiLineString"==_)w=e.getEnds();else if("Polygon"==_)w=e.getEnds().slice(0,1);else if("MultiPolygon"==_){var T=e.getEndss();w=[];for(var S=0,R=T.length;S<R;++S)w.push(T[S][0])}this.beginGeometry(e,n);for(var N=d.textAlign,W=0,Z=void 0,ne=0,ue=w.length;ne<ue;++ne){if(null==N){var Ce=XO(d.maxAngle,y,W,w[ne],C);W=Ce[0],Z=Ce[1]}else Z=w[ne];for(S=W;S<Z;S+=C)h.push(y[S],y[S+1]);var Me;W=w[ne],this.drawChars_(g,Me=h.length),g=Me}this.endGeometry(n)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,u=this.strokeKey_;e&&(u in this.strokeStates||(this.strokeStates[u]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var d=this.textKey_;d in this.textStates||(this.textStates[d]={font:n.font,textAlign:n.textAlign||Do,justify:n.justify,textBaseline:n.textBaseline||fl,scale:n.scale});var h=this.fillKey_;i&&(h in this.fillStates||(this.fillStates[h]={fillStyle:i.fillStyle}))},t.prototype.drawChars_=function(e,n){var i=this.textStrokeState_,u=this.textState_,d=this.strokeKey_,h=this.textKey_,g=this.fillKey_;this.saveTextStates_();var _=this.pixelRatio,y=l_[u.textBaseline],C=this.textOffsetY_*_,w=this.text_,T=i?i.lineWidth*Math.abs(u.scale[0])/2:0;this.instructions.push([Je.DRAW_CHARS,e,n,y,u.overflow,g,u.maxAngle,_,C,d,T*_,w,h,1]),this.hitDetectionInstructions.push([Je.DRAW_CHARS,e,n,y,u.overflow,g,u.maxAngle,1,C,d,T,w,h,1/_])},t.prototype.setTextStyle=function(e,n){var i,u,d;if(e){var h=e.getFill();h?((u=this.textFillState_)||(this.textFillState_=u={}),u.fillStyle=Yr(h.getColor()||ji)):this.textFillState_=u=null;var g=e.getStroke();if(g){(d=this.textStrokeState_)||(this.textStrokeState_=d={});var _=g.getLineDash(),y=g.getLineDashOffset(),C=g.getWidth(),w=g.getMiterLimit();d.lineCap=g.getLineCap()||Id,d.lineDash=_?_.slice():ll,d.lineDashOffset=void 0===y?0:y,d.lineJoin=g.getLineJoin()||Ma,d.lineWidth=void 0===C?1:C,d.miterLimit=void 0===w?10:w,d.strokeStyle=Yr(g.getColor()||dl)}else this.textStrokeState_=d=null;i=this.textState_;var T=e.getFont()||tg;Xw(T);var S=e.getScaleArray();i.overflow=e.getOverflow(),i.font=T,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||fl,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||To,i.scale=void 0===S?[1,1]:S;var R=e.getOffsetX(),N=e.getOffsetY(),W=e.getRotateWithView(),Z=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===R?0:R,this.textOffsetY_=void 0===N?0:N,this.textRotateWithView_=void 0!==W&&W,this.textRotation_=void 0===Z?0:Z,this.strokeKey_=d?("string"==typeof d.strokeStyle?d.strokeStyle:Dt(d.strokeStyle))+d.lineCap+d.lineDashOffset+"|"+d.lineWidth+d.lineJoin+d.miterLimit+"["+d.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=u?"string"==typeof u.fillStyle?u.fillStyle:"|"+Dt(u.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},t}(u_),eR={Circle:DI,Default:u_,Image:ZO,LineString:zO,Polygon:DI,Text:QO},tR=function(){function r(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return r.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var u=n[i].finish();t[e][i]=u}}return t},r.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var u=i[e];return void 0===u&&(u=new(0,eR[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=u),u},r}();const TI=tR;function nR(r,t,e,n,i,u,d,h,g,_,y,C){var w=r[t],T=r[t+1],S=0,R=0,N=0,W=0;function Z(){S=w,R=T,w=r[t+=n],T=r[t+1],W+=N,N=Math.sqrt((w-S)*(w-S)+(T-R)*(T-R))}do{Z()}while(t<e-n&&W+N<u);for(var ne=0===N?0:(u-W)/N,ue=yo(S,w,ne),Ce=yo(R,T,ne),Me=t-n,we=W,xe=u+h*g(_,i,y);t<e-n&&W+N<xe;)Z();var Qe,ke=yo(S,w,ne=0===N?0:(xe-W)/N),$e=yo(R,T,ne);if(C){var tt=[ue,Ce,ke,$e];RE(tt,0,4,2,C,tt,tt),Qe=tt[0]>tt[2]}else Qe=ue>ke;var et,He=Math.PI,at=[],ut=Me+n===t;if(N=0,W=we,w=r[t=Me],T=r[t+1],ut)return Z(),et=Math.atan2(T-R,w-S),Qe&&(et+=et>0?-He:He),at[0]=[ze=(ke+ue)/2,Ye=($e+Ce)/2,(xe-u)/2,et,i],at;for(var yt=0,wt=(i=i.replace(/\n/g," ")).length;yt<wt;){Z();var jt=Math.atan2(T-R,w-S);if(Qe&&(jt+=jt>0?-He:He),void 0!==et){var Te=jt-et;if(Te+=Te>He?-2*He:Te<-He?2*He:0,Math.abs(Te)>d)return null}et=jt;for(var gn=yt,Gt=0;yt<wt;++yt){var qn=h*g(_,i[Qe?wt-yt-1:yt],y);if(t+n<e&&W+N<u+Gt+qn/2)break;Gt+=qn}if(yt!==gn){var Pr=Qe?i.substring(wt-gn,wt-yt):i.substring(gn,yt),ze=yo(S,w,ne=0===N?0:(u+Gt/2-W)/N),Ye=yo(R,T,ne);at.push([ze,Ye,Gt/2,jt,Pr]),u+=Gt}}return at}function MI(r,t,e,n){for(var i=r[t],u=r[t+1],d=0,h=t+n;h<e;h+=n){var g=r[h],_=r[h+1];d+=Math.sqrt((g-i)*(g-i)+(_-u)*(_-u)),i=g,u=_}return d}var uf=[1/0,1/0,-1/0,-1/0],$a=[],Ms=[],Ss=[],Wa=[];function SI(r){return r[3].declutterBox}var rR=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function II(r,t){return("start"===t||"end"===t)&&!rR.test(r)&&(t="start"===t?"left":"right"),l_[t]}function iR(r,t,e){return e>0&&r.push("\n",""),r.push(t,""),r}var oR=function(){function r(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(t,e,n,i){var u=t+e+n+i;if(this.labels_[u])return this.labels_[u];var d=i?this.strokeStates[i]:null,h=n?this.fillStates[n]:null,g=this.textStates[e],_=this.pixelRatio,y=[g.scale[0]*_,g.scale[1]*_],C=Array.isArray(t),w=g.justify?l_[g.justify]:II(Array.isArray(t)?t[0]:t,g.textAlign||Do),T=i&&d.lineWidth?d.lineWidth:0,S=C?t:t.split("\n").reduce(iR,[]),R=function ky(r,t){for(var e=[],n=[],i=[],u=0,d=0,h=0,g=0,_=0,y=t.length;_<=y;_+=2){var C=t[_];if("\n"!==C&&_!==y){var w=t[_+1]||r.font,T=pl(w,C);e.push(T),d+=T;var S=Ly(w);n.push(S),g=Math.max(g,S)}else u=Math.max(u,d),i.push(d),d=0,h+=g}return{width:u,height:h,widths:e,heights:n,lineWidths:i}}(g,S),Z=R.widths,ne=R.heights,ue=R.lineWidths,Ce=R.width+T,Me=[],we=(Ce+2)*y[0],xe=(R.height+T)*y[1],ke={width:we<0?Math.floor(we):Math.ceil(we),height:xe<0?Math.floor(xe):Math.ceil(xe),contextInstructions:Me};(1!=y[0]||1!=y[1])&&Me.push("scale",y),i&&(Me.push("strokeStyle",d.strokeStyle),Me.push("lineWidth",T),Me.push("lineCap",d.lineCap),Me.push("lineJoin",d.lineJoin),Me.push("miterLimit",d.miterLimit),(Ca?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(Me.push("setLineDash",[d.lineDash]),Me.push("lineDashOffset",d.lineDashOffset))),n&&Me.push("fillStyle",h.fillStyle),Me.push("textBaseline","middle"),Me.push("textAlign","center");for(var yt,Qe=.5-w,tt=w*Ce+Qe*T,He=[],at=[],ut=0,et=0,ze=0,Ye=0,wt=0,jt=S.length;wt<jt;wt+=2){var Te=S[wt];if("\n"!==Te){var gn=S[wt+1]||g.font;gn!==yt&&(i&&He.push("font",gn),n&&at.push("font",gn),yt=gn),ut=Math.max(ut,ne[ze]);var Gt=[Te,tt+Qe*Z[ze]+w*(Z[ze]-ue[Ye]),.5*(T+ut)+et];tt+=Z[ze],i&&He.push("strokeText",Gt),n&&at.push("fillText",Gt),++ze}else et+=ut,ut=0,tt=w*Ce+Qe*T,++Ye}return Array.prototype.push.apply(Me,He),Array.prototype.push.apply(Me,at),this.labels_[u]=ke,ke},r.prototype.replayTextBackground_=function(t,e,n,i,u,d,h){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,u),t.lineTo.apply(t,e),d&&(this.alignFill_=d[2],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,u,d,h,g,_,y,C,w,T,S,R,N){var ke,W=n-(h*=w[0]),Z=i-(g*=w[1]),ne=u+_>t?t-_:u,ue=d+y>e?e-y:d,Ce=S[3]+ne*w[0]+S[1],Me=S[0]+ue*w[1]+S[2],we=W-S[3],xe=Z-S[0];return(R||0!==C)&&($a[0]=we,Wa[0]=we,$a[1]=xe,Ms[1]=xe,Ms[0]=we+Ce,Ss[0]=Ms[0],Ss[1]=xe+Me,Wa[1]=Ss[1]),0!==C?(un(ke=qr([1,0,0,1,0,0],n,i,1,1,C,-n,-i),$a),un(ke,Ms),un(ke,Ss),un(ke,Wa),Di(Math.min($a[0],Ms[0],Ss[0],Wa[0]),Math.min($a[1],Ms[1],Ss[1],Wa[1]),Math.max($a[0],Ms[0],Ss[0],Wa[0]),Math.max($a[1],Ms[1],Ss[1],Wa[1]),uf)):Di(Math.min(we,we+Ce),Math.min(xe,xe+Me),Math.max(we,we+Ce),Math.max(xe,xe+Me),uf),T&&(W=Math.round(W),Z=Math.round(Z)),{drawImageX:W,drawImageY:Z,drawImageW:ne,drawImageH:ue,originX:_,originY:y,declutterBox:{minX:uf[0],minY:uf[1],maxX:uf[2],maxY:uf[3],value:N},canvasTransform:ke,scale:w}},r.prototype.replayImageOrLabel_=function(t,e,n,i,u,d,h){var _=i.declutterBox,y=t.canvas,C=h?h[2]*i.scale[0]/2:0;return _.minX-C<=y.width/e&&_.maxX+C>=0&&_.minY-C<=y.height/e&&_.maxY+C>=0&&(!(!d&&!h)&&this.replayTextBackground_(t,$a,Ms,Ss,Wa,d,h),function Jw(r,t,e,n,i,u,d,h,g,_,y){r.save(),1!==e&&(r.globalAlpha*=e),t&&r.setTransform.apply(r,t),n.contextInstructions?(r.translate(g,_),r.scale(y[0],y[1]),function dS(r,t){for(var e=r.contextInstructions,n=0,i=e.length;n<i;n+=2)Array.isArray(e[n+1])?t[e[n]].apply(t,e[n+1]):t[e[n]]=e[n+1]}(n,r)):y[0]<0||y[1]<0?(r.translate(g,_),r.scale(y[0],y[1]),r.drawImage(n,i,u,d,h,0,0,d,h)):r.drawImage(n,i,u,d,h,g,_,d*y[0],h*y[1]),r.restore()}(t,i.canvasTransform,u,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},r.prototype.fill_=function(t){if(this.alignFill_){var e=un(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},r.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},r.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var u=this.textStates[e],d=this.createLabel(t,e,i,n),h=this.strokeStates[n],g=this.pixelRatio,_=II(Array.isArray(t)?t[0]:t,u.textAlign||Do),y=l_[u.textBaseline||fl],C=h&&h.lineWidth?h.lineWidth:0;return{label:d,anchorX:_*(d.width/g-2*u.scale[0])+2*(.5-_)*C,anchorY:y*d.height/g+2*(.5-y)*C}},r.prototype.execute_=function(t,e,n,i,u,d,h,g){var _;this.pixelCoordinates_&&Eo(n,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=ys(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function TD(r,t){r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5]}(this.renderedTransform_,n));for(var T,S,R,N,W,Z,ne,ue,Ce,Me,we,xe,Ye,yt,wt,jt,y=0,C=i.length,w=0,ke=0,$e=0,Qe=null,tt=null,He=this.coordinateCache_,at=this.viewRotation_,ut=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,et={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:at},ze=this.instructions!=i||this.overlaps?0:200;y<C;){var Te=i[y];switch(Te[0]){case Je.BEGIN_GEOMETRY:jt=Te[3],(Ye=Te[1]).getGeometry()?void 0===h||ir(h,jt.getExtent())?++y:y=Te[2]+1:y=Te[2];break;case Je.BEGIN_PATH:ke>ze&&(this.fill_(t),ke=0),$e>ze&&(t.stroke(),$e=0),!ke&&!$e&&(t.beginPath(),N=NaN,W=NaN),++y;break;case Je.CIRCLE:var Gt=_[w=Te[1]],vt=_[w+1],Xn=_[w+2]-Gt,lf=_[w+3]-vt,Qr=Math.sqrt(Xn*Xn+lf*lf);t.moveTo(Gt+Qr,vt),t.arc(Gt,vt,Qr,0,2*Math.PI,!0),++y;break;case Je.CLOSE_PATH:t.closePath(),++y;break;case Je.CUSTOM:w=Te[1],T=Te[2];var xo=Te[4],d_=6==Te.length?Te[5]:void 0;et.geometry=Te[3],et.feature=Ye,y in He||(He[y]=[]);var Bl=He[y];d_?d_(_,w,T,2,Bl):(Bl[0]=_[w],Bl[1]=_[w+1],Bl.length=2),xo(Bl,et),++y;break;case Je.DRAW_IMAGE:w=Te[1],T=Te[2],S=Te[4],R=Te[5];var cf=Te[6],a0=Te[7],u0=Te[8],f_=Te[9],h_=Te[10],Ya=Te[11],LT=Te[12],jl=Te[13],l0=Te[14],Ka=Te[15];if(!(ue=Te[3])&&Te.length>=20){var df=this.drawLabelWithPointPlacement_(Ce=Te[19],Me=Te[20],we=Te[21],xe=Te[22]);Te[3]=ue=df.label,Te[4]=S=(df.anchorX-Te[23])*this.pixelRatio,Te[5]=R=(df.anchorY-Te[24])*this.pixelRatio,Te[6]=cf=ue.height,Te[13]=jl=ue.width}var p_=void 0;Te.length>25&&(p_=Te[25]);var As=void 0,Oo=void 0,Gl=void 0;Te.length>17?(As=Te[16],Oo=Te[17],Gl=Te[18]):(As=To,Oo=!1,Gl=!1),h_&&ut?Ya+=at:!h_&&!ut&&(Ya-=at);for(var g_=0;w<T;w+=2)if(!(p_&&p_[g_++]<jl/this.pixelRatio)){var d0=[t,e,ue,wr=this.calculateImageOrLabelDimensions_(ue.width,ue.height,_[w],_[w+1],jl,cf,S,R,u0,f_,Ya,LT,u,As,Oo||Gl,Ye),a0,Oo?Qe:null,Gl?tt:null];if(g){if("none"===l0)continue;if("obstacle"===l0){g.insert(wr.declutterBox);continue}var Jn=void 0,kT=void 0;if(Ka){var f0=T-w;if(!Ka[f0]){Ka[f0]=d0;continue}if(Jn=Ka[f0],delete Ka[f0],kT=SI(Jn),g.collides(kT))continue}if(g.collides(wr.declutterBox))continue;Jn&&(g.insert(kT),this.replayImageOrLabel_.apply(this,Jn)),g.insert(wr.declutterBox)}this.replayImageOrLabel_.apply(this,d0)}++y;break;case Je.DRAW_CHARS:var tA=Te[1],nA=Te[2],UT=Te[3],Gb=Te[4];xe=Te[5];var Hb=Te[6],rA=Te[7],iA=Te[8];we=Te[9];var VT=Te[10];Ce=Te[11];var oA=[Te[13],Te[13]],BT=this.textStates[Me=Te[12]],__=BT.font,v_=[BT.scale[0]*rA,BT.scale[1]*rA],m_=void 0;__ in this.widths_?m_=this.widths_[__]:this.widths_[__]=m_={};var sA=MI(_,tA,nA,2),aA=Math.abs(v_[0])*Ny(__,Ce,m_);if(Gb||aA<=sA){var y_=nR(_,tA,nA,2,Ce,(sA-aA)*l_[this.textStates[Me].textAlign],Hb,Math.abs(v_[0]),Ny,__,m_,ut?0:this.viewRotation_);e:if(y_){var E_=[],qa=void 0,h0=void 0,Fr=void 0,Si=void 0;if(we)for(qa=0,h0=y_.length;qa<h0;++qa){Fr=this.createLabel((Si=y_[qa])[4],Me,"",we);var wr=this.calculateImageOrLabelDimensions_(Fr.width,Fr.height,Si[0],Si[1],Fr.width,Fr.height,S=Si[2]+(v_[0]<0?-VT:VT),R=UT*Fr.height+2*(.5-UT)*VT*v_[1]/v_[0]-iA,0,0,Si[3],oA,!1,To,!1,Ye);if(g&&g.collides(wr.declutterBox))break e;E_.push([t,e,Fr,wr,1,null,null])}if(xe)for(qa=0,h0=y_.length;qa<h0;++qa){if(Fr=this.createLabel((Si=y_[qa])[4],Me,xe,""),wr=this.calculateImageOrLabelDimensions_(Fr.width,Fr.height,Si[0],Si[1],Fr.width,Fr.height,S=Si[2],R=UT*Fr.height-iA,0,0,Si[3],oA,!1,To,!1,Ye),g&&g.collides(wr.declutterBox))break e;E_.push([t,e,Fr,wr,1,null,null])}g&&g.load(E_.map(SI));for(var jT=0,Wb=E_.length;jT<Wb;++jT)this.replayImageOrLabel_.apply(this,E_[jT])}}++y;break;case Je.END_GEOMETRY:if(void 0!==d){var uA=d(Ye=Te[1],jt);if(uA)return uA}++y;break;case Je.FILL:ze?ke++:this.fill_(t),++y;break;case Je.MOVE_TO_LINE_TO:for(T=Te[2],ne=(wt=_[(w=Te[1])+1])+.5|0,((Z=(yt=_[w])+.5|0)!==N||ne!==W)&&(t.moveTo(yt,wt),N=Z,W=ne),w+=2;w<T;w+=2)Z=(yt=_[w])+.5|0,ne=(wt=_[w+1])+.5|0,(w==T-2||Z!==N||ne!==W)&&(t.lineTo(yt,wt),N=Z,W=ne);++y;break;case Je.SET_FILL_STYLE:Qe=Te,this.alignFill_=Te[2],ke&&(this.fill_(t),ke=0,$e&&(t.stroke(),$e=0)),t.fillStyle=Te[1],++y;break;case Je.SET_STROKE_STYLE:tt=Te,$e&&(t.stroke(),$e=0),this.setStrokeStyle_(t,Te),++y;break;case Je.STROKE:ze?$e++:t.stroke(),++y;break;default:++y}}ke&&this.fill_(t),$e&&t.stroke()},r.prototype.execute=function(t,e,n,i,u,d){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,u,void 0,void 0,d)},r.prototype.executeHitDetection=function(t,e,n,i,u){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,u)},r}();const sR=oR;var ST=["Polygon","Circle","LineString","Image","Text","Default"],aR=function(){function r(t,e,n,i,u,d){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=d,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(u)}return r.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},r.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=t[e];for(var u in i)n[u]=new sR(this.resolution_,this.pixelRatio_,this.overlaps_,i[u])}},r.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,u=t.length;i<u;++i)if(t[i]in n)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,u,d){var h=2*(i=Math.round(i))+1,g=qr(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=nr(h,h));var C,y=this.hitDetectionContext_;y.canvas.width!==h||y.canvas.height!==h?(y.canvas.width=h,y.canvas.height=h):_||y.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(Oa(C=[1/0,1/0,-1/0,-1/0],t),ug(C,e*(this.renderBuffer_+i),C));var T,w=function uR(r){if(void 0!==IT[r])return IT[r];for(var t=2*r+1,e=r*r,n=new Array(e+1),i=0;i<=r;++i)for(var u=0;u<=r;++u){var d=i*i+u*u;if(d>e)break;var h=n[d];h||(n[d]=h=[]),h.push(4*((r+i)*t+(r+u))+3),i>0&&h.push(4*((r-i)*t+(r+u))+3),u>0&&(h.push(4*((r+i)*t+(r-u))+3),i>0&&h.push(4*((r-i)*t+(r-u))+3))}for(var g=[],_=(i=0,n.length);i<_;++i)n[i]&&g.push.apply(g,n[i]);return IT[r]=g,g}(i);function S(Me,we){for(var xe=y.getImageData(0,0,h,h).data,ke=0,$e=w.length;ke<$e;ke++)if(xe[w[ke]]>0){if(!d||"Image"!==T&&"Text"!==T||-1!==d.indexOf(Me)){var Qe=(w[ke]-3)/4,tt=i-Qe%h,He=i-(Qe/h|0),at=u(Me,we,tt*tt+He*He);if(at)return at}y.clearRect(0,0,h,h);break}}var N,W,Z,ne,ue,R=Object.keys(this.executorsByZIndex_).map(Number);for(R.sort(us),N=R.length-1;N>=0;--N){var Ce=R[N].toString();for(Z=this.executorsByZIndex_[Ce],W=ST.length-1;W>=0;--W)if(void 0!==(ne=Z[T=ST[W]])&&(ue=ne.executeHitDetection(y,g,n,S,C)))return ue}},r.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],u=e[2],d=e[3],h=[n,i,n,d,u,d,u,i];return ys(h,0,8,2,t,h),h},r.prototype.isEmpty=function(){return sl(this.executorsByZIndex_)},r.prototype.execute=function(t,e,n,i,u,d,h){var g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(us),this.maxExtent_&&(t.save(),this.clip(t,n));var y,C,w,T,S,R,_=d||ST;for(h&&g.reverse(),y=0,C=g.length;y<C;++y){var N=g[y].toString();for(S=this.executorsByZIndex_[N],w=0,T=_.length;w<T;++w)void 0!==(R=S[_[w]])&&R.execute(t,e,n,i,u,h)}this.maxExtent_&&t.restore()},r}(),IT={};const AI=aR;var lR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cR=function(r){function t(e,n,i,u,d,h,g){var _=r.call(this)||this;return _.context_=e,_.pixelRatio_=n,_.extent_=i,_.transform_=u,_.viewRotation_=d,_.squaredTolerance_=h,_.userTransform_=g,_.contextFillState_=null,_.contextStrokeState_=null,_.contextTextState_=null,_.fillState_=null,_.strokeState_=null,_.image_=null,_.imageAnchorX_=0,_.imageAnchorY_=0,_.imageHeight_=0,_.imageOpacity_=0,_.imageOriginX_=0,_.imageOriginY_=0,_.imageRotateWithView_=!1,_.imageRotation_=0,_.imageScale_=[0,0],_.imageWidth_=0,_.text_="",_.textOffsetX_=0,_.textOffsetY_=0,_.textRotateWithView_=!1,_.textRotation_=0,_.textScale_=[0,0],_.textFillState_=null,_.textStrokeState_=null,_.textState_=null,_.pixelCoordinates_=[],_.tmpLocalTransform_=[1,0,0,1,0,0],_}return lR(t,r),t.prototype.drawImages_=function(e,n,i,u){if(this.image_){var d=ys(e,n,i,u,this.transform_,this.pixelCoordinates_),h=this.context_,g=this.tmpLocalTransform_,_=h.globalAlpha;1!=this.imageOpacity_&&(h.globalAlpha=_*this.imageOpacity_);var y=this.imageRotation_;this.imageRotateWithView_&&(y+=this.viewRotation_);for(var C=0,w=d.length;C<w;C+=2){var T=d[C]-this.imageAnchorX_,S=d[C+1]-this.imageAnchorY_;if(0!==y||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var R=T+this.imageAnchorX_,N=S+this.imageAnchorY_;qr(g,R,N,1,1,y,-R,-N),h.setTransform.apply(h,g),h.translate(R,N),h.scale(this.imageScale_[0],this.imageScale_[1]),h.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),h.setTransform(1,0,0,1,0,0)}else h.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,T,S,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(h.globalAlpha=_)}},t.prototype.drawText_=function(e,n,i,u){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var d=ys(e,n,i,u,this.transform_,this.pixelCoordinates_),h=this.context_,g=this.textRotation_;for(this.textRotateWithView_&&(g+=this.viewRotation_);n<i;n+=u){var _=d[n]+this.textOffsetX_,y=d[n+1]+this.textOffsetY_;if(0!==g||1!=this.textScale_[0]||1!=this.textScale_[1]){var C=qr(this.tmpLocalTransform_,_,y,1,1,g,-_,-y);h.setTransform.apply(h,C),h.translate(_,y),h.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&h.strokeText(this.text_,0,0),this.textFillState_&&h.fillText(this.text_,0,0),h.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&h.strokeText(this.text_,_,y),this.textFillState_&&h.fillText(this.text_,_,y)}}},t.prototype.moveToLineTo_=function(e,n,i,u,d){var h=this.context_,g=ys(e,n,i,u,this.transform_,this.pixelCoordinates_);h.moveTo(g[0],g[1]);var _=g.length;d&&(_-=2);for(var y=2;y<_;y+=2)h.lineTo(g[y],g[y+1]);return d&&h.closePath(),i},t.prototype.drawRings_=function(e,n,i,u){for(var d=0,h=i.length;d<h;++d)n=this.moveToLineTo_(e,n,i[d],u,!0);return n},t.prototype.drawCircle=function(e){if(ir(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=function LE(r,t,e){var n=r.getFlatCoordinates();if(n){var i=r.getStride();return ys(n,0,n.length,i,t,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],u=n[3]-n[1],d=Math.sqrt(i*i+u*u),h=this.context_;h.beginPath(),h.arc(n[0],n[1],d,0,2*Math.PI),this.fillState_&&h.fill(),this.strokeState_&&h.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},t.prototype.drawFeature=function(e,n){var i=n.getGeometryFunction()(e);!i||!ir(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},t.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),i=0,u=n.length;i<u;++i)this.drawGeometry(n[i])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ir(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){var u=e.getFlatMidpoint();this.drawText_(u,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(ir(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,u=e.getFlatCoordinates(),d=0,h=e.getEnds(),g=e.getStride();i.beginPath();for(var _=0,y=h.length;_<y;++_)d=this.moveToLineTo_(u,d,h[_],g,!1);i.stroke()}if(""!==this.text_){var C=e.getFlatMidpoints();this.drawText_(C,0,C.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ir(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ir(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getOrientedFlatCoordinates(),u=0,d=e.getEndss(),h=e.getStride();n.beginPath();for(var g=0,_=d.length;g<_;++g)u=this.drawRings_(i,u,d[g],h);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var C=e.getFlatInteriorPoints();this.drawText_(C,0,C.length,2)}}},t.prototype.setContextFillState_=function(e){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(Eo(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var n=this.context_,i=this.contextTextState_,u=e.textAlign?e.textAlign:Do;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=u&&(i.textAlign=u,n.textAlign=u),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=u,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:u,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,n){var i=this;if(e){var u=e.getColor();this.fillState_={fillStyle:Yr(u||ji)}}else this.fillState_=null;if(n){var d=n.getColor(),h=n.getLineCap(),g=n.getLineDash(),_=n.getLineDashOffset(),y=n.getLineJoin(),C=n.getWidth(),w=n.getMiterLimit(),T=g||ll;this.strokeState_={lineCap:void 0!==h?h:Id,lineDash:1===this.pixelRatio_?T:T.map(function(S){return S*i.pixelRatio_}),lineDashOffset:(_||0)*this.pixelRatio_,lineJoin:void 0!==y?y:Ma,lineWidth:(void 0!==C?C:1)*this.pixelRatio_,miterLimit:void 0!==w?w:10,strokeStyle:Yr(d||dl)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){var n;if(e&&(n=e.getSize())){var i=e.getAnchor(),u=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=n[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=u[0],this.imageOriginY_=u[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=n[0]*this.pixelRatio_}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var n=e.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:Yr(i||ji)}}else this.textFillState_=null;var u=e.getStroke();if(u){var d=u.getColor(),h=u.getLineCap(),g=u.getLineDash(),_=u.getLineDashOffset(),y=u.getLineJoin(),C=u.getWidth(),w=u.getMiterLimit();this.textStrokeState_={lineCap:void 0!==h?h:Id,lineDash:g||ll,lineDashOffset:_||0,lineJoin:void 0!==y?y:Ma,lineWidth:void 0!==C?C:1,miterLimit:void 0!==w?w:10,strokeStyle:Yr(d||dl)}}else this.textStrokeState_=null;var T=e.getFont(),S=e.getOffsetX(),R=e.getOffsetY(),N=e.getRotateWithView(),W=e.getRotation(),Z=e.getScaleArray(),ne=e.getText(),ue=e.getTextAlign(),Ce=e.getTextBaseline();this.textState_={font:void 0!==T?T:tg,textAlign:void 0!==ue?ue:Do,textBaseline:void 0!==Ce?Ce:fl},this.text_=void 0!==ne?Array.isArray(ne)?ne.reduce(function(Me,we,xe){return Me+(xe%2?" ":we)},""):ne:"",this.textOffsetX_=void 0!==S?this.pixelRatio_*S:0,this.textOffsetY_=void 0!==R?this.pixelRatio_*R:0,this.textRotateWithView_=void 0!==N&&N,this.textRotation_=void 0!==W?W:0,this.textScale_=[this.pixelRatio_*Z[0],this.pixelRatio_*Z[1]]}else this.text_=""},t}(wI);const dR=cR;var Ao=.5,xI={Point:function DR(r,t,e,n,i){var h,u=e.getImage(),d=e.getText();if(u){if(2!=u.getImageState())return;var g=r;if(i){var _=u.getDeclutterMode();if("none"!==_)if(g=i,"obstacle"===_){var y=r.getBuilder(e.getZIndex(),"Image");y.setImageStyle(u,h),y.drawPoint(t,n)}else d&&d.getText()&&(h={})}var C=g.getBuilder(e.getZIndex(),"Image");C.setImageStyle(u,h),C.drawPoint(t,n)}if(d&&d.getText()){var w=r;i&&(w=i);var T=w.getBuilder(e.getZIndex(),"Text");T.setTextStyle(d,h),T.drawText(t,n)}},LineString:function ER(r,t,e,n,i){var u=e.getStroke();if(u){var d=r.getBuilder(e.getZIndex(),"LineString");d.setFillStrokeStyle(null,u),d.drawLineString(t,n)}var h=e.getText();if(h&&h.getText()){var g=(i||r).getBuilder(e.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,n)}},Polygon:function MR(r,t,e,n,i){var u=e.getFill(),d=e.getStroke();if(u||d){var h=r.getBuilder(e.getZIndex(),"Polygon");h.setFillStrokeStyle(u,d),h.drawPolygon(t,n)}var g=e.getText();if(g&&g.getText()){var _=(i||r).getBuilder(e.getZIndex(),"Text");_.setTextStyle(g),_.drawText(t,n)}},MultiPoint:function TR(r,t,e,n,i){var h,u=e.getImage(),d=e.getText();if(u){if(2!=u.getImageState())return;var g=r;if(i){var _=u.getDeclutterMode();if("none"!==_)if(g=i,"obstacle"===_){var y=r.getBuilder(e.getZIndex(),"Image");y.setImageStyle(u,h),y.drawMultiPoint(t,n)}else d&&d.getText()&&(h={})}var C=g.getBuilder(e.getZIndex(),"Image");C.setImageStyle(u,h),C.drawMultiPoint(t,n)}if(d&&d.getText()){var w=r;i&&(w=i);var T=w.getBuilder(e.getZIndex(),"Text");T.setTextStyle(d,h),T.drawText(t,n)}},MultiLineString:function CR(r,t,e,n,i){var u=e.getStroke();if(u){var d=r.getBuilder(e.getZIndex(),"LineString");d.setFillStrokeStyle(null,u),d.drawMultiLineString(t,n)}var h=e.getText();if(h&&h.getText()){var g=(i||r).getBuilder(e.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,n)}},MultiPolygon:function wR(r,t,e,n,i){var u=e.getFill(),d=e.getStroke();if(d||u){var h=r.getBuilder(e.getZIndex(),"Polygon");h.setFillStrokeStyle(u,d),h.drawMultiPolygon(t,n)}var g=e.getText();if(g&&g.getText()){var _=(i||r).getBuilder(e.getZIndex(),"Text");_.setTextStyle(g),_.drawText(t,n)}},GeometryCollection:function yR(r,t,e,n,i){var d,h,u=t.getGeometriesArray();for(d=0,h=u.length;d<h;++d)(0,xI[u[d].getType()])(r,u[d],e,n,i)},Circle:function vR(r,t,e,n,i){var u=e.getFill(),d=e.getStroke();if(u||d){var h=r.getBuilder(e.getZIndex(),"Circle");h.setFillStrokeStyle(u,d),h.drawCircle(t,n)}var g=e.getText();if(g&&g.getText()){var _=(i||r).getBuilder(e.getZIndex(),"Text");_.setTextStyle(g),_.drawText(t,n)}}};function gR(r,t){return parseInt(Dt(r),10)-parseInt(Dt(t),10)}function AT(r,t){return.5*r/t}function OI(r,t,e,n,i,u,d){var h=!1,g=e.getImage();if(g){var _=g.getImageState();2==_||3==_?g.unlistenImageChange(i):(0==_&&g.load(),g.listenImageChange(i),h=!0)}return function mR(r,t,e,n,i,u){var d=e.getGeometryFunction()(t);if(d){var h=d.simplifyTransformed(n,i);e.getRenderer()?RI(r,h,e,t):(0,xI[h.getType()])(r,h,e,t,u)}}(r,t,e,n,u,d),h}function RI(r,t,e,n){if("GeometryCollection"!=t.getType())r.getBuilder(e.getZIndex(),"Default").drawCustom(t,n,e.getRenderer(),e.getHitDetectionRenderer());else for(var i=t.getGeometries(),u=0,d=i.length;u<d;++u)RI(r,i[u],e,n)}var SR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IR=function(r){function t(e){var n=r.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return SR(t,r),t.prototype.renderWorlds=function(e,n,i){var u=n.extent,d=n.viewState,h=d.center,g=d.resolution,_=d.projection,y=d.rotation,C=_.getExtent(),w=this.getLayer().getSource(),T=n.pixelRatio,S=n.viewHints,R=!(S[0]||S[1]),N=this.compositionContext_,W=Math.round(n.size[0]*T),Z=Math.round(n.size[1]*T),ne=w.getWrapX()&&_.canWrapX(),ue=ne?It(C):null,Ce=ne?Math.ceil((u[2]-C[2])/ue)+1:1,Me=ne?Math.floor((u[0]-C[0])/ue):0;do{var we=this.getRenderTransform(h,g,y,T,W,Z,Me*ue);e.execute(N,1,we,y,R,void 0,i)}while(++Me<Ce)},t.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var e=nr(this.context.canvas.width,this.context.canvas.height,QS);this.compositionContext_=e}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Yp(this.compositionContext_),QS.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(e,n){var i=e.pixelRatio,u=e.layerStatesArray[e.layerIndex];(function MD(r,t,e){(function vl(r,t,e,n,i,u,d){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r[4]=u,r[5]=d,r})(r,t,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),ml(this.inversePixelTransform,this.pixelTransform);var d=yg(this.pixelTransform);this.useContainer(n,d,this.getBackground(e));var h=this.context,g=h.canvas,_=this.replayGroup_,y=this.declutterExecutorGroup;if((!_||_.isEmpty())&&(!y||y.isEmpty()))return null;var C=Math.round(e.size[0]*i),w=Math.round(e.size[1]*i);g.width!=C||g.height!=w?(g.width=C,g.height=w,g.style.transform!==d&&(g.style.transform=d)):this.containerReused||h.clearRect(0,0,C,w),this.preRender(h,e);var T=e.viewState;this.opacity_=u.opacity,this.setupCompositionContext_();var R=!1,N=!0;if(u.extent&&this.clipping){var W=vs(u.extent);(R=(N=ir(W,e.extent))&&!hs(W,e.extent))&&this.clipUnrotated(this.compositionContext_,e,W)}return N&&this.renderWorlds(_,e),R&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(h,e),this.renderedRotation_!==T.rotation&&(this.renderedRotation_=T.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];un(this.pixelTransform,i);var u=this.renderedCenter_,d=this.renderedResolution_,h=this.renderedRotation_,g=this.renderedProjection_,_=this.wrappedRenderedExtent_,y=this.getLayer(),C=[],w=i[0]*Ao,T=i[1]*Ao;C.push(this.getRenderTransform(u,d,h,Ao,w,T,0).slice());var S=y.getSource(),R=g.getExtent();if(S.getWrapX()&&g.canWrapX()&&!hs(R,_)){for(var N=_[0],W=It(R),Z=0;N<R[0];)--Z,C.push(this.getRenderTransform(u,d,h,Ao,w,T,W*Z).slice()),N+=W;for(Z=0,N=_[2];N>R[2];)++Z,C.push(this.getRenderTransform(u,d,h,Ao,w,T,W*Z).slice()),N-=W}this.hitDetectionImageData_=function fR(r,t,e,n,i,u,d){var _=nr(r[0]*Ao,r[1]*Ao);_.imageSmoothingEnabled=!1;for(var y=_.canvas,C=new dR(_,Ao,i,null,d),w=e.length,T=Math.floor(16777215/w),S={},R=1;R<=w;++R){var N=e[R-1],W=N.getStyleFunction()||n;if(n){var Z=W(N,u);if(Z){Array.isArray(Z)||(Z=[Z]);for(var ue="#"+("000000"+(R*T).toString(16)).slice(-6),Ce=0,Me=Z.length;Ce<Me;++Ce){var we=Z[Ce],xe=we.getGeometryFunction()(N);if(xe&&ir(i,xe.getExtent())){var ke=we.clone(),$e=ke.getFill();$e&&$e.setColor(ue);var Qe=ke.getStroke();Qe&&(Qe.setColor(ue),Qe.setLineDash(null)),ke.setText(void 0);var tt=we.getImage();if(tt&&0!==tt.getOpacity()){var He=tt.getImageSize();if(!He)continue;var at=nr(He[0],He[1],void 0,{alpha:!1}),ut=at.canvas;at.fillStyle=ue,at.fillRect(0,0,ut.width,ut.height),ke.setImage(new Xy({img:ut,imgSize:He,anchor:tt.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:tt.getOrigin(),opacity:1,size:tt.getSize(),scale:tt.getScale(),rotation:tt.getRotation(),rotateWithView:tt.getRotateWithView()}))}var et=ke.getZIndex()||0;(ze=S[et])||(S[et]=ze={},ze.Polygon=[],ze.Circle=[],ze.LineString=[],ze.Point=[]),ze[xe.getType().replace("Multi","")].push(xe,ke)}}}}}for(var Ye=Object.keys(S).map(Number).sort(us),yt=(R=0,Ye.length);R<yt;++R){var ze=S[Ye[R]];for(var wt in ze){var jt=ze[wt];for(Ce=0,Me=jt.length;Ce<Me;Ce+=2){C.setStyle(jt[Ce+1]);for(var Te=0,gn=t.length;Te<gn;++Te)C.setTransform(t[Te]),C.drawGeometry(jt[Ce])}}}return _.getImageData(0,0,y.width,y.height)}(i,C,this.renderedFeatures_,y.getStyleFunction(),_,d,h)}n(function hR(r,t,e){var n=[];if(e){var i=Math.floor(Math.round(r[0])*Ao),u=Math.floor(Math.round(r[1])*Ao),d=4*(an(i,0,e.width-1)+an(u,0,e.height-1)*e.width),y=e.data[d+2]+256*(e.data[d+1]+256*e.data[d]),C=Math.floor(16777215/t.length);y&&y%C==0&&n.push(t[y/C-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,n,i,u,d){var h=this;if(this.replayGroup_){var T,g=n.viewState.resolution,_=n.viewState.rotation,y=this.getLayer(),C={},w=function(R,N,W){var Z=Dt(R),ne=C[Z];if(ne){if(!0!==ne&&W<ne.distanceSq){if(0===W)return C[Z]=!0,d.splice(d.lastIndexOf(ne),1),u(R,y,N);ne.geometry=N,ne.distanceSq=W}}else{if(0===W)return C[Z]=!0,u(R,y,N);d.push(C[Z]={feature:R,layer:y,geometry:N,distanceSq:W,callback:u})}},S=[this.replayGroup_];return this.declutterExecutorGroup&&S.push(this.declutterExecutorGroup),S.some(function(R){return T=R.forEachFeatureAtCoordinate(e,g,_,i,w,R===h.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(function(N){return N.value}):null)}),T}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var u=e.viewHints[0],d=e.viewHints[1],h=n.getUpdateWhileAnimating(),g=n.getUpdateWhileInteracting();if(this.ready&&!h&&u||!g&&d)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var _=e.extent,y=e.viewState,C=y.projection,w=y.resolution,T=e.pixelRatio,S=n.getRevision(),R=n.getRenderBuffer(),N=n.getRenderOrder();void 0===N&&(N=gR);var W=y.center.slice(),Z=ug(_,R*w),ne=Z.slice(),ue=[Z.slice()],Ce=C.getExtent();if(i.getWrapX()&&C.canWrapX()&&!hs(Ce,e.extent)){var Me=It(Ce),we=Math.max(It(Z)/2,Me);Z[0]=Ce[0]-we,Z[2]=Ce[2]+we,wg(W,C);var xe=gg(ue[0],C);xe[0]<Ce[0]&&xe[2]<Ce[2]?ue.push([xe[0]+Me,xe[1],xe[2]+Me,xe[3]]):xe[0]>Ce[0]&&xe[2]>Ce[2]&&ue.push([xe[0]-Me,xe[1],xe[2]-Me,xe[3]])}if(this.ready&&this.renderedResolution_==w&&this.renderedRevision_==S&&this.renderedRenderOrder_==N&&hs(this.wrappedRenderedExtent_,Z))return Eo(this.renderedExtent_,ne)||(this.hitDetectionImageData_=null,this.renderedExtent_=ne),this.renderedCenter_=W,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var $e,ke=new TI(AT(w,T),Z,w,T);this.getLayer().getDeclutter()&&($e=new TI(AT(w,T),Z,w,T));var tt,Qe=Ug();if(Qe){for(var He=0,at=ue.length;He<at;++He){var et=xl(ue[He]);i.loadFeatures(et,Cr(w),Qe)}tt=zd(Qe,C)}else for(He=0,at=ue.length;He<at;++He)i.loadFeatures(ue[He],w,C);var ze=function _R(r,t){var e=AT(r,t);return e*e}(w,T),Ye=!0,yt=function(Gt){var vt,qn=Gt.getStyleFunction()||n.getStyleFunction();if(qn&&(vt=qn(Gt,w)),vt){var Pr=this.renderFeature(Gt,ze,vt,ke,tt,$e);Ye=Ye&&!Pr}}.bind(this),wt=xl(Z),jt=i.getFeaturesInExtent(wt);for(N&&jt.sort(N),He=0,at=jt.length;He<at;++He)yt(jt[He]);this.renderedFeatures_=jt,this.ready=Ye;var Te=ke.finish(),gn=new AI(Z,w,T,i.getOverlaps(),Te,n.getRenderBuffer());return $e&&(this.declutterExecutorGroup=new AI(Z,w,T,i.getOverlaps(),$e.finish(),n.getRenderBuffer())),this.renderedResolution_=w,this.renderedRevision_=S,this.renderedRenderOrder_=N,this.renderedExtent_=ne,this.wrappedRenderedExtent_=Z,this.renderedCenter_=W,this.renderedProjection_=C,this.replayGroup_=gn,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,n,i,u,d,h){if(!i)return!1;var g=!1;if(Array.isArray(i))for(var _=0,y=i.length;_<y;++_)g=OI(u,e,i[_],n,this.boundHandleStyleImageChange_,d,h)||g;else g=OI(u,e,i,n,this.boundHandleStyleImageChange_,d,h);return g},t}(eI);const AR=IR;var xR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OR=function(r){function t(e){return r.call(this,e)||this}return xR(t,r),t.prototype.createRenderer=function(){return new AR(this)},t}(UO);const RR=OR;var bR=function(){function r(t){this.rbush_=new yI(t),this.items_={}}return r.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Dt(e)]=n},r.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,u=e.length;i<u;i++){var d=t[i],h=e[i],g={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:h};n[i]=g,this.items_[Dt(h)]=g}this.rbush_.load(n)},r.prototype.remove=function(t){var e=Dt(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},r.prototype.update=function(t,e){var n=this.items_[Dt(e)];xa([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},r.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},r.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(i){return i.value})},r.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},r.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},r.prototype.forEach_=function(t,e){for(var n,i=0,u=t.length;i<u;i++)if(n=e(t[i]))return n;return n},r.prototype.isEmpty=function(){return sl(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Di(e.minX,e.minY,e.maxX,e.maxY,t)},r.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},r}();const bI=bR;function PR(r,t){return[[-1/0,-1/0,1/0,1/0]]}function FI(r,t){return function(e,n,i,u,d){var h=this;!function FR(r,t,e,n,i,u,d){var h=new XMLHttpRequest;h.open("GET","function"==typeof r?r(e,n,i):r,!0),"arraybuffer"==t.getType()&&(h.responseType="arraybuffer"),h.withCredentials=false,h.onload=function(g){if(!h.status||h.status>=200&&h.status<300){var _=t.getType(),y=void 0;"json"==_||"text"==_?y=h.responseText:"xml"==_?(y=h.responseXML)||(y=(new DOMParser).parseFromString(h.responseText,"application/xml")):"arraybuffer"==_&&(y=h.response),y?u(t.readFeatures(y,{extent:e,featureProjection:i}),t.readProjection(y)):d()}else d()},h.onerror=d,h.send()}(r,t,e,n,i,function(g,_){h.addFeatures(g),void 0!==u&&u(g)},d||Co)}}var LI=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),za=function(r){function t(e,n,i){var u=r.call(this,e)||this;return u.feature=n,u.features=i,u}return LI(t,r),t}(Bi),LR=function(r){function t(e){var n=this,i=e||{};(n=r.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Co,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(gt(n.format_,7),n.loader_=FI(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:PR;var d,h,u=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=u?new bI:null,n.loadedExtentsRtree_=new bI,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?h=i.features:i.features&&(h=(d=i.features).getArray()),!u&&void 0===d&&(d=new yr(h)),void 0!==h&&n.addFeaturesInternal(h),void 0!==d&&n.bindFeaturesCollection_(d),n}return LI(t,r),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var n=Dt(e);if(this.addToIndex_(n,e)){this.setupChangeEvents_(n,e);var i=e.getGeometry();if(i){var u=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(u,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new za("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[Ct(n,"change",this.handleFeatureChange_,this),Ct(n,"propertychange",this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,n){var i=!0,u=n.getId();return void 0!==u&&(u.toString()in this.idIndex_?i=!1:this.idIndex_[u.toString()]=n),i&&(gt(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),i},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var n=[],i=[],u=[],d=0,h=e.length;d<h;d++){var _=Dt(g=e[d]);this.addToIndex_(_,g)&&i.push(g)}d=0;for(var y=i.length;d<y;d++){var g;_=Dt(g=i[d]),this.setupChangeEvents_(_,g);var C=g.getGeometry();if(C){var w=C.getExtent();n.push(w),u.push(g)}else this.nullGeometryFeatures_[_]=g}if(this.featuresRtree_&&this.featuresRtree_.load(n,u),this.hasListener("addfeature")){d=0;for(var T=i.length;d<T;d++)this.dispatchEvent(new za("addfeature",i[d]))}},t.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener("addfeature",function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener("removefeature",function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener("add",function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),e.addEventListener("remove",function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(Ft);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var u=function(g){this.removeFeatureInternal(g)}.bind(this);for(var d in this.featuresRtree_.forEach(u),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[d])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var h=new za("clear");this.dispatchEvent(h),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(u){if(u.getGeometry().intersectsCoordinate(e))return n(u)})},t.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},t.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var d=n(i);if(d)return d}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),sl(this.nullGeometryFeatures_)||Ay(e,wo(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n},t.prototype.getFeaturesInExtent=function(e,n){var i=this;if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);var d=function mD(r,t){if(t.canWrapX()){var e=t.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[e[0],r[1],e[2],r[3]]];gg(r,t);var n=It(e);if(It(r)>n)return[[e[0],r[1],e[2],r[3]]];if(r[0]<e[0])return[[r[0]+n,r[1],e[2],r[3]],[e[0],r[1],r[2],r[3]]];if(r[2]>e[2])return[[r[0],r[1],e[2],r[3]],[e[0],r[1],r[2]-n,r[3]]]}return[r]}(e,n);return[].concat.apply([],d.map(function(h){return i.featuresRtree_.getInExtent(h)}))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,n){var i=e[0],u=e[1],d=null,h=[NaN,NaN],g=1/0,_=[-1/0,-1/0,1/0,1/0],y=n||ls;return this.featuresRtree_.forEachInExtent(_,function(C){if(y(C)){var w=C.getGeometry(),T=g;if((g=w.closestPointXY(i,u,h,g))<T){d=C;var S=Math.sqrt(g);_[0]=i-S,_[1]=u-S,_[2]=i+S,_[3]=u+S}}}),d},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return void 0!==n?n:null},t.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return void 0!==n?n:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var n=e.target,i=Dt(n),u=n.getGeometry();if(u){var d=u.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(d,n)):this.featuresRtree_&&this.featuresRtree_.update(d,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);var h=n.getId();if(void 0!==h){var g=h.toString();this.idIndex_[g]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[g]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new za("changefeature",n))},t.prototype.hasFeature=function(e){var n=e.getId();return void 0!==n?n in this.idIndex_:Dt(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&sl(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},t.prototype.loadFeatures=function(e,n,i){for(var u=this.loadedExtentsRtree_,d=this.strategy_(e,n,i),h=function(C,w){var T=d[C];u.forEachInExtent(T,function(R){return hs(R.extent,T)})||(++g.loadingExtentsCount_,g.dispatchEvent(new za("featuresloadstart")),g.loader_.call(g,T,n,i,function(R){--this.loadingExtentsCount_,this.dispatchEvent(new za("featuresloadend",void 0,R))}.bind(g),function(){--this.loadingExtentsCount_,this.dispatchEvent(new za("featuresloaderror"))}.bind(g)),u.insert(T,{extent:T.slice()}))},g=this,_=0,y=d.length;_<y;++_)h(_);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var i,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(u){if(xa(u.extent,e))return i=u,!0}),i&&n.remove(i)},t.prototype.removeFeature=function(e){if(e){var n=Dt(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var n=Dt(e),i=this.featureChangeKeys_[n];if(i){i.forEach(Ft),delete this.featureChangeKeys_[n];var u=e.getId();return void 0!==u&&delete this.idIndex_[u.toString()],delete this.uidIndex_[n],this.dispatchEvent(new za("removefeature",e)),e}},t.prototype.removeFromIdIndex_=function(e){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}return n},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){gt(this.format_,7),this.url_=e,this.setLoader(FI(e,this.format_))},t}(pI);const NR=LR;var kR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UR=function(r){function t(e){var n=r.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return kR(t,r),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ft(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Ct(e,"change",this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function VR(r){return"function"==typeof r?r:(Array.isArray(r)?t=r:(gt("function"==typeof r.getZIndex,41),t=[r]),function(){return t});var t}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(rr);const BR=UR;var jR=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GR=function(r){function t(e){var n=r.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",n.element.style.position="absolute",n.element.style.pointerEvents="auto";var i=e.autoPan;return i&&"object"!=typeof i&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener("element",n.handleElementChanged),n.addChangeListener("map",n.handleMapChanged),n.addChangeListener("offset",n.handleOffsetChanged),n.addChangeListener("position",n.handlePositionChanged),n.addChangeListener("positioning",n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(e.positioning||"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return jR(t,r),t.prototype.getElement=function(){return this.get("element")},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get("map")||null},t.prototype.getOffset=function(){return this.get("offset")},t.prototype.getPosition=function(){return this.get("position")},t.prototype.getPositioning=function(){return this.get("positioning")},t.prototype.handleElementChanged=function(){Iy(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Md(this.element),Ft(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Ct(e,"postrender",this.render,this),this.updatePixelPosition();var n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set("element",e)},t.prototype.setMap=function(e){this.set("map",e)},t.prototype.setOffset=function(e){this.set("offset",e)},t.prototype.setPosition=function(e){this.set("position",e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var n=this.getMap();if(n&&n.getTargetElement()&&this.get("position")){var i=this.getRect(n.getTargetElement(),n.getSize()),u=this.getElement(),d=this.getRect(u,[My(u),Sy(u)]),h=e||{},g=void 0===h.margin?20:h.margin;if(!hs(i,d)){var _=d[0]-i[0],y=i[2]-d[2],C=d[1]-i[1],w=i[3]-d[3],T=[0,0];if(_<0?T[0]=_-g:y<0&&(T[0]=Math.abs(y)+g),C<0?T[1]=C-g:w<0&&(T[1]=Math.abs(w)+g),0!==T[0]||0!==T[1]){var S=n.getView().getCenterInternal(),R=n.getPixelFromCoordinateInternal(S);if(!R)return;var N=[R[0]+T[0],R[1]+T[1]],W=h.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(N),duration:W.duration,easing:W.easing})}}}},t.prototype.getRect=function(e,n){var i=e.getBoundingClientRect(),u=i.left+window.pageXOffset,d=i.top+window.pageYOffset;return[u,d,u+n[0],d+n[1]]},t.prototype.setPositioning=function(e){this.set("positioning",e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();if(e&&e.isRendered()&&n){var i=e.getPixelFromCoordinate(n),u=e.getSize();this.updateRenderedPosition(i,u)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,n){var i=this.element.style,u=this.getOffset(),d=this.getPositioning();this.setVisible(!0);var h=Math.round(e[0]+u[0])+"px",g=Math.round(e[1]+u[1])+"px",_="0%",y="0%";"bottom-right"==d||"center-right"==d||"top-right"==d?_="-100%":("bottom-center"==d||"center-center"==d||"top-center"==d)&&(_="-50%"),"bottom-left"==d||"bottom-center"==d||"bottom-right"==d?y="-100%":("center-left"==d||"center-center"==d||"center-right"==d)&&(y="-50%");var C="translate(".concat(_,", ").concat(y,") translate(").concat(h,", ").concat(g,")");this.rendered.transform_!=C&&(this.rendered.transform_=C,i.transform=C,i.msTransform=C)},t.prototype.getOptions=function(){return this.options},t}(rr);const HR=GR,ZR=["map"];let $R=(()=>{class r{constructor(){}ngOnInit(){this.map=new Dx({view:new Cs({center:[0,0]}),layers:[new Qx({source:new LO})],target:"map",interactions:JS({mouseWheelZoom:!1})});const e=new oD({image:new Xy({scale:.15,anchor:[.5,0],anchorOrigin:"bottom-left",anchorXUnits:"fraction",anchorYUnits:"fraction",src:`${Zt.domain}img/pin.png`})}),n=new RR({source:new NR});function i(C,w,T,S){const R=new BR({geometry:new ef(Sl([C,w])),data:T,id:S});return R.setStyle(e),R}const u=(C,w)=>{const T=document.createDocumentFragment(),S=document.createElement("div");S.className="ol-popup",S.id=`popup-${C}`,S.innerHTML=` <a href="" id="popup-closer-${C}" class="ol-popup-closer"></a>\n            ${w}`,T.appendChild(S),this.mapContainer.nativeElement.appendChild(T);const R=this.mapContainer.nativeElement.querySelector(`#popup-${C}`),N=this.mapContainer.nativeElement.querySelector(`#popup-closer-${C}`);return N.onclick=function(){return S.style.display="none",N?.blur(),!1},R};let d=[];for(let C=0;C<this.locations.length;C++){const w=this.locations[C].coordinates[0],T=this.locations[C].coordinates[1];d.push([w,T]),n.getSource()?.addFeature(i(w,T,this.locations[C],C));const N=u(C,`Day ${this.locations[C].day}: ${this.locations[C].description}`),W=new HR({element:N,autoPan:{animation:{duration:250}}});W.setPosition(Sl([w,T])),this.map.addOverlay(W)}this.map.on("click",C=>{let w;if(this.map.forEachFeatureAtPixel(C.pixel,function(S,R){return w=S.values_.id,"Point"===S.values_.data.type})){let S=this.mapContainer.nativeElement.querySelector(`#popup-${w}`).style.display;"none"===S?this.mapContainer.nativeElement.querySelector(`#popup-${w}`).style.display="block":(""===S||"block"===S)&&(this.mapContainer.nativeElement.querySelector(`#popup-${w}`).style.display="none")}}),this.map.on("pointermove",C=>{this.map.forEachFeatureAtPixel(C.pixel,function(T,S){return"Point"===T.values_.data.type})?C.map.getTargetElement().style.cursor="pointer":C.map.getTargetElement().style.cursor="default"}),this.map.addLayer(n);const g=n.getSource()?.getExtent(),_=()=>{this.map.getView().animate({center:ps(g)},{duration:1e4})};this.map.getView().fit(g,{size:this.map.getSize(),padding:[280,150,70,70]});const y=new IntersectionObserver(C=>{C.forEach(w=>{w.isIntersecting&&(_(),y.unobserve(w.target))})});y.observe(this.mapContainer.nativeElement)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-map"]],viewQuery:function(e,n){if(1&e&&l.Gf(ZR,7),2&e){let i;l.iGM(i=l.CRH())&&(n.mapContainer=i.first)}},inputs:{locations:"locations"},decls:2,vars:0,consts:[["id","map",1,"map"],["map",""]],template:function(e,n){1&e&&l._UZ(0,"div",0,1)}}),r})();const WR=["formContainer"],zR=["f"];let NI=(()=>{class r{constructor(e,n,i){this.reviewFormService=e,this.accountService=n,this.generalService=i,this.isAddingReview=!0,this.isProcessingForm=!1}ngOnInit(){this.formDataSub=this.reviewFormService.formData.subscribe(e=>{this.formData=e,this.formContainer.nativeElement.querySelector(".tour__heading").textContent=this.formData.tourData.name,this.formContainer.nativeElement.style.backgroundImage=`url(img/tours/${this.formData.tourData.imageCover})`,"editing"==this.formData.mode&&this.addReviewForm.setValue({rating:this.formData.reviewData?.rating,review:this.formData.reviewData?.review}),"adding"==this.formData.mode&&this.addReviewForm.reset()}),this.formVisibilitySub=this.reviewFormService.formVisibility.subscribe(e=>{!0===e?this.showForm():this.hideForm()}),this.formProcessSub=this.reviewFormService.formProcess.subscribe(e=>{this.isProcessingForm=e})}ngAfterViewInit(){setTimeout(()=>{this.reviewFormService.setContainerRef(this.formContainer)},0)}formController(e){e.valid&&this.reviewFormService.handleReviewForm(e.value.review,e.value.rating)}showForm(){this.formContainer.nativeElement.classList.add("form--show"),this.formVisibility=!0,this.isProcessingForm=!1}hideForm(){this.formContainer.nativeElement.classList.remove("form--show"),this.formVisibility=!1,this.isProcessingForm=!1}ngOnDestroy(){this.formDataSub?.unsubscribe(),this.formVisibilitySub?.unsubscribe(),this.formProcessSub?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Dd),l.Y36(ss),l.Y36(Bn))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-review-form"]],viewQuery:function(e,n){if(1&e&&(l.Gf(WR,5),l.Gf(zR,5)),2&e){let i;l.iGM(i=l.CRH())&&(n.formContainer=i.first),l.iGM(i=l.CRH())&&(n.addReviewForm=i.first)}},decls:19,vars:2,consts:[[1,"edit-review__container"],["formContainer",""],[1,"overlay"],[1,"form--edit-review",3,"ngSubmit"],["f","ngForm"],[1,"tour__heading"],[1,"form__group"],["for","review",1,"form__label"],["id","review","type","text","placeholder","Write your review about the tour here ...","rows","5","cols","40","required","","ngModel","","name","review",1,"form__input"],["for","rating",1,"form__label"],["id","rating","type","number","min","0","max","5","step","0.1","required","","ngModel","","name","rating",1,"form__input"],[1,"form__buttons"],["type","submit",1,"btn","btn--green",3,"disabled"],["type","button",1,"btn",3,"click"]],template:function(e,n){if(1&e){const i=l.EpF();l.TgZ(0,"div",0,1),l._UZ(2,"div",2),l.TgZ(3,"form",3,4),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(4);return l.KtG(n.formController(d))}),l._UZ(5,"h3",5),l.TgZ(6,"div",6)(7,"label",7),l._uU(8,"Review"),l.qZA(),l._UZ(9,"textarea",8),l.qZA(),l.TgZ(10,"div",6)(11,"label",9),l._uU(12,"Rating / 5"),l.qZA(),l._UZ(13,"input",10),l.qZA(),l.TgZ(14,"div",11)(15,"button",12),l._uU(16),l.qZA(),l.TgZ(17,"button",13),l.NdJ("click",function(){return n.hideForm()}),l._uU(18," Cancel "),l.qZA()()()()}if(2&e){const i=l.MAs(4);l.xp6(15),l.Q6J("disabled",!i.valid||n.isProcessingForm),l.xp6(1),l.hij(" ",n.isProcessingForm?n.formVisibility&&"adding"===n.formData.mode?"Adding ...":"Editing ...":n.formVisibility&&"adding"===n.formData.mode?"Add":"Edit"," ")}},dependencies:[da,Xo,Tm,go,Kn,vo,Mp,Hu,En,rs]}),r})();const YR=["f"],KR=["formContainer"],qR=["deleteWarning"];function XR(r,t){if(1&r&&l._UZ(0,"app-component-message",13),2&r){const e=l.oxw();l.Q6J("message",e.message)}}function JR(r,t){if(1&r&&(l.TgZ(0,"section",14)(1,"div",15)(2,"div",16),l._uU(3,"\xa0"),l.qZA(),l._UZ(4,"img",17),l.qZA(),l.TgZ(5,"div",18)(6,"h1",19)(7,"span"),l._uU(8),l.qZA()(),l.TgZ(9,"div",20)(10,"div",21),l.O4$(),l.TgZ(11,"svg",22),l._UZ(12,"use",23),l.qZA(),l.kcU(),l.TgZ(13,"span",24),l._uU(14),l.qZA()(),l.TgZ(15,"div",21),l.O4$(),l.TgZ(16,"svg",22),l._UZ(17,"use",25),l.qZA(),l.kcU(),l.TgZ(18,"span",24),l._uU(19),l.qZA()()()()()),2&r){const e=l.oxw();l.xp6(4),l.Q6J("src",e.environment.domain+"img/tours/"+e.tour.imageCover,l.LSH)("alt",e.tour.name),l.xp6(4),l.Oqu(e.tour.name),l.xp6(6),l.hij("",e.tour.duration," days"),l.xp6(5),l.Oqu(e.tour.startLocation.description)}}function QR(r,t){1&r&&(l.TgZ(0,"span",33),l._uU(1,"Lead guide"),l.qZA())}function e1(r,t){1&r&&(l.TgZ(0,"span",33),l._uU(1,"Tour guide"),l.qZA())}function t1(r,t){if(1&r&&(l.TgZ(0,"div",30),l._UZ(1,"img",41),l.YNc(2,QR,2,0,"span",42),l.YNc(3,e1,2,0,"span",42),l.TgZ(4,"span",34),l._uU(5),l.qZA()()),2&r){const e=t.$implicit,n=l.oxw(2);l.xp6(1),l.Q6J("src",n.environment.domain+"img/users/"+e.photo,l.LSH)("alt",e.name),l.xp6(1),l.Q6J("ngIf","lead-guide"===e.role),l.xp6(1),l.Q6J("ngIf","guide"===e.role),l.xp6(2),l.Oqu(e.name)}}function n1(r,t){if(1&r&&(l.TgZ(0,"p",43),l._uU(1),l.qZA()),2&r){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function r1(r,t){if(1&r&&(l.TgZ(0,"section",26)(1,"div",27)(2,"div")(3,"div",28)(4,"h2",29),l._uU(5,"Quick facts"),l.qZA(),l.TgZ(6,"div",30),l.O4$(),l.TgZ(7,"svg",31),l._UZ(8,"use",32),l.qZA(),l.kcU(),l.TgZ(9,"span",33),l._uU(10,"Next date"),l.qZA(),l.TgZ(11,"span",34),l._uU(12),l.ALo(13,"date"),l.qZA()(),l.TgZ(14,"div",30),l.O4$(),l.TgZ(15,"svg",31),l._UZ(16,"use",35),l.qZA(),l.kcU(),l.TgZ(17,"span",33),l._uU(18,"Difficulty"),l.qZA(),l.TgZ(19,"span",34),l._uU(20),l.qZA()(),l.TgZ(21,"div",30),l.O4$(),l.TgZ(22,"svg",31),l._UZ(23,"use",36),l.qZA(),l.kcU(),l.TgZ(24,"span",33),l._uU(25,"Participants"),l.qZA(),l.TgZ(26,"span",34),l._uU(27),l.qZA()(),l.TgZ(28,"div",30),l.O4$(),l.TgZ(29,"svg",31),l._UZ(30,"use",37),l.qZA(),l.kcU(),l.TgZ(31,"span",33),l._uU(32,"Rating"),l.qZA(),l.TgZ(33,"span",34),l._uU(34),l.qZA()()(),l.TgZ(35,"div",28)(36,"h2",29),l._uU(37,"Your tour guides"),l.qZA(),l.YNc(38,t1,6,5,"div",38),l.qZA()()(),l.TgZ(39,"div",39)(40,"h2",29),l._uU(41),l.qZA(),l.YNc(42,n1,2,1,"p",40),l.qZA()()),2&r){const e=l.oxw();l.xp6(12),l.Oqu(l.xi3(13,7,e.tour.startDates[0],"MMMM y")),l.xp6(8),l.Oqu(e.tour.difficulty),l.xp6(7),l.hij("",e.tour.maxGroupSize," people"),l.xp6(7),l.hij("",e.tour.ratingsAverage," / 5"),l.xp6(4),l.Q6J("ngForOf",e.tour.guides),l.xp6(3),l.hij("About ",e.tour.name," tour"),l.xp6(1),l.Q6J("ngForOf",e.tour.description.split("\n"))}}function i1(r,t){if(1&r&&(l.TgZ(0,"div",46),l._UZ(1,"img",47),l.qZA()),2&r){const e=t.$implicit,n=t.index,i=l.oxw(2);l.xp6(1),l.Tol("picture-box__img picture-box__img--"+(n+1)),l.Q6J("src",i.environment.domain+"img/tours/"+e,l.LSH)("alt",i.tour.name+n)}}function o1(r,t){if(1&r&&(l.TgZ(0,"section",44),l.YNc(1,i1,2,4,"div",45),l.qZA()),2&r){const e=l.oxw();l.xp6(1),l.Q6J("ngForOf",e.tour.images)}}function s1(r,t){if(1&r&&(l.TgZ(0,"section",48),l._UZ(1,"app-map",49),l.qZA()),2&r){const e=l.oxw();l.xp6(1),l.Q6J("locations",e.tour.locations)}}function a1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"div",54)(1,"i",55),l.NdJ("click",function(){l.CHM(e);const i=l.oxw(2);return l.KtG(i.onAddReview())}),l.qZA()()}}function u1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"div",64)(1,"i",65),l.NdJ("click",function(i){l.CHM(e);const u=l.oxw(3);return l.KtG(u.onEditReview(i))}),l.qZA(),l.TgZ(2,"i",66),l.NdJ("click",function(){l.CHM(e);const i=l.oxw(3);return l.KtG(i.showDeleteWarning())}),l.qZA()()}}function l1(r,t){if(1&r&&(l.O4$(),l.TgZ(0,"svg"),l._UZ(1,"use",37),l.qZA()),2&r){const e=t.$implicit,n=l.oxw().$implicit;l.Tol("reviews__star reviews__star--"+(n.rating>=e?"active":"inactive"))}}const c1=function(){return[1,2,3,4,5]};function d1(r,t){if(1&r&&(l.TgZ(0,"div",56),l.YNc(1,u1,3,0,"div",57),l.TgZ(2,"div",58),l._UZ(3,"img",59),l.TgZ(4,"h6",60),l._uU(5),l.qZA()(),l.TgZ(6,"p",61),l._uU(7),l.qZA(),l.TgZ(8,"div",62),l.YNc(9,l1,2,2,"svg",63),l.qZA()()),2&r){const e=t.$implicit,n=l.oxw(2);l.uIk("data-reviewId",e.id),l.xp6(1),l.Q6J("ngIf",e.id===n.userReviewId),l.xp6(2),l.Q6J("src",n.environment.domain+"img/users/"+e.user.photo,l.LSH)("alt",e.user.name),l.xp6(2),l.Oqu(e.user.name),l.xp6(2),l.hij(" ",e.review," "),l.xp6(2),l.Q6J("ngForOf",l.DdM(7,c1))}}function f1(r,t){if(1&r&&(l.TgZ(0,"section",50)(1,"div",51),l.YNc(2,a1,2,0,"div",52),l.YNc(3,d1,10,8,"div",53),l.qZA()()),2&r){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.isBooked&&""===e.userReviewId&&"user"===(null==e.user?null:e.user.role)),l.xp6(1),l.Q6J("ngForOf",e.tour.reviews)}}function h1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"a",78,79),l.NdJ("click",function(){l.CHM(e);const i=l.oxw(2);return l.KtG(i.onBookTour())}),l._uU(2,"Book tour now!"),l.qZA()}if(2&r){const e=l.oxw(2);l.uIk("data-tour-id",e.tour.id)}}function p1(r,t){1&r&&(l.TgZ(0,"a",80,81),l._uU(2,"Log in to book the tour!"),l.qZA())}function g1(r,t){if(1&r&&(l.TgZ(0,"section",67)(1,"div",68)(2,"div",69),l._UZ(3,"img",70),l.qZA(),l._UZ(4,"img",71)(5,"img",72),l.TgZ(6,"div",73)(7,"h2",74),l._uU(8,"What are you waiting for?"),l.qZA(),l.TgZ(9,"p",75),l._uU(10),l.qZA(),l.YNc(11,h1,3,1,"a",76),l.YNc(12,p1,3,0,"a",77),l.qZA()()()),2&r){const e=l.oxw();l.xp6(3),l.Q6J("src",e.environment.domain+"img/logo-white.png",l.LSH),l.xp6(1),l.Q6J("src",e.environment.domain+"img/tours/"+e.tour.images[1],l.LSH)("alt",e.tour.name+"tour picture"),l.xp6(1),l.Q6J("src",e.environment.domain+"img/tours/"+e.tour.images[2],l.LSH)("alt",e.tour.name+"tour picture"),l.xp6(5),l.hij(" ",e.tour.duration," days. 1 adventure. Infinite memories. Make it yours today! "),l.xp6(1),l.Q6J("ngIf",e.isAuthenticated),l.xp6(1),l.Q6J("ngIf",!e.isAuthenticated)}}let _1=(()=>{class r{constructor(e,n,i,u,d,h,g){this.route=e,this.titleService=n,this.toursService=i,this.store=u,this.accountService=d,this.generalServices=h,this.reviewFormService=g,this.isMessage=!1,this.userReviewId="",this.isBooked=!1,this.isAddingReview=!1,this.environment=Zt}ngOnInit(){window.scrollTo({top:-8e3}),this.route.data.subscribe(e=>{"e"===e.tour?(this.isMessage=!0,this.message="There is no tour with this name!"):this.tour=e.tour.data.data}),this.titleService.setTitle(`Natours | ${this.tour?.name||""}`),this.storeSub=this.store.select("auth").pipe((0,Ge.U)(e=>e.user)).subscribe(e=>{this.isAuthenticated=!!e,this.user=e}),this.bookingsSub=this.accountService.bookings.subscribe(e=>{this.userBookings=e;const n=this.userBookings?.some(i=>i.tour.id===this.tour.id);this.isBooked=n||!1}),this.reviewsSub=this.accountService.reviews.subscribe(e=>{this.userReviews=e,this.makeUserReviewFirst()}),this.isAuthenticated&&(this.getUserBookings(),this.getUserReviews(),this.setUserReviewId()),this.updatedReviewSub=this.reviewFormService.updatedReview.subscribe(e=>{const n=this.tour.reviews?.findIndex(u=>u.id===e.id),i=[...this.tour.reviews];i?.splice(n,1,e),this.tour.reviews=i}),this.addedReviewSub=this.reviewFormService.addedReview.subscribe(e=>{const n=[e,...this.tour.reviews];this.tour.reviews=n}),this.deleteReviewSub=this.accountService.deletedReview.subscribe(e=>{const n=this.tour.reviews.findIndex(u=>u.id===this.userReviewId),i=[...this.tour.reviews];i.splice(n,1),this.tour.reviews=i,this.userReviewId="",this.generalServices.showAlert("success","Successfully removed the review")}),this.deletReviewErrorSub=this.accountService.deletedReviewError.subscribe(e=>{"error"===e&&this.generalServices.showAlert("error","Error while deleting the user Review. Please Try again!")})}getUserBookings(){this.accountService.getAccountBookings()}getUserReviews(){this.accountService.getUserReviews()}makeUserReviewFirst(){if(this.setUserReviewId(),this.userReviewId){const e=this.tour.reviews.findIndex(i=>i.id===this.userReviewId),n=this.tour.reviews.splice(e,1)[0];this.tour.reviews.unshift(n)}}onAddReview(){this.reviewFormService.showReviewForm({mode:"adding",tourData:{imageCover:this.tour.imageCover,name:this.tour.name,tourId:this.tour.id}})}onEditReview(e){const u=e.target.closest(".user__reviews__card")?.attributes.getNamedItem("data-reviewid")?.value;this.editedReviewID=u;const d=this.userReviews?.find(g=>g.id===this.userReviewId);this.reviewFormService.showReviewForm({mode:"editing",tourData:{imageCover:this.tour.imageCover,name:this.tour.name,tourId:this.tour.id},reviewData:{rating:d.rating,review:d.review,reviewId:d.id}})}showDeleteWarning(){this.deleteWarning.nativeElement.classList.add("warning-show")}closeWarning(){this.deleteWarning.nativeElement.classList.remove("warning-show")}onDeleteUserReview(){this.closeWarning(),this.generalServices.showAlert("loadingSpinner"),this.accountService.deleteReview(this.userReviewId)}onBookTour(){this.toursService.bookTour(this.tour.id)}setUserReviewId(){this.tour.reviews.forEach(e=>{this.userReviews?.forEach(n=>{e.id!==n.id||(this.userReviewId=n.id)})})}ngOnDestroy(){this.storeSub?.unsubscribe(),this.bookingsSub?.unsubscribe(),this.reviewsSub?.unsubscribe(),this.addedReviewSub?.unsubscribe(),this.updatedReviewSub?.unsubscribe(),this.addedReviewErrorSub?.unsubscribe(),this.deleteReviewSub?.unsubscribe(),this.deletReviewErrorSub?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(jr),l.Y36(Ff),l.Y36(Qu),l.Y36(Ut.yh),l.Y36(ss),l.Y36(Bn),l.Y36(Dd))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-tour-details"]],viewQuery:function(e,n){if(1&e&&(l.Gf(YR,5),l.Gf(KR,5),l.Gf(qR,5)),2&e){let i;l.iGM(i=l.CRH())&&(n.reviewForm=i.first),l.iGM(i=l.CRH())&&(n.formContainer=i.first),l.iGM(i=l.CRH())&&(n.deleteWarning=i.first)}},decls:17,vars:7,consts:[[3,"message",4,"ngIf"],[1,"warning--deleting"],["deleteWarning",""],[1,"warning__header"],[1,"warning__control"],[1,"btn","btn--red",3,"click"],[1,"btn",3,"click"],["class","section-header",4,"ngIf"],["class","section-description",4,"ngIf"],["class","section-pictures",4,"ngIf"],["class","section-map",4,"ngIf"],["class","section-reviews",4,"ngIf"],["class","section-cta",4,"ngIf"],[3,"message"],[1,"section-header"],[1,"header__hero"],[1,"header__hero-overlay"],[1,"header__hero-img",3,"src","alt"],[1,"heading-box"],[1,"heading-primary"],[1,"heading-box__group"],[1,"heading-box__detail"],[1,"heading-box__icon"],["href","../assets/img/icons.svg#icon-clock"],[1,"heading-box__text"],["href","../assets/img/icons.svg#icon-map-pin"],[1,"section-description"],[1,"overview-box"],[1,"overview-box__group"],[1,"heading-secondary","ma-bt-lg"],[1,"overview-box__detail"],[1,"overview-box__icon"],["href","../assets/img/icons.svg#icon-calendar"],[1,"overview-box__label"],[1,"overview-box__text"],["href","../assets/img/icons.svg#icon-trending-up"],["href","../assets/img/icons.svg#icon-user"],["href","../assets/img/icons.svg#icon-star"],["class","overview-box__detail",4,"ngFor","ngForOf"],[1,"description-box"],["class","description__text",4,"ngFor","ngForOf"],[1,"overview-box__img",3,"src","alt"],["class","overview-box__label",4,"ngIf"],[1,"description__text"],[1,"section-pictures"],["class","picture-box",4,"ngFor","ngForOf"],[1,"picture-box"],[3,"src","alt"],[1,"section-map"],[3,"locations"],[1,"section-reviews"],[1,"reviews"],["class","add-review",4,"ngIf"],["class","reviews__card",4,"ngFor","ngForOf"],[1,"add-review"],[1,"fa-solid","fa-plus","add-review__icon",3,"click"],[1,"reviews__card"],["class","control",4,"ngIf"],[1,"reviews__avatar"],[1,"reviews__avatar-img",3,"src","alt"],[1,"reviews__user"],[1,"reviews__text"],[1,"reviews__rating"],[3,"class",4,"ngFor","ngForOf"],[1,"control"],[1,"control__btn","fa-solid","fa-pen-to-square","fa-2xl",3,"click"],[1,"control__btn","fa-solid","fa-trash-can","fa-2xl",3,"click"],[1,"section-cta"],[1,"cta"],[1,"cta__img","cta__img--logo"],["alt","Natours logo",3,"src"],[1,"cta__img","cta__img--1",3,"src","alt"],[1,"cta__img","cta__img--2",3,"src","alt"],[1,"cta__content"],[1,"heading-secondary"],[1,"cta__text"],["class","btn btn--green span-all-rows",3,"click",4,"ngIf"],["class","btn btn--green span-all-rows","routerLink","/login",4,"ngIf"],[1,"btn","btn--green","span-all-rows",3,"click"],["thenBlock",""],["routerLink","/login",1,"btn","btn--green","span-all-rows"],["elseBlock",""]],template:function(e,n){1&e&&(l.YNc(0,XR,1,1,"app-component-message",0),l._UZ(1,"app-review-form"),l.TgZ(2,"div",1,2)(4,"h3",3),l._uU(5,"Are you sure you want to delete your review?"),l.qZA(),l.TgZ(6,"div",4)(7,"button",5),l.NdJ("click",function(){return n.onDeleteUserReview()}),l._uU(8,"Yes"),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){return n.closeWarning()}),l._uU(10,"No"),l.qZA()()(),l.YNc(11,JR,20,5,"section",7),l.YNc(12,r1,43,10,"section",8),l.YNc(13,o1,2,1,"section",9),l.YNc(14,s1,2,1,"section",10),l.YNc(15,f1,4,2,"section",11),l.YNc(16,g1,13,8,"section",12)),2&e&&(l.Q6J("ngIf",n.isMessage),l.xp6(11),l.Q6J("ngIf",!n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isMessage&&!n.isBooked))},dependencies:[Lr,lr,Li,$R,NI,el,zl],styles:[".warning--deleting[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.0001);transform-origin:center;z-index:3000;opacity:0;transition:all .2s;background-image:linear-gradient(to right bottom,#7dd56f,#28b487);width:56%;height:40%;border-radius:12px;padding:3rem 4rem}.warning__header[_ngcontent-%COMP%]{font-size:2.2rem;color:#fff}.warning__control[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:20%}.btn--red[_ngcontent-%COMP%]{background-color:#b10a0a;color:#fff}.warning-show[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%,-50%) scale(1)}"]}),r})();const v1=["app-account-list",""];function m1(r,t){1&r&&(l.TgZ(0,"li",5)(1,"a",13),l._UZ(2,"i",14),l._uU(3,"Dashboard"),l.qZA()())}const y1=function(){return{exact:!0}};let E1=(()=>{class r{constructor(e){this.store=e,this.isAuthenticated=!1}ngOnInit(){this.storeSub=this.store.select("auth").pipe((0,Ge.U)(e=>e.user)).subscribe(e=>{this.isAuthenticated=!!e,this.user=e})}ngOnDestroy(){this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Ut.yh))},r.\u0275cmp=l.Xpm({type:r,selectors:[["","app-account-list",""]],attrs:v1,decls:26,vars:3,consts:[[1,"side-nav"],["routerLinkActive","side-nav--active",3,"routerLinkActiveOptions"],["routerLink","/me"],["href","./assets/img/icons.svg#icon-settings"],[1,"side-nav__text"],["routerLinkActive","side-nav--active"],["routerLink","bookings"],["href","./assets/img/icons.svg#icon-briefcase"],["routerLink","reviews"],["href","./assets/img/icons.svg#icon-star"],["routerLink","billing"],["href","./assets/img/icons.svg#icon-credit-card"],["routerLinkActive","side-nav--active",4,"ngIf"],["routerLink","dashboard"],[1,"fa-solid","fa-sliders"]],template:function(e,n){1&e&&(l.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),l.O4$(),l.TgZ(3,"svg"),l._UZ(4,"use",3),l.qZA(),l.kcU(),l.TgZ(5,"span",4),l._uU(6,"Settings"),l.qZA()()(),l.TgZ(7,"li",5)(8,"a",6),l.O4$(),l.TgZ(9,"svg"),l._UZ(10,"use",7),l.qZA(),l.kcU(),l.TgZ(11,"span",4),l._uU(12,"My bookings"),l.qZA()()(),l.TgZ(13,"li",5)(14,"a",8),l.O4$(),l.TgZ(15,"svg"),l._UZ(16,"use",9),l.qZA(),l.kcU(),l.TgZ(17,"span",4),l._uU(18,"My reviews"),l.qZA()()(),l.TgZ(19,"li",5)(20,"a",10),l.O4$(),l.TgZ(21,"svg"),l._UZ(22,"use",11),l.qZA(),l.kcU(),l.TgZ(23,"span",4),l._uU(24,"Billing"),l.qZA()()(),l.YNc(25,m1,4,0,"li",12),l.qZA()),2&e&&(l.xp6(1),l.Q6J("routerLinkActiveOptions",l.DdM(2,y1)),l.xp6(24),l.Q6J("ngIf","admin"===(null==n.user?null:n.user.role)))},dependencies:[lr,Li,Lh]}),r})();const C1=["fileUpload"];let w1=(()=>{class r{constructor(e,n,i){this.genaralService=e,this.store=n,this.http=i,this.genaralService.setPageTitle("Account")}ngOnInit(){this.storeSub=this.store.select("auth").pipe((0,Ge.U)(e=>e.user)).subscribe(e=>{this.user=e})}sendFile(e){const n=new FormData;n.append("photo",e.photo),n.append("name",e.name),n.append("email",e.email),this.store.dispatch(new mo({type:"basicInfo",data:n}))}onSubmit(e){this.sendFile({photo:this.fileUpload.nativeElement.files[0],email:e.value.email,name:e.value.name})}ngOnDestroy(){this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn),l.Y36(Ut.yh),l.Y36(Ur))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account"]],viewQuery:function(e,n){if(1&e&&l.Gf(C1,5),2&e){let i;l.iGM(i=l.CRH())&&(n.fileUpload=i.first)}},decls:4,vars:0,consts:[[1,"user-view"],["app-account-list","",1,"user-view__menu"],[1,"user-view__content",2,"overflow","auto","position","relative"]],template:function(e,n){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"nav",1),l.TgZ(2,"div",2),l._UZ(3,"router-outlet"),l.qZA()())},dependencies:[Oc,E1]}),r})();const D1=["fileUpload"];function T1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Name is required "),l.qZA())}function M1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Email is required "),l.qZA())}function S1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Invalid email format! "),l.qZA())}function I1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Current password is required "),l.qZA())}function A1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," New password is required "),l.qZA())}function x1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),l.qZA())}function O1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Password confirmation is required "),l.qZA())}function R1(r,t){1&r&&(l.TgZ(0,"span",34),l._uU(1," Passwords does not match "),l.qZA())}const b1=function(){return["newPassword","newPasswordConfirm"]};let P1=(()=>{class r{constructor(e,n){this.genaralService=e,this.store=n,this.genaralService.setPageTitle("Account"),this.environment=Zt}ngOnInit(){this.storeSub=this.store.select("auth").pipe((0,Ge.U)(e=>e.user)).subscribe(e=>{this.user=e})}sendFile(e){const n=new FormData;n.append("photo",e.photo),n.append("name",e.name),n.append("email",e.email),this.store.dispatch(new mo({type:"basicInfo",data:n}))}onSubmit(e){e.valid&&this.sendFile({photo:this.fileUpload.nativeElement.files[0],email:e.value.email,name:e.value.name})}onSubmitChangePassword(e){e.valid&&this.store.dispatch(new mo({type:"password",data:{passwordCurrent:e.value.currentPassword,password:e.value.newPassword,passwordConfirm:e.value.newPasswordConfirm}}))}ngOnDestroy(){this.storeSub.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(Bn),l.Y36(Ut.yh))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account-settings"]],viewQuery:function(e,n){if(1&e&&l.Gf(D1,5),2&e){let i;l.iGM(i=l.CRH())&&(n.fileUpload=i.first)}},decls:58,vars:15,consts:[[1,"user-view__form-container"],[1,"heading-secondary","ma-bt-md"],[1,"form","form-user-data",3,"ngSubmit"],["f","ngForm"],[1,"form__group"],["for","name",1,"form__label"],["id","name","type","text","required","","name","name",1,"form__input",3,"ngModel"],["name","ngModel"],["class","text-danger",4,"ngIf"],[1,"form__group","ma-bt-md"],["for","email",1,"form__label"],["id","email","type","email","required","","email","","name","email",1,"form__input",3,"ngModel"],["email","ngModel"],[1,"form__group","form__photo-upload"],["alt","User photo",1,"form__user-photo",3,"src"],["type","file","accept","image/*","id","photo","ngModel","","name","photo",1,"form__upload"],["fileUpload",""],["for","photo"],[1,"form__group","right"],["type","submit",1,"btn","btn--small","btn--green",3,"disabled"],[1,"line"],[1,"form","form-user-password",3,"appMatchPassword","ngSubmit"],["formChangePassword","ngForm"],["for","password-current",1,"form__label"],["id","password-current","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","minlength","8","required","","ngModel","","password","","name","currentPassword",1,"form__input"],["currentPassword","ngModel"],["for","password",1,"form__label"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","appPasswordPattern","","ngModel","","password","","name","newPassword",1,"form__input"],["password","ngModel"],[1,"form__group","ma-bt-lg"],["for","password-confirm",1,"form__label"],["id","password-confirm","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","password","","ngModel","","name","newPasswordConfirm",1,"form__input"],["newPasswordConfirm","ngModel"],[1,"btn","btn--small","btn--green","btn--save-password",3,"disabled"],[1,"text-danger"]],template:function(e,n){if(1&e){const i=l.EpF();l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Your account settings"),l.qZA(),l.TgZ(3,"form",2,3),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(4);return l.KtG(n.onSubmit(d))}),l.TgZ(5,"div",4)(6,"label",5),l._uU(7,"Name"),l.qZA(),l._UZ(8,"input",6,7),l.YNc(10,T1,2,0,"span",8),l._uU(11," /> "),l.qZA(),l.TgZ(12,"div",9)(13,"label",10),l._uU(14,"Email address"),l.qZA(),l._UZ(15,"input",11,12),l.YNc(17,M1,2,0,"span",8),l.YNc(18,S1,2,0,"span",8),l.qZA(),l.TgZ(19,"div",13),l._UZ(20,"img",14)(21,"input",15,16),l.TgZ(23,"label",17),l._uU(24,"Choose new photo"),l.qZA()(),l.TgZ(25,"div",18)(26,"button",19),l._uU(27," Save settings "),l.qZA()()()(),l.TgZ(28,"div",20),l._uU(29,"\xa0"),l.qZA(),l.TgZ(30,"div",0)(31,"h2",1),l._uU(32,"Password change"),l.qZA(),l.TgZ(33,"form",21,22),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(34);return l.KtG(n.onSubmitChangePassword(d))}),l.TgZ(35,"div",4)(36,"label",23),l._uU(37,"Current password"),l.qZA(),l._UZ(38,"input",24,25),l.YNc(40,I1,2,0,"span",8),l.qZA(),l.TgZ(41,"div",4)(42,"label",26),l._uU(43,"New password"),l.qZA(),l._UZ(44,"input",27,28),l.YNc(46,A1,2,0,"span",8),l.YNc(47,x1,2,0,"span",8),l.qZA(),l.TgZ(48,"div",29)(49,"label",30),l._uU(50,"Confirm password"),l.qZA(),l._UZ(51,"input",31,32),l.YNc(53,O1,2,0,"span",8),l.YNc(54,R1,2,0,"span",8),l.qZA(),l.TgZ(55,"div",18)(56,"button",33),l._uU(57," Save password "),l.qZA()()()()}if(2&e){const i=l.MAs(4),u=l.MAs(9),d=l.MAs(16),h=l.MAs(34),g=l.MAs(39),_=l.MAs(45),y=l.MAs(52);l.xp6(8),l.Q6J("ngModel",n.user.name),l.xp6(2),l.Q6J("ngIf",(u.touched||i.submitted)&&(null==u.errors?null:u.errors.required)),l.xp6(5),l.Q6J("ngModel",n.user.email),l.xp6(2),l.Q6J("ngIf",(d.touched||i.submitted)&&(null==d.errors?null:d.errors.required)),l.xp6(1),l.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.email)),l.xp6(2),l.Q6J("src",n.environment.domain+"img/users/"+n.user.photo,l.LSH),l.xp6(6),l.Q6J("disabled",!i.valid||!i.dirty),l.xp6(7),l.Q6J("appMatchPassword",l.DdM(14,b1)),l.xp6(7),l.Q6J("ngIf",(g.touched||h.submitted)&&(null==g.errors?null:g.errors.required)),l.xp6(6),l.Q6J("ngIf",(_.touched||h.submitted)&&(null==_.errors?null:_.errors.required)),l.xp6(1),l.Q6J("ngIf",_.touched&&(null==_.errors?null:_.errors.invalidPassword)),l.xp6(6),l.Q6J("ngIf",(y.touched||h.submitted)&&(null==y.errors?null:y.errors.required)),l.xp6(1),l.Q6J("ngIf",y.touched&&(null==y.errors?null:y.errors.passwordMismatch)),l.xp6(2),l.Q6J("disabled",!h.valid)}},dependencies:[lr,da,Xo,go,Kn,vo,is,gr,En,rs,Jm,Ju]}),r})();const F1=["reviewsContainer"],L1=["formContainer"],N1=["f"];function k1(r,t){1&r&&l._UZ(0,"app-loading-spinner")}function U1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"app-component-message",3),l.NdJ("fireRetry",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.retryGetReviews())}),l.qZA()}if(2&r){const e=l.oxw();l.Q6J("message",e.message)("isError",e.isError)}}function V1(r,t){if(1&r&&(l.O4$(),l.TgZ(0,"svg"),l._UZ(1,"use",21),l.qZA()),2&r){const e=t.$implicit,n=l.oxw().$implicit;l.Tol("reviews__star reviews__star--"+(n.rating>=e?"active":"inactive"))}}const B1=function(r){return{"background-image":r,position:"relative","background-size":"contain","background-position":"center"}},j1=function(){return[1,2,3,4,5]};function G1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"div",7),l._UZ(1,"i",8),l.TgZ(2,"div",9)(3,"i",10),l.NdJ("click",function(i){l.CHM(e);const u=l.oxw(2);return l.KtG(u.onEditReview(i))}),l.qZA(),l.TgZ(4,"i",11),l.NdJ("click",function(i){l.CHM(e);const u=l.oxw(2);return l.KtG(u.deleteReview(i))}),l.qZA()(),l._UZ(5,"div",12),l.TgZ(6,"div",13)(7,"div",14)(8,"h6",15),l._uU(9),l.qZA()(),l.TgZ(10,"p",16),l._uU(11),l.qZA(),l.TgZ(12,"div",17)(13,"div",18),l.YNc(14,V1,2,2,"svg",19),l.qZA(),l.TgZ(15,"p",20),l._uU(16),l.ALo(17,"date"),l.qZA()()()()}if(2&r){const e=t.$implicit,n=l.oxw(2);l.Q6J("ngStyle",l.VKq(9,B1,"url("+n.environment.domain+"img/tours/"+e.tour.imageCover+")")),l.uIk("data-reviewId",e.id),l.xp6(9),l.Oqu(e.tour.name),l.xp6(2),l.hij(" ",e.review," "),l.xp6(3),l.Q6J("ngForOf",l.DdM(11,j1)),l.xp6(2),l.hij(" ",l.xi3(17,6,e.createdAt,"d MMMM y")," ")}}function H1(r,t){if(1&r&&(l.TgZ(0,"div",4,5),l.YNc(2,G1,18,12,"div",6),l.qZA()),2&r){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.reviews)}}let Z1=(()=>{class r{constructor(e,n,i){this.accountService=e,this.GeneralService=n,this.reviewFormService=i,this.isMessage=!1,this.message="",this.isError=!1,this.isUpdating=!1,this.environment=Zt}ngOnInit(){this.reviewsSub=this.accountService.reviews.subscribe(e=>{this.isLoading=!1,this.isMessage=!1,this.reviews=e,0===this.reviews?.length&&this.displayMessage("You didn't write any review!")}),this.reviewErrorSub=this.accountService.reviewsError.subscribe(e=>{"error"===e&&this.displayMessage("Something went wrong!",!0)}),this.updatedReviewSub=this.reviewFormService.updatedReview.subscribe(e=>{console.log({review:e});const n=this.reviews.findIndex(i=>i.id===this.editedReviewID);this.reviews[n]=e}),this.deleteReviewSub=this.accountService.deletedReview.subscribe(e=>{this.reviewCardElement?.classList.add("review--delete"),this.reviewCardElement?.addEventListener("transitionend",()=>{this.reviewCardElement.parentNode?.removeChild(this.reviewCardElement),0===this.reviewsContainer?.nativeElement.querySelectorAll(".user__reviews__card").length&&this.displayMessage("There is no reviews yet!")}),this.GeneralService.showAlert("success","Successfully removed the review")}),this.deletReviewErrorSub=this.accountService.deletedReviewError.subscribe(e=>{this.reviewCardElement?.querySelector(".icon__indication")?.classList.remove("review--delete--start")}),this.getReviews()}getReviews(){this.isLoading=!0,this.accountService.getUserReviews()}displayMessage(e,n=!1){this.isLoading=!1,this.isMessage=!0,this.message=e,this.isError=n}retryGetReviews(){this.isLoading=!0,this.accountService.getUserReviews()}deleteReview(e){this.deleteReviewIconElement=e.target,this.reviewCardElement=this.deleteReviewIconElement.closest(".user__reviews__card"),this.reviewId=this.reviewCardElement?.attributes.getNamedItem("data-reviewid")?.value,this.reviewId&&(this.reviewCardElement?.querySelector(".icon__indication")?.classList.add("review--delete--start"),this.accountService.deleteReview(this.reviewId))}onEditReview(e){const u=e.target.closest(".user__reviews__card")?.attributes.getNamedItem("data-reviewid")?.value;this.editedReviewID=u;const d=this.reviews.find(g=>g.id===this.editedReviewID);this.reviewFormService.showReviewForm({mode:"editing",tourData:{imageCover:d.tour.imageCover,name:d.tour.name,tourId:d.tour.id},reviewData:{rating:d.rating,review:d.review,reviewId:d.id}})}ngOnDestroy(){this.reviewsSub?.unsubscribe(),this.reviewErrorSub?.unsubscribe(),this.deleteReviewSub?.unsubscribe(),this.deletReviewErrorSub?.unsubscribe(),this.updatedReviewSub?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(ss),l.Y36(Bn),l.Y36(Dd))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account-reviews"]],viewQuery:function(e,n){if(1&e&&(l.Gf(F1,5),l.Gf(L1,5),l.Gf(N1,5)),2&e){let i;l.iGM(i=l.CRH())&&(n.reviewsContainer=i.first),l.iGM(i=l.CRH())&&(n.formContainer=i.first),l.iGM(i=l.CRH())&&(n.editReviewForm=i.first)}},decls:4,vars:3,consts:[[4,"ngIf"],[3,"message","isError","fireRetry",4,"ngIf"],["class","user__reviews",4,"ngIf"],[3,"message","isError","fireRetry"],[1,"user__reviews"],["reviewsContainer",""],["class","user__reviews__card",3,"ngStyle",4,"ngFor","ngForOf"],[1,"user__reviews__card",3,"ngStyle"],[1,"icon__indication","fa-solid","fa-circle-notch","fa-spin","fa-2xl"],[1,"control"],[1,"control__btn","fa-solid","fa-pen-to-square","fa-2xl",3,"click"],[1,"control__btn","fa-solid","fa-trash-can","fa-2xl",3,"click"],[1,"overlay"],[1,"user__reviews__card__content"],[1,"reviews__avatar"],[1,"reviews__user"],[1,"reviews__text"],[1,"reviews__details"],[1,"reviews__rating"],[3,"class",4,"ngFor","ngForOf"],[1,"reviews__createdAt"],["href","../assets/img/icons.svg#icon-star"]],template:function(e,n){1&e&&(l.YNc(0,k1,1,0,"app-loading-spinner",0),l.YNc(1,U1,1,2,"app-component-message",1),l._UZ(2,"app-review-form"),l.YNc(3,H1,3,1,"div",2)),2&e&&(l.Q6J("ngIf",n.isLoading),l.xp6(1),l.Q6J("ngIf",n.isMessage),l.xp6(2),l.Q6J("ngIf",!n.isLoading&&!n.isMessage))},dependencies:[Lr,lr,Nt,Xu,NI,el,zl],styles:[".user__reviews[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;row-gap:4rem;column-gap:3rem;padding:0 1rem}.user__reviews__card[_ngcontent-%COMP%]{padding:3rem 2rem;border-radius:6px;box-shadow:0 1.5rem 4rem #00000026;scroll-snap-align:center;display:flex;flex-direction:column;overflow:hidden;transition:transform .4s,opacity .2s,flex-basis .3s;opacity:1;flex-basis:30rem}"]}),r})();function $1(r,t){1&r&&l._UZ(0,"app-loading-spinner")}function W1(r,t){if(1&r){const e=l.EpF();l.TgZ(0,"app-component-message",3),l.NdJ("fireRetry",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.retryGetBookings())}),l.qZA()}if(2&r){const e=l.oxw();l.Q6J("message",e.message)("isError",e.isError)}}function z1(r,t){1&r&&(l.TgZ(0,"div",22)(1,"p",23),l._uU(2,"Paid"),l.qZA()())}function Y1(r,t){if(1&r&&(l.TgZ(0,"p",24),l._uU(1),l.qZA()),2&r){const e=l.oxw().$implicit;l.xp6(1),l.hij("$",e.price,"")}}function K1(r,t){1&r&&(l.TgZ(0,"span",30),l._uU(1,"Lead guide"),l.qZA())}function q1(r,t){1&r&&(l.TgZ(0,"span",30),l._uU(1,"Tour guide"),l.qZA())}function X1(r,t){if(1&r&&(l.TgZ(0,"div",25),l._UZ(1,"img",26),l.TgZ(2,"div",27)(3,"span",28),l._uU(4),l.qZA(),l.YNc(5,K1,2,0,"span",29),l.YNc(6,q1,2,0,"span",29),l.qZA()()),2&r){const e=t.$implicit,n=l.oxw(3);l.xp6(1),l.Q6J("src",n.environment.domain+"img/users/"+e.photo,l.LSH)("alt",e.name),l.xp6(3),l.Oqu(e.name),l.xp6(1),l.Q6J("ngIf","lead-guide"===e.role),l.xp6(1),l.Q6J("ngIf","guide"===e.role)}}const J1=function(r){return{"background-image":r}};function Q1(r,t){if(1&r&&(l.TgZ(0,"div",7),l._UZ(1,"div",8),l.TgZ(2,"div",9),l.YNc(3,z1,3,0,"div",10),l.TgZ(4,"h6",11),l._uU(5),l.qZA(),l.TgZ(6,"div",12)(7,"p",13)(8,"strong"),l._uU(9,"Starts at: "),l.qZA(),l._uU(10),l.ALo(11,"date"),l.qZA(),l.YNc(12,Y1,2,1,"p",14),l.qZA(),l.TgZ(13,"div",15)(14,"h4",16),l._uU(15,"Guides:"),l.qZA(),l.TgZ(16,"div",17),l.YNc(17,X1,7,5,"div",18),l.qZA()(),l.TgZ(18,"div",19)(19,"p",20)(20,"strong"),l._uU(21,"Booked at: "),l.qZA(),l._uU(22),l.ALo(23,"date"),l.qZA(),l.TgZ(24,"a",21)(25,"span"),l._uU(26," More Details"),l.qZA()()()()()),2&r){const e=t.$implicit,n=l.oxw(2);l.Q6J("ngStyle",l.VKq(15,J1,"url("+n.environment.domain+"img/tours/"+e.tour.imageCover+")")),l.uIk("data-reviewId",e.id),l.xp6(3),l.Q6J("ngIf",e.paid),l.xp6(2),l.Oqu(e.tour.name),l.xp6(5),l.hij("",l.xi3(11,9,e.tour.startDates[0],"d MMMM y")," "),l.xp6(2),l.Q6J("ngIf",!e.paid),l.xp6(5),l.Q6J("ngForOf",e.tour.guides),l.xp6(5),l.hij("",l.xi3(23,12,e.createdAt,"d MMMM y")," "),l.xp6(2),l.Q6J("routerLink","/tour/"+e.tour.slug)}}function eb(r,t){if(1&r&&(l.TgZ(0,"div",4,5),l.YNc(2,Q1,27,17,"div",6),l.qZA()),2&r){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.bookings)}}let tb=(()=>{class r{constructor(e){this.accountService=e,this.isLoading=!0,this.isMessage=!1,this.message="",this.isError=!1,this.environment=Zt}ngOnInit(){this.bookingsSub=this.accountService.bookings.subscribe(e=>{this.isLoading=!1,this.isMessage=!1,this.bookings=e,0===this.bookings?.length&&this.displayMessage("You didn't booked any tour!")}),this.bookingsErrorSub=this.accountService.bookingsError.subscribe(e=>{"error"===e&&this.displayMessage("Something went wrong!",!0)}),this.getBookings()}retryGetBookings(){this.getBookings()}getBookings(){this.isLoading=!0,this.accountService.getAccountBookings()}displayMessage(e,n=!1){this.isLoading=!1,this.isMessage=!0,this.message=e,this.isError=n}ngOnDestroy(){this.bookingsSub?.unsubscribe(),this.bookingsErrorSub?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(l.Y36(ss))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account-bookings"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"message","isError","fireRetry",4,"ngIf"],["class","user__bookings",4,"ngIf"],[3,"message","isError","fireRetry"],[1,"user__bookings"],["bookingsContainer",""],["class","user__bookings__card",3,"ngStyle",4,"ngFor","ngForOf"],[1,"user__bookings__card",3,"ngStyle"],[1,"overlay"],[1,"user__bookings__card__content"],["class","booking__badge",4,"ngIf"],[1,"bookings__head"],[1,"bookings__details"],[1,"bookings__startsAt"],["class","bookings__text",4,"ngIf"],[1,"bookings__tour__guides"],[1,"bookings__tour__guides__title"],[1,"bookings__tour__guides__container"],["class","bookings__tour__guide",4,"ngFor","ngForOf"],[1,"bookings__extra"],[1,"bookings__createdAt"],[1,"btn","btn--green","booking__more-details",3,"routerLink"],[1,"booking__badge"],[1,"booking__badge__text"],[1,"bookings__text"],[1,"bookings__tour__guide"],[1,"guide__img",3,"src","alt"],[1,"guide__text"],[1,"guide__name"],["class","guide__role",4,"ngIf"],[1,"guide__role"]],template:function(e,n){1&e&&(l.YNc(0,$1,1,0,"app-loading-spinner",0),l.YNc(1,W1,1,2,"app-component-message",1),l.YNc(2,eb,3,1,"div",2)),2&e&&(l.Q6J("ngIf",n.isLoading),l.xp6(1),l.Q6J("ngIf",n.isMessage),l.xp6(1),l.Q6J("ngIf",!n.isLoading&&!n.isMessage))},dependencies:[Lr,lr,Nt,Li,Xu,el,zl],styles:[".user__bookings[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;row-gap:4rem;column-gap:3rem;padding:0 1rem}.user__bookings__card[_ngcontent-%COMP%]{padding:4rem 3rem;border-radius:6px;box-shadow:0 1.5rem 4rem #00000026;scroll-snap-align:center;display:flex;flex-direction:column;overflow:hidden;background-size:cover;background-position:center;transition:transform .4s,opacity .2s,flex-basis .3s;opacity:1;flex-basis:60rem;min-height:50rem;position:relative}.bookings__head[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:5rem;max-width:90%}.overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#0006;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);border-radius:inherit;z-index:0}.user__bookings__card__content[_ngcontent-%COMP%]{z-index:10;color:#fff;height:100%;display:flex;flex-direction:column;align-content:space-between;font-size:3rem;text-decoration:none}.booking__badge[_ngcontent-%COMP%]{position:absolute;top:2rem;right:2rem;width:10rem;height:10rem;background-color:#b7940c;display:flex;justify-content:center;align-items:center;border-radius:50%;font-weight:700}.bookings__details[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-end;justify-content:space-between;font-size:2rem;margin-bottom:2rem}.bookings__startsAt[_ngcontent-%COMP%]{font-size:1.8rem}.bookings__createdAt[_ngcontent-%COMP%]{font-size:1.5rem}.bookings__tour__guides[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:4rem;gap:2rem}.bookings__tour__guides__container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-wrap:wrap;gap:2rem}.bookings__tour__guide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.6rem}.guide__img[_ngcontent-%COMP%]{width:7rem;height:7rem;border:2px solid white;border-radius:50%}.guide__text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.guide__role[_ngcontent-%COMP%]{font-size:1.2rem}.guide__name[_ngcontent-%COMP%]{font-size:2rem}.bookings__extra[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}@media only screen and (max-width: 50em){.booking__badge[_ngcontent-%COMP%]{width:6rem;height:6rem}.user__bookings__card__content[_ngcontent-%COMP%]{font-size:1.6rem}.bookings__head[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:2rem;max-width:90%}.bookings__details[_ngcontent-%COMP%]{margin-bottom:1rem}.bookings__tour__guide[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.bookings__tour__guides[_ngcontent-%COMP%]{margin-bottom:2rem}}@media only screen and (max-width: 37.5em){.bookings__extra[_ngcontent-%COMP%]{flex-direction:column;justify-items:center;gap:2rem;margin-top:2rem}}"]}),r})(),nb=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account-billing"]],decls:2,vars:0,template:function(e,n){1&e&&(l.TgZ(0,"p"),l._uU(1,"In the next upgrade!"),l.qZA())}}),r})(),rb=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-account-dashboard"]],decls:2,vars:0,template:function(e,n){1&e&&(l.TgZ(0,"p"),l._uU(1,"In the next upgrade!"),l.qZA())}}),r})();class n0{constructor(t,e,n,i,u,d){this.email=t,this.name=e,this.photo=n,this.token=i,this.id=u,this.role=d}}const ib={user:null,authError:"",loading:!1,lastSuccessfulLAction:"",message:""},sb={tours:null,loading:!1,errMessage:""},ub={auth:function ob(r=ib,t){switch(t.type){case $u:case Op:case Ui:case bp:return{...r,loading:!0,authError:""};case Rp:const e=new n0(t.payload.user.email,t.payload.user.name,t.payload.user.photo,t.payload.user.token,t.payload.user.id,t.payload.user.role);return{...r,user:e,loading:!1,lastSuccessfulLAction:"userLogin",message:""};case jm:return{...r,user:null,authError:t.payload,loading:!1};case Sw:return{...r,authError:t.payload,loading:!1};case Wr:return{...r,loading:!1,authError:"",message:t.payload};case"[Auth] Clear Error":return{...r,authError:""};case"[App] Start Spinner":return{...r,loading:!0,lastSuccessfulLAction:"startSpinner"};case"[App] End Spinner":return{...r,loading:!1};case Wu:return{...r,user:null,loading:!1,lastSuccessfulLAction:"userLogout"};case ha:let n="myToken";null!==r.user&&(n=r.user.token);const i=new n0(t.payload.email,t.payload.name,t.payload.photo,n,t.payload.id,t.payload.role);return{...r,user:i,loading:!1,lastSuccessfulLAction:"userUpdate"};case Hm:return{...r,authError:t.payload,loading:!1};default:return r}},tours:function ab(r=sb,t){switch(t.type){case Cd:return{...r,loading:!0,errMessage:""};case wd:return{...r,tours:t.payload,loading:!1,errMessage:""};case Vp:return{...r,loading:!1,errMessage:t.payload};case"[App] Clear Error":return{...r,authError:""};case"[App] Start Spinner":return{...r,loading:!0};case"[App] End Spinner":return{...r,loading:!1};default:return r}}};var kI=M(6451),lb=M(5032);class Is{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){return UI(this,t)}do(t,e,n){const{kind:i,value:u,error:d}=this;return"N"===i?t?.(u):"E"===i?e?.(d):n?.()}accept(t,e,n){var i;return(0,gc.m)(null===(i=t)||void 0===i?void 0:i.next)?this.observe(t):this.do(t,e,n)}toObservable(){const{kind:t,value:e,error:n}=this,i="N"===t?(0,Be.of)(e):"E"===t?hi(()=>n):"C"===t?bt.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(t){return new Is("N",t)}static createError(t){return new Is("E",void 0,t)}static createComplete(){return Is.completeNotification}}function UI(r,t){var e,n,i;const{kind:u,value:d,error:h}=r;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(e=t.next)||void 0===e||e.call(t,d):"E"===u?null===(n=t.error)||void 0===n||n.call(t,h):null===(i=t.complete)||void 0===i||i.call(t)}function VI(r,t,e,n){return(0,Wn.e)((i,u)=>{let d;t&&"function"!=typeof t?({duration:e,element:d,connector:n}=t):d=t;const h=new Map,g=S=>{h.forEach(S),S(u)},_=S=>g(R=>R.error(S));let y=0,C=!1;const w=new Nn.Q(u,S=>{try{const R=r(S);let N=h.get(R);if(!N){h.set(R,N=n?n():new Pt.x);const W=function T(S,R){const N=new fi.y(W=>{y++;const Z=R.subscribe(W);return()=>{Z.unsubscribe(),0==--y&&C&&w.unsubscribe()}});return N.key=S,N}(R,N);if(u.next(W),e){const Z=(0,Nn.x)(N,()=>{N.complete(),Z?.unsubscribe()},void 0,void 0,()=>h.delete(R));w.add((0,vu.Xf)(e(W)).subscribe(Z))}}N.next(d?d(S):S)}catch(R){_(R)}},()=>g(S=>S.complete()),_,()=>h.clear(),()=>(C=!0,0===y));i.subscribe(w)})}function BI(r,t){return t?e=>e.pipe(BI((n,i)=>(0,vu.Xf)(r(n,i)).pipe((0,Ge.U)((u,d)=>t(n,u,i,d))))):(0,Wn.e)((e,n)=>{let i=0,u=null,d=!1;e.subscribe((0,Nn.x)(n,h=>{u||(u=(0,Nn.x)(n,void 0,()=>{u=null,d&&n.complete()}),(0,vu.Xf)(r(h,i++)).subscribe(u))},()=>{d=!0,!u&&n.complete()}))})}Is.completeNotification=new Is("C");const jI={dispatch:!0,useEffectsErrorHandler:!0},r0="__@ngrx/effects_create__";function Ul(r,t){const e=r(),n={...jI,...t};return Object.defineProperty(e,r0,{value:n}),e}function hb(r){return Object.getOwnPropertyNames(r).filter(n=>!(!r[n]||!r[n].hasOwnProperty(r0))&&r[n][r0].hasOwnProperty("dispatch")).map(n=>({propertyName:n,...r[n][r0]}))}function xT(r){return Object.getPrototypeOf(r)}const o0="__@ngrx/effects__";function pb(r){return(0,Ut.qC)(_b,xT)(r)}function _b(r){return function GI(r){return r.constructor.hasOwnProperty(o0)}(r)?r.constructor[o0]:[]}function vb(r,t,e){const n=xT(r).constructor.name,i=function HI(r){return[pb,hb].reduce((e,n)=>e.concat(n(r)),[])}(r).map(({propertyName:u,dispatch:d,useEffectsErrorHandler:h})=>{const g="function"==typeof r[u]?r[u]():r[u],_=h?e(g,t):g;return!1===d?_.pipe(function cb(){return(0,Wn.e)((r,t)=>{r.subscribe((0,Nn.x)(t,lb.Z))})}()):_.pipe(function db(){return(0,Wn.e)((r,t)=>{r.subscribe((0,Nn.x)(t,e=>{t.next(Is.createNext(e))},()=>{t.next(Is.createComplete()),t.complete()},e=>{t.next(Is.createError(e)),t.complete()}))})}()).pipe((0,Ge.U)(C=>({effect:r[u],notification:C,propertyName:u,sourceName:n,sourceInstance:r})))});return(0,kI.T)(...i)}function ZI(r,t,e=10){return r.pipe((0,On.K)(n=>(t&&t.handleError(n),e<=1?r:ZI(r,t,e-1))))}let OT=(()=>{class r extends fi.y{constructor(e){super(),e&&(this.source=e)}lift(e){const n=new r;return n.source=this,n.operator=e,n}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ut.Y$))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function Vl(...r){return(0,Xt.h)(t=>r.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}function Ab(r){return RT(r,"ngrxOnInitEffects")}function RT(r,t){return r&&t in r&&"function"==typeof r[t]}const $I=new l.OlP("@ngrx/effects Internal Root Guard"),s0=new l.OlP("@ngrx/effects User Provided Effects"),bT=new l.OlP("@ngrx/effects Internal Root Effects"),WI=new l.OlP("@ngrx/effects Root Effects"),zI=new l.OlP("@ngrx/effects Internal Feature Effects"),YI=new l.OlP("@ngrx/effects Feature Effects"),KI=new l.OlP("@ngrx/effects Effects Error Handler");let PT=(()=>{class r extends Pt.x{constructor(e,n){super(),this.errorHandler=e,this.effectsErrorHandler=n}addEffects(e){this.next(e)}toActions(){return this.pipe(VI(xT),(0,fn.z)(e=>e.pipe(VI(xb))),(0,fn.z)(e=>{const n=e.pipe(BI(u=>function Ob(r,t){return e=>{const n=vb(e,r,t);return function Sb(r){return RT(r,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(n):n}}(this.errorHandler,this.effectsErrorHandler)(u)),(0,Ge.U)(u=>(function yb(r,t){if("N"===r.notification.kind){const e=r.notification.value;!function Eb(r){return"function"!=typeof r&&r&&r.type&&"string"==typeof r.type}(e)&&t.handleError(new Error(`Effect ${function Cb({propertyName:r,sourceInstance:t,sourceName:e}){const n="function"==typeof t[r];return`"${e}.${String(r)}${n?"()":""}"`}(r)} dispatched an invalid action: ${function wb(r){try{return JSON.stringify(r)}catch{return r}}(e)}`))}}(u,this.errorHandler),u.notification)),(0,Xt.h)(u=>"N"===u.kind&&null!=u.value),function fb(){return(0,Wn.e)((r,t)=>{r.subscribe((0,Nn.x)(t,e=>UI(e,t)))})}()),i=e.pipe((0,Ks.q)(1),(0,Xt.h)(Ab),(0,Ge.U)(u=>u.ngrxOnInitEffects()));return(0,kI.T)(n,i)}))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(l.qLn),l.LFG(KI))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();function xb(r){return function Tb(r){return RT(r,"ngrxOnIdentifyEffects")}(r)?r.ngrxOnIdentifyEffects():""}let FT=(()=>{class r{constructor(e,n){this.effectSources=e,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(PT),l.LFG(Ut.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();const qI="@ngrx/effects/init";(0,Ut.PH)(qI);let XI=(()=>{class r{constructor(e,n,i,u,d,h,g){this.sources=e,n.start(),u.forEach(_=>e.addEffects(_)),i.dispatch({type:qI})}addEffects(e){this.sources.addEffects(e)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(PT),l.LFG(FT),l.LFG(Ut.yh),l.LFG(WI),l.LFG(Ut.cr,8),l.LFG(Ut.CK,8),l.LFG($I,8))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})(),Rb=(()=>{class r{constructor(e,n,i,u){n.forEach(d=>d.forEach(h=>e.addEffects(h)))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(XI),l.LFG(YI),l.LFG(Ut.cr,8),l.LFG(Ut.CK,8))},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})(),bb=(()=>{class r{static forFeature(e=[]){return{ngModule:Rb,providers:[e,{provide:zI,multi:!0,useValue:e},{provide:s0,multi:!0,useValue:[]},{provide:YI,multi:!0,useFactory:JI,deps:[l.zs3,zI,s0]}]}}static forRoot(e=[]){return{ngModule:XI,providers:[{provide:KI,useValue:ZI},FT,PT,OT,e,{provide:bT,useValue:[e]},{provide:$I,useFactory:Fb,deps:[[FT,new l.FiY,new l.tp0],[bT,new l.PiD]]},{provide:s0,multi:!0,useValue:[]},{provide:WI,useFactory:JI,deps:[l.zs3,bT,s0]}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({}),r})();function JI(r,t,e){const n=[];for(const i of t)n.push(...i);for(const i of e)n.push(...i);return function Pb(r,t){return t.map(e=>r.get(e))}(r,n)}function Fb(r,t){if((1!==t.length||0!==t[0].length)&&r)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let Nb=(()=>{class r{constructor(e,n,i,u,d){this.actions$=e,this.http=n,this.router=i,this.store=u,this.generalServices=d,this.authLogin=Ul(()=>this.actions$.pipe(Vl($u),(0,zn.w)(h=>(this.generalServices.showAlert("loadingSpinner"),this.http.post(`${Zt.domain}api/v1/users/login`,{email:h.payload.email,password:h.payload.password}).pipe((0,Ge.U)(g=>(this.generalServices.hideAlert(),this.handleAuthentication(g.data.user.email,g.data.user.name,g.data.user.photo,g.token,g.data.user.id,g.data.user.role))),(0,On.K)(g=>this.handleError(g))))))),this.authSignUp=Ul(()=>this.actions$.pipe(Vl(Op),(0,zn.w)(h=>(this.generalServices.showAlert("loadingSpinner"),this.http.post(`${Zt.domain}api/v1/users/signup`,{email:h.payload.email,password:h.payload.password,name:h.payload.name,passwordConfirm:h.payload.passwordConfirm,role:h.payload.role}).pipe((0,Ge.U)(g=>(this.generalServices.showAlert("success","Signed up successfully"),this.handleAuthentication(g.data.user.email,g.data.user.name,g.data.user.photo,g.token,g.data.user.id,g.data.user.role))),(0,On.K)(g=>this.handleError(g))))))),this.authRedirect=Ul(()=>this.actions$.pipe(Vl(Rp),Qt(h=>{h.payload.redirect&&setTimeout(()=>{this.router.navigate(["/"])},1)})),{dispatch:!1}),this.Logout=Ul(()=>this.actions$.pipe(Vl(Ui),(0,zn.w)(h=>this.http.get(`${Zt.domain}api/v1/users/logout`).pipe((0,Ge.U)(g=>("/me"===window.location.pathname?this.router.navigate(["/login"]):this.router.navigate(["/"]),localStorage.clear(),h.payload&&this.generalServices.showAlert("success","Password changed successfully, Please login with the new password."),new Pp)),(0,On.K)(g=>(0,Be.of)(new pa("Error logging out! Try again."))))))),this.userUpdate=Ul(()=>this.actions$.pipe(Vl(bp),(0,zn.w)(h=>{let g=`${Zt.domain}api/v1/users/${"password"===h.payload.type?"updateMyPassword":"updateMe"} `;return this.generalServices.showAlert("loadingSpinner"),this.http.patch(g,h.payload.data,{observe:"body"}).pipe((0,Ge.U)(_=>{if("password"===h.payload.type)return new _r("Password changed successfully, Please login with the new password.");const y=JSON.parse(localStorage.getItem("userData")||"{}"),C=new n0(_.data.user.email,_.data.user.name,_.data.user.photo,y.token,_.data.user.id,_.data.user.role);return localStorage.setItem("userData",JSON.stringify(C)),this.generalServices.showAlert("success","Updated successfully"),new ma({email:_.data.user.email,name:_.data.user.name,photo:_.data.user.photo,token:_.token,id:_.data.user.id,role:_.data.user.role})}),(0,On.K)(_=>{let y="Error updating data! Try again.";return _.error.error.isOperational?y=_.error.message:11e3===_.error.error.code?y="This Email is already exist. Please Try another one!":_.error.message&&(y=_.error.message),this.generalServices.showAlert("error",y),(0,Be.of)(new _a(y))}))}))),this.autoLogin=Ul(()=>this.actions$.pipe(Vl(Bm),(0,Ge.U)(()=>{const h=JSON.parse(localStorage.getItem("userData")||"{}");return h&&h.token?this.handleAuthentication(h.email,h.name,h.photo,h.token,h.id,h.role,!1):{type:"DUMMY"}}))),this.handleError=h=>{let g="An unkown error occured!";return 11e3===h.error.error.code?g=(r=>{const t=Object.keys(r.error.error.keyValue)[0];let e="";return e=t?`Duplicate field value: '${t}'. Please use another value!`:"This data is already exist!",e})(h):h.error.message&&(g=h.error.message),this.generalServices.showAlert("error",g),(0,Be.of)(new ga(g))},this.handleAuthentication=(h,g,_,y,C,w,T=!0)=>{const S=new n0(h,g,_,y,C,w);return localStorage.setItem("userData",JSON.stringify(S)),new md({user:{email:h,name:g,photo:_,token:y,id:C,role:w},redirect:T})}}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(OT),l.LFG(Ur),l.LFG(Un),l.LFG(Ut.yh),l.LFG(Bn))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),kb=(()=>{class r{constructor(e,n){this.actions$=e,this.http=n,this.loadTours=Ul(()=>this.actions$.pipe(Vl(Cd),(0,zn.w)(i=>this.http.get(`${Zt.domain}api/v1/tours`).pipe((0,Ge.U)(u=>new iy(u.data.data)),(0,On.K)(u=>(0,Be.of)(new bw("Something went wrong!")))))))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(OT),l.LFG(Ur))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})();var Ub=M(825);let QI=(()=>{class r{constructor(e,n,i){this.toursService=e,this.store=n,this.generalServices=i}resolve(e,n){return this.generalServices.showAlert("loadingSpinner"),this.toursService.getTour(e.params.slug).pipe((0,Ge.U)(u=>(this.generalServices.hideAlert(),u)),(0,On.K)(u=>(this.generalServices.hideAlert(),"err")))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Qu),l.LFG(Ut.yh),l.LFG(Bn))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac}),r})(),Vb=(()=>{class r{constructor(e){this.store=e,this.storeSub=this.store.select("auth").subscribe(n=>{this.token=n.user?.token})}intercept(e,n){const i=e.clone({headers:e.headers.append("Authorization",`Bearer ${this.token}`)});return n.handle(i)}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ut.yh))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eA=(()=>{class r{constructor(e,n){this.store=e,this.router=n,this.store.select("auth").subscribe(i=>this.user=i.user)}canActivate(e,n){return null!==this.user||this.router.navigate(["/login"])}canActivateChild(e,n){return null!==this.user||(this.store.dispatch(new va("You have to Login first!")),this.router.navigate(["/login"]))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(Ut.yh),l.LFG(Un))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Bb=[{path:"",redirectTo:"/tours",pathMatch:"full"},{path:"tours",component:cy,title:"Natours | All tours"},{path:"login",component:Fp,title:"Natours | Login"},{path:"signup",component:ty,title:"Natours | Sign up "},{path:"tour/:slug",component:_1,resolve:{tour:QI}},{path:"me",canActivateChild:[eA],component:w1,title:"Natours | Account ",children:[{path:"",component:P1},{path:"reviews",component:Z1},{path:"bookings",component:tb},{path:"dashboard",component:rb},{path:"billing",component:nb}]}];let jb=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r,bootstrap:[xw]}),r.\u0275inj=l.cJS({providers:[QI,{provide:hu,useClass:Vb,multi:!0},eA],imports:[Kl,to,$C,lc,Lu.forRoot(Bb),Ut.Aw.forRoot(ub),bb.forRoot([Nb,kb]),Ub.FT.instrument({logOnly:Zt.production}),WM]}),r})();Zt.production&&(0,l.G48)(),Pf().bootstrapModule(jb).catch(r=>console.error(r))},2402:function(G){G.exports=function(){"use strict";function b(x,k,j,J,de){!function fe(se,oe,_e,ve,Oe){for(;ve>_e;){if(ve-_e>600){var Se=ve-_e+1,Pe=oe-_e+1,te=Math.log(Se),Q=.5*Math.exp(2*te/3),le=.5*Math.sqrt(te*Q*(Se-Q)/Se)*(Pe-Se/2<0?-1:1);fe(se,oe,Math.max(_e,Math.floor(oe-Pe*Q/Se+le)),Math.min(ve,Math.floor(oe+(Se-Pe)*Q/Se+le)),Oe)}var De=se[oe],qe=_e,lt=ve;for(M(se,_e,oe),Oe(se[ve],De)>0&&M(se,_e,ve);qe<lt;){for(M(se,qe,lt),qe++,lt--;Oe(se[qe],De)<0;)qe++;for(;Oe(se[lt],De)>0;)lt--}0===Oe(se[_e],De)?M(se,_e,lt):M(se,++lt,ve),lt<=oe&&(_e=lt+1),oe<=lt&&(ve=lt-1)}}(x,k,j||0,J||x.length-1,de||l)}function M(x,k,j){var J=x[k];x[k]=x[j],x[j]=J}function l(x,k){return x<k?-1:x>k?1:0}var L=function(x){void 0===x&&(x=9),this._maxEntries=Math.max(4,x),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function q(x,k,j){if(!j)return k.indexOf(x);for(var J=0;J<k.length;J++)if(j(x,k[J]))return J;return-1}function ee(x,k){F(x,0,x.children.length,k,x)}function F(x,k,j,J,de){de||(de=ge(null)),de.minX=1/0,de.minY=1/0,de.maxX=-1/0,de.maxY=-1/0;for(var fe=k;fe<j;fe++){var se=x.children[fe];K(de,x.leaf?J(se):se)}return de}function K(x,k){return x.minX=Math.min(x.minX,k.minX),x.minY=Math.min(x.minY,k.minY),x.maxX=Math.max(x.maxX,k.maxX),x.maxY=Math.max(x.maxY,k.maxY),x}function U(x,k){return x.minX-k.minX}function H(x,k){return x.minY-k.minY}function V(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function X(x){return x.maxX-x.minX+(x.maxY-x.minY)}function z(x,k){return x.minX<=k.minX&&x.minY<=k.minY&&k.maxX<=x.maxX&&k.maxY<=x.maxY}function B(x,k){return k.minX<=x.maxX&&k.minY<=x.maxY&&k.maxX>=x.minX&&k.maxY>=x.minY}function ge(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ee(x,k,j,J,de){for(var fe=[k,j];fe.length;)if(!((j=fe.pop())-(k=fe.pop())<=J)){var se=k+Math.ceil((j-k)/J/2)*J;b(x,se,k,j,de),fe.push(k,se,se,j)}}return L.prototype.all=function(){return this._all(this.data,[])},L.prototype.search=function(x){var k=this.data,j=[];if(!B(x,k))return j;for(var J=this.toBBox,de=[];k;){for(var fe=0;fe<k.children.length;fe++){var se=k.children[fe],oe=k.leaf?J(se):se;B(x,oe)&&(k.leaf?j.push(se):z(x,oe)?this._all(se,j):de.push(se))}k=de.pop()}return j},L.prototype.collides=function(x){var k=this.data;if(!B(x,k))return!1;for(var j=[];k;){for(var J=0;J<k.children.length;J++){var de=k.children[J],fe=k.leaf?this.toBBox(de):de;if(B(x,fe)){if(k.leaf||z(x,fe))return!0;j.push(de)}}k=j.pop()}return!1},L.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var k=0;k<x.length;k++)this.insert(x[k]);return this}var j=this._build(x.slice(),0,x.length-1,0);if(this.data.children.length)if(this.data.height===j.height)this._splitRoot(this.data,j);else{if(this.data.height<j.height){var J=this.data;this.data=j,j=J}this._insert(j,this.data.height-j.height-1,!0)}else this.data=j;return this},L.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},L.prototype.clear=function(){return this.data=ge([]),this},L.prototype.remove=function(x,k){if(!x)return this;for(var j,J,de,fe=this.data,se=this.toBBox(x),oe=[],_e=[];fe||oe.length;){if(fe||(fe=oe.pop(),J=oe[oe.length-1],j=_e.pop(),de=!0),fe.leaf){var ve=q(x,fe.children,k);if(-1!==ve)return fe.children.splice(ve,1),oe.push(fe),this._condense(oe),this}de||fe.leaf||!z(fe,se)?J?(j++,fe=J.children[j],de=!1):fe=null:(oe.push(fe),_e.push(j),j=0,J=fe,fe=fe.children[0])}return this},L.prototype.toBBox=function(x){return x},L.prototype.compareMinX=function(x,k){return x.minX-k.minX},L.prototype.compareMinY=function(x,k){return x.minY-k.minY},L.prototype.toJSON=function(){return this.data},L.prototype.fromJSON=function(x){return this.data=x,this},L.prototype._all=function(x,k){for(var j=[];x;)x.leaf?k.push.apply(k,x.children):j.push.apply(j,x.children),x=j.pop();return k},L.prototype._build=function(x,k,j,J){var de,fe=j-k+1,se=this._maxEntries;if(fe<=se)return ee(de=ge(x.slice(k,j+1)),this.toBBox),de;J||(J=Math.ceil(Math.log(fe)/Math.log(se)),se=Math.ceil(fe/Math.pow(se,J-1))),(de=ge([])).leaf=!1,de.height=J;var oe=Math.ceil(fe/se),_e=oe*Math.ceil(Math.sqrt(se));Ee(x,k,j,_e,this.compareMinX);for(var ve=k;ve<=j;ve+=_e){var Oe=Math.min(ve+_e-1,j);Ee(x,ve,Oe,oe,this.compareMinY);for(var Se=ve;Se<=Oe;Se+=oe){var Pe=Math.min(Se+oe-1,Oe);de.children.push(this._build(x,Se,Pe,J-1))}}return ee(de,this.toBBox),de},L.prototype._chooseSubtree=function(x,k,j,J){for(;J.push(k),!k.leaf&&J.length-1!==j;){for(var de=1/0,fe=1/0,se=void 0,oe=0;oe<k.children.length;oe++){var _e=k.children[oe],ve=V(_e),Oe=(Se=x,Pe=_e,(Math.max(Pe.maxX,Se.maxX)-Math.min(Pe.minX,Se.minX))*(Math.max(Pe.maxY,Se.maxY)-Math.min(Pe.minY,Se.minY))-ve);Oe<fe?(fe=Oe,de=ve<de?ve:de,se=_e):Oe===fe&&ve<de&&(de=ve,se=_e)}k=se||k.children[0]}var Se,Pe;return k},L.prototype._insert=function(x,k,j){var J=j?x:this.toBBox(x),de=[],fe=this._chooseSubtree(J,this.data,k,de);for(fe.children.push(x),K(fe,J);k>=0&&de[k].children.length>this._maxEntries;)this._split(de,k),k--;this._adjustParentBBoxes(J,de,k)},L.prototype._split=function(x,k){var j=x[k],J=j.children.length,de=this._minEntries;this._chooseSplitAxis(j,de,J);var fe=this._chooseSplitIndex(j,de,J),se=ge(j.children.splice(fe,j.children.length-fe));se.height=j.height,se.leaf=j.leaf,ee(j,this.toBBox),ee(se,this.toBBox),k?x[k-1].children.push(se):this._splitRoot(j,se)},L.prototype._splitRoot=function(x,k){this.data=ge([x,k]),this.data.height=x.height+1,this.data.leaf=!1,ee(this.data,this.toBBox)},L.prototype._chooseSplitIndex=function(x,k,j){for(var J,de,fe,se,oe,_e,ve,Oe=1/0,Se=1/0,Pe=k;Pe<=j-k;Pe++){var te=F(x,0,Pe,this.toBBox),Q=F(x,Pe,j,this.toBBox),le=(de=te,fe=Q,void 0,void 0,void 0,void 0,se=Math.max(de.minX,fe.minX),oe=Math.max(de.minY,fe.minY),_e=Math.min(de.maxX,fe.maxX),ve=Math.min(de.maxY,fe.maxY),Math.max(0,_e-se)*Math.max(0,ve-oe)),re=V(te)+V(Q);le<Oe?(Oe=le,J=Pe,Se=re<Se?re:Se):le===Oe&&re<Se&&(Se=re,J=Pe)}return J||j-k},L.prototype._chooseSplitAxis=function(x,k,j){var J=x.leaf?this.compareMinX:U,de=x.leaf?this.compareMinY:H;this._allDistMargin(x,k,j,J)<this._allDistMargin(x,k,j,de)&&x.children.sort(J)},L.prototype._allDistMargin=function(x,k,j,J){x.children.sort(J);for(var de=this.toBBox,fe=F(x,0,k,de),se=F(x,j-k,j,de),oe=X(fe)+X(se),_e=k;_e<j-k;_e++){var ve=x.children[_e];K(fe,x.leaf?de(ve):ve),oe+=X(fe)}for(var Oe=j-k-1;Oe>=k;Oe--){var Se=x.children[Oe];K(se,x.leaf?de(Se):Se),oe+=X(se)}return oe},L.prototype._adjustParentBBoxes=function(x,k,j){for(var J=j;J>=0;J--)K(k[J],x)},L.prototype._condense=function(x){for(var k=x.length-1,j=void 0;k>=0;k--)0===x[k].children.length?k>0?(j=x[k-1].children).splice(j.indexOf(x[k]),1):this.clear():ee(x[k],this.toBBox)},L}()},1135:(G,b,M)=>{"use strict";M.d(b,{X:()=>L});var l=M(7579);class L extends l.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const F=super._subscribe(ee);return!F.closed&&ee.next(this._value),F}getValue(){const{hasError:ee,thrownError:F,_value:K}=this;if(ee)throw F;return this._throwIfClosed(),K}next(ee){super.next(this._value=ee)}}},9751:(G,b,M)=>{"use strict";M.d(b,{y:()=>H});var l=M(930),L=M(727),q=M(8822),ee=M(9635),F=M(2416),K=M(576),U=M(2806);let H=(()=>{class B{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const x=new B;return x.source=this,x.operator=Ee,x}subscribe(Ee,x,k){const j=function z(B){return B&&B instanceof l.Lv||function X(B){return B&&(0,K.m)(B.next)&&(0,K.m)(B.error)&&(0,K.m)(B.complete)}(B)&&(0,L.Nn)(B)}(Ee)?Ee:new l.Hp(Ee,x,k);return(0,U.x)(()=>{const{operator:J,source:de}=this;j.add(J?J.call(j,de):de?this._subscribe(j):this._trySubscribe(j))}),j}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(x){Ee.error(x)}}forEach(Ee,x){return new(x=V(x))((k,j)=>{const J=new l.Hp({next:de=>{try{Ee(de)}catch(fe){j(fe),J.unsubscribe()}},error:j,complete:k});this.subscribe(J)})}_subscribe(Ee){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(Ee)}[q.L](){return this}pipe(...Ee){return(0,ee.U)(Ee)(this)}toPromise(Ee){return new(Ee=V(Ee))((x,k)=>{let j;this.subscribe(J=>j=J,J=>k(J),()=>x(j))})}}return B.create=ge=>new B(ge),B})();function V(B){var ge;return null!==(ge=B??F.v.Promise)&&void 0!==ge?ge:Promise}},4707:(G,b,M)=>{"use strict";M.d(b,{t:()=>q});var l=M(7579),L=M(6063);class q extends l.x{constructor(F=1/0,K=1/0,U=L.l){super(),this._bufferSize=F,this._windowTime=K,this._timestampProvider=U,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=K===1/0,this._bufferSize=Math.max(1,F),this._windowTime=Math.max(1,K)}next(F){const{isStopped:K,_buffer:U,_infiniteTimeWindow:H,_timestampProvider:V,_windowTime:X}=this;K||(U.push(F),!H&&U.push(V.now()+X)),this._trimBuffer(),super.next(F)}_subscribe(F){this._throwIfClosed(),this._trimBuffer();const K=this._innerSubscribe(F),{_infiniteTimeWindow:U,_buffer:H}=this,V=H.slice();for(let X=0;X<V.length&&!F.closed;X+=U?1:2)F.next(V[X]);return this._checkFinalizedStatuses(F),K}_trimBuffer(){const{_bufferSize:F,_timestampProvider:K,_buffer:U,_infiniteTimeWindow:H}=this,V=(H?1:2)*F;if(F<1/0&&V<U.length&&U.splice(0,U.length-V),!H){const X=K.now();let z=0;for(let B=1;B<U.length&&U[B]<=X;B+=2)z=B;z&&U.splice(0,z+1)}}}},7579:(G,b,M)=>{"use strict";M.d(b,{x:()=>U});var l=M(9751),L=M(727);const ee=(0,M(3888).d)(V=>function(){V(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=M(8737),K=M(2806);let U=(()=>{class V extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const B=new H(this,this);return B.operator=z,B}_throwIfClosed(){if(this.closed)throw new ee}next(z){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const B of this.currentObservers)B.next(z)}})}error(z){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:B}=this;for(;B.length;)B.shift().error(z)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:B,isStopped:ge,observers:Ee}=this;return B||ge?L.Lc:(this.currentObservers=null,Ee.push(z),new L.w0(()=>{this.currentObservers=null,(0,F.P)(Ee,z)}))}_checkFinalizedStatuses(z){const{hasError:B,thrownError:ge,isStopped:Ee}=this;B?z.error(ge):Ee&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return V.create=(X,z)=>new H(X,z),V})();class H extends U{constructor(X,z){super(),this.destination=X,this.source=z}next(X){var z,B;null===(B=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===B||B.call(z,X)}error(X){var z,B;null===(B=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===B||B.call(z,X)}complete(){var X,z;null===(z=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===z||z.call(X)}_subscribe(X){var z,B;return null!==(B=null===(z=this.source)||void 0===z?void 0:z.subscribe(X))&&void 0!==B?B:L.Lc}}},930:(G,b,M)=>{"use strict";M.d(b,{Hp:()=>k,Lv:()=>B});var l=M(576),L=M(727),q=M(2416),ee=M(7849),F=M(5032);const K=V("C",void 0,void 0);function V(se,oe,_e){return{kind:se,value:oe,error:_e}}var X=M(3410),z=M(2806);class B extends L.w0{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,L.Nn)(oe)&&oe.add(this)):this.destination=fe}static create(oe,_e,ve){return new k(oe,_e,ve)}next(oe){this.isStopped?de(function H(se){return V("N",se,void 0)}(oe),this):this._next(oe)}error(oe){this.isStopped?de(function U(se){return V("E",void 0,se)}(oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?de(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function Ee(se,oe){return ge.call(se,oe)}class x{constructor(oe){this.partialObserver=oe}next(oe){const{partialObserver:_e}=this;if(_e.next)try{_e.next(oe)}catch(ve){j(ve)}}error(oe){const{partialObserver:_e}=this;if(_e.error)try{_e.error(oe)}catch(ve){j(ve)}else j(oe)}complete(){const{partialObserver:oe}=this;if(oe.complete)try{oe.complete()}catch(_e){j(_e)}}}class k extends B{constructor(oe,_e,ve){let Oe;if(super(),(0,l.m)(oe)||!oe)Oe={next:oe??void 0,error:_e??void 0,complete:ve??void 0};else{let Se;this&&q.v.useDeprecatedNextContext?(Se=Object.create(oe),Se.unsubscribe=()=>this.unsubscribe(),Oe={next:oe.next&&Ee(oe.next,Se),error:oe.error&&Ee(oe.error,Se),complete:oe.complete&&Ee(oe.complete,Se)}):Oe=oe}this.destination=new x(Oe)}}function j(se){q.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(se):(0,ee.h)(se)}function de(se,oe){const{onStoppedNotification:_e}=q.v;_e&&X.z.setTimeout(()=>_e(se,oe))}const fe={closed:!0,next:F.Z,error:function J(se){throw se},complete:F.Z}},727:(G,b,M)=>{"use strict";M.d(b,{Lc:()=>K,w0:()=>F,Nn:()=>U});var l=M(576);const q=(0,M(3888).d)(V=>function(z){V(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((B,ge)=>`${ge+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ee=M(8737);class F{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ee of z)Ee.remove(this);else z.remove(this);const{initialTeardown:B}=this;if((0,l.m)(B))try{B()}catch(Ee){X=Ee instanceof q?Ee.errors:[Ee]}const{_finalizers:ge}=this;if(ge){this._finalizers=null;for(const Ee of ge)try{H(Ee)}catch(x){X=X??[],x instanceof q?X=[...X,...x.errors]:X.push(x)}}if(X)throw new q(X)}}add(X){var z;if(X&&X!==this)if(this.closed)H(X);else{if(X instanceof F){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(X)}}_hasParent(X){const{_parentage:z}=this;return z===X||Array.isArray(z)&&z.includes(X)}_addParent(X){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(X),z):z?[z,X]:X}_removeParent(X){const{_parentage:z}=this;z===X?this._parentage=null:Array.isArray(z)&&(0,ee.P)(z,X)}remove(X){const{_finalizers:z}=this;z&&(0,ee.P)(z,X),X instanceof F&&X._removeParent(this)}}F.EMPTY=(()=>{const V=new F;return V.closed=!0,V})();const K=F.EMPTY;function U(V){return V instanceof F||V&&"closed"in V&&(0,l.m)(V.remove)&&(0,l.m)(V.add)&&(0,l.m)(V.unsubscribe)}function H(V){(0,l.m)(V)?V():V.unsubscribe()}},2416:(G,b,M)=>{"use strict";M.d(b,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(G,b,M)=>{"use strict";M.d(b,{E:()=>L});const L=new(M(9751).y)(F=>F.complete())},457:(G,b,M)=>{"use strict";M.d(b,{D:()=>_e});var l=M(8421),L=M(5363),q=M(4482);function ee(ve,Oe=0){return(0,q.e)((Se,Pe)=>{Pe.add(ve.schedule(()=>Se.subscribe(Pe),Oe))})}var U=M(9751),V=M(2202),X=M(576),z=M(9672);function ge(ve,Oe){if(!ve)throw new Error("Iterable cannot be null");return new U.y(Se=>{(0,z.f)(Se,Oe,()=>{const Pe=ve[Symbol.asyncIterator]();(0,z.f)(Se,Oe,()=>{Pe.next().then(te=>{te.done?Se.complete():Se.next(te.value)})},0,!0)})})}var Ee=M(3670),x=M(8239),k=M(1144),j=M(6495),J=M(2206),de=M(4532),fe=M(3260);function _e(ve,Oe){return Oe?function oe(ve,Oe){if(null!=ve){if((0,Ee.c)(ve))return function F(ve,Oe){return(0,l.Xf)(ve).pipe(ee(Oe),(0,L.Q)(Oe))}(ve,Oe);if((0,k.z)(ve))return function H(ve,Oe){return new U.y(Se=>{let Pe=0;return Oe.schedule(function(){Pe===ve.length?Se.complete():(Se.next(ve[Pe++]),Se.closed||this.schedule())})})}(ve,Oe);if((0,x.t)(ve))return function K(ve,Oe){return(0,l.Xf)(ve).pipe(ee(Oe),(0,L.Q)(Oe))}(ve,Oe);if((0,J.D)(ve))return ge(ve,Oe);if((0,j.T)(ve))return function B(ve,Oe){return new U.y(Se=>{let Pe;return(0,z.f)(Se,Oe,()=>{Pe=ve[V.h](),(0,z.f)(Se,Oe,()=>{let te,Q;try{({value:te,done:Q}=Pe.next())}catch(le){return void Se.error(le)}Q?Se.complete():Se.next(te)},0,!0)}),()=>(0,X.m)(Pe?.return)&&Pe.return()})}(ve,Oe);if((0,fe.L)(ve))return function se(ve,Oe){return ge((0,fe.Q)(ve),Oe)}(ve,Oe)}throw(0,de.z)(ve)}(ve,Oe):(0,l.Xf)(ve)}},8421:(G,b,M)=>{"use strict";M.d(b,{Xf:()=>ge});var l=M(655),L=M(1144),q=M(8239),ee=M(9751),F=M(3670),K=M(2206),U=M(4532),H=M(6495),V=M(3260),X=M(576),z=M(7849),B=M(8822);function ge(se){if(se instanceof ee.y)return se;if(null!=se){if((0,F.c)(se))return function Ee(se){return new ee.y(oe=>{const _e=se[B.L]();if((0,X.m)(_e.subscribe))return _e.subscribe(oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,L.z)(se))return function x(se){return new ee.y(oe=>{for(let _e=0;_e<se.length&&!oe.closed;_e++)oe.next(se[_e]);oe.complete()})}(se);if((0,q.t)(se))return function k(se){return new ee.y(oe=>{se.then(_e=>{oe.closed||(oe.next(_e),oe.complete())},_e=>oe.error(_e)).then(null,z.h)})}(se);if((0,K.D)(se))return J(se);if((0,H.T)(se))return function j(se){return new ee.y(oe=>{for(const _e of se)if(oe.next(_e),oe.closed)return;oe.complete()})}(se);if((0,V.L)(se))return function de(se){return J((0,V.Q)(se))}(se)}throw(0,U.z)(se)}function J(se){return new ee.y(oe=>{(function fe(se,oe){var _e,ve,Oe,Se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(_e=(0,l.KL)(se);!(ve=yield _e.next()).done;)if(oe.next(ve.value),oe.closed)return}catch(Pe){Oe={error:Pe}}finally{try{ve&&!ve.done&&(Se=_e.return)&&(yield Se.call(_e))}finally{if(Oe)throw Oe.error}}oe.complete()})})(se,oe).catch(_e=>oe.error(_e))})}},6451:(G,b,M)=>{"use strict";M.d(b,{T:()=>K});var l=M(8189),L=M(8421),q=M(515),ee=M(7669),F=M(457);function K(...U){const H=(0,ee.yG)(U),V=(0,ee._6)(U,1/0),X=U;return X.length?1===X.length?(0,L.Xf)(X[0]):(0,l.J)(V)((0,F.D)(X,H)):q.E}},9646:(G,b,M)=>{"use strict";M.d(b,{of:()=>q});var l=M(7669),L=M(457);function q(...ee){const F=(0,l.yG)(ee);return(0,L.D)(ee,F)}},5403:(G,b,M)=>{"use strict";M.d(b,{Q:()=>q,x:()=>L});var l=M(930);function L(ee,F,K,U,H){return new q(ee,F,K,U,H)}class q extends l.Lv{constructor(F,K,U,H,V,X){super(F),this.onFinalize=V,this.shouldUnsubscribe=X,this._next=K?function(z){try{K(z)}catch(B){F.error(B)}}:super._next,this._error=H?function(z){try{H(z)}catch(B){F.error(B)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch(z){F.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}},262:(G,b,M)=>{"use strict";M.d(b,{K:()=>ee});var l=M(8421),L=M(5403),q=M(4482);function ee(F){return(0,q.e)((K,U)=>{let X,H=null,V=!1;H=K.subscribe((0,L.x)(U,void 0,void 0,z=>{X=(0,l.Xf)(F(z,ee(F)(K))),H?(H.unsubscribe(),H=null,X.subscribe(U)):V=!0})),V&&(H.unsubscribe(),H=null,X.subscribe(U))})}},4351:(G,b,M)=>{"use strict";M.d(b,{b:()=>q});var l=M(5577),L=M(576);function q(ee,F){return(0,L.m)(F)?(0,l.z)(ee,F,1):(0,l.z)(ee,1)}},8372:(G,b,M)=>{"use strict";M.d(b,{b:()=>ee});var l=M(4986),L=M(4482),q=M(5403);function ee(F,K=l.z){return(0,L.e)((U,H)=>{let V=null,X=null,z=null;const B=()=>{if(V){V.unsubscribe(),V=null;const Ee=X;X=null,H.next(Ee)}};function ge(){const Ee=z+F,x=K.now();if(x<Ee)return V=this.schedule(void 0,Ee-x),void H.add(V);B()}U.subscribe((0,q.x)(H,Ee=>{X=Ee,z=K.now(),V||(V=K.schedule(ge,F),H.add(V))},()=>{B(),H.complete()},void 0,()=>{X=V=null}))})}},9300:(G,b,M)=>{"use strict";M.d(b,{h:()=>q});var l=M(4482),L=M(5403);function q(ee,F){return(0,l.e)((K,U)=>{let H=0;K.subscribe((0,L.x)(U,V=>ee.call(F,V,H++)&&U.next(V)))})}},4004:(G,b,M)=>{"use strict";M.d(b,{U:()=>q});var l=M(4482),L=M(5403);function q(ee,F){return(0,l.e)((K,U)=>{let H=0;K.subscribe((0,L.x)(U,V=>{U.next(ee.call(F,V,H++))}))})}},8189:(G,b,M)=>{"use strict";M.d(b,{J:()=>q});var l=M(5577),L=M(4671);function q(ee=1/0){return(0,l.z)(L.y,ee)}},5577:(G,b,M)=>{"use strict";M.d(b,{z:()=>H});var l=M(4004),L=M(8421),q=M(4482),ee=M(9672),F=M(5403),U=M(576);function H(V,X,z=1/0){return(0,U.m)(X)?H((B,ge)=>(0,l.U)((Ee,x)=>X(B,Ee,ge,x))((0,L.Xf)(V(B,ge))),z):("number"==typeof X&&(z=X),(0,q.e)((B,ge)=>function K(V,X,z,B,ge,Ee,x,k){const j=[];let J=0,de=0,fe=!1;const se=()=>{fe&&!j.length&&!J&&X.complete()},oe=ve=>J<B?_e(ve):j.push(ve),_e=ve=>{Ee&&X.next(ve),J++;let Oe=!1;(0,L.Xf)(z(ve,de++)).subscribe((0,F.x)(X,Se=>{ge?.(Se),Ee?oe(Se):X.next(Se)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(J--;j.length&&J<B;){const Se=j.shift();x?(0,ee.f)(X,x,()=>_e(Se)):_e(Se)}se()}catch(Se){X.error(Se)}}))};return V.subscribe((0,F.x)(X,oe,()=>{fe=!0,se()})),()=>{k?.()}}(B,ge,V,z)))}},5363:(G,b,M)=>{"use strict";M.d(b,{Q:()=>ee});var l=M(9672),L=M(4482),q=M(5403);function ee(F,K=0){return(0,L.e)((U,H)=>{U.subscribe((0,q.x)(H,V=>(0,l.f)(H,F,()=>H.next(V),K),()=>(0,l.f)(H,F,()=>H.complete(),K),V=>(0,l.f)(H,F,()=>H.error(V),K)))})}},5026:(G,b,M)=>{"use strict";M.d(b,{R:()=>ee});var l=M(4482),L=M(5403);function q(F,K,U,H,V){return(X,z)=>{let B=U,ge=K,Ee=0;X.subscribe((0,L.x)(z,x=>{const k=Ee++;ge=B?F(ge,x,k):(B=!0,x),H&&z.next(ge)},V&&(()=>{B&&z.next(ge),z.complete()})))}}function ee(F,K){return(0,l.e)(q(F,K,arguments.length>=2,!0))}},3099:(G,b,M)=>{"use strict";M.d(b,{B:()=>F});var l=M(8421),L=M(7579),q=M(930),ee=M(4482);function F(U={}){const{connector:H=(()=>new L.x),resetOnError:V=!0,resetOnComplete:X=!0,resetOnRefCountZero:z=!0}=U;return B=>{let ge,Ee,x,k=0,j=!1,J=!1;const de=()=>{Ee?.unsubscribe(),Ee=void 0},fe=()=>{de(),ge=x=void 0,j=J=!1},se=()=>{const oe=ge;fe(),oe?.unsubscribe()};return(0,ee.e)((oe,_e)=>{k++,!J&&!j&&de();const ve=x=x??H();_e.add(()=>{k--,0===k&&!J&&!j&&(Ee=K(se,z))}),ve.subscribe(_e),!ge&&k>0&&(ge=new q.Hp({next:Oe=>ve.next(Oe),error:Oe=>{J=!0,de(),Ee=K(fe,V,Oe),ve.error(Oe)},complete:()=>{j=!0,de(),Ee=K(fe,X),ve.complete()}}),(0,l.Xf)(oe).subscribe(ge))})(B)}}function K(U,H,...V){if(!0===H)return void U();if(!1===H)return;const X=new q.Hp({next:()=>{X.unsubscribe(),U()}});return H(...V).subscribe(X)}},5684:(G,b,M)=>{"use strict";M.d(b,{T:()=>L});var l=M(9300);function L(q){return(0,l.h)((ee,F)=>q<=F)}},3900:(G,b,M)=>{"use strict";M.d(b,{w:()=>ee});var l=M(8421),L=M(4482),q=M(5403);function ee(F,K){return(0,L.e)((U,H)=>{let V=null,X=0,z=!1;const B=()=>z&&!V&&H.complete();U.subscribe((0,q.x)(H,ge=>{V?.unsubscribe();let Ee=0;const x=X++;(0,l.Xf)(F(ge,x)).subscribe(V=(0,q.x)(H,k=>H.next(K?K(ge,k,x,Ee++):k),()=>{V=null,B()}))},()=>{z=!0,B()}))})}},5698:(G,b,M)=>{"use strict";M.d(b,{q:()=>ee});var l=M(515),L=M(4482),q=M(5403);function ee(F){return F<=0?()=>l.E:(0,L.e)((K,U)=>{let H=0;K.subscribe((0,q.x)(U,V=>{++H<=F&&(U.next(V),F<=H&&U.complete())}))})}},2722:(G,b,M)=>{"use strict";M.d(b,{R:()=>F});var l=M(4482),L=M(5403),q=M(8421),ee=M(5032);function F(K){return(0,l.e)((U,H)=>{(0,q.Xf)(K).subscribe((0,L.x)(H,()=>H.complete(),ee.Z)),!H.closed&&U.subscribe(H)})}},1749:(G,b,M)=>{"use strict";M.d(b,{V:()=>V});var l=M(4986),q=M(4482),ee=M(8421),F=M(3888),K=M(5403),U=M(9672);const H=(0,F.d)(z=>function(ge=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ge});function V(z,B){const{first:ge,each:Ee,with:x=X,scheduler:k=B??l.z,meta:j=null}=function L(z){return z instanceof Date&&!isNaN(z)}(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==ge&&null==Ee)throw new TypeError("No timeout provided.");return(0,q.e)((J,de)=>{let fe,se,oe=null,_e=0;const ve=Oe=>{se=(0,U.f)(de,k,()=>{try{fe.unsubscribe(),(0,ee.Xf)(x({meta:j,lastValue:oe,seen:_e})).subscribe(de)}catch(Se){de.error(Se)}},Oe)};fe=J.subscribe((0,K.x)(de,Oe=>{se?.unsubscribe(),_e++,de.next(oe=Oe),Ee>0&&ve(Ee)},void 0,void 0,()=>{se?.closed||se?.unsubscribe(),oe=null})),!_e&&ve(null!=ge?"number"==typeof ge?ge:+ge-k.now():Ee)})}function X(z){throw new H(z)}},1365:(G,b,M)=>{"use strict";M.d(b,{M:()=>U});var l=M(4482),L=M(5403),q=M(8421),ee=M(4671),F=M(5032),K=M(7669);function U(...H){const V=(0,K.jO)(H);return(0,l.e)((X,z)=>{const B=H.length,ge=new Array(B);let Ee=H.map(()=>!1),x=!1;for(let k=0;k<B;k++)(0,q.Xf)(H[k]).subscribe((0,L.x)(z,j=>{ge[k]=j,!x&&!Ee[k]&&(Ee[k]=!0,(x=Ee.every(ee.y))&&(Ee=null))},F.Z));X.subscribe((0,L.x)(z,k=>{if(x){const j=[k,...ge];z.next(V?V(...j):j)}}))})}},4408:(G,b,M)=>{"use strict";M.d(b,{o:()=>F});var l=M(727);class L extends l.w0{constructor(U,H){super()}schedule(U,H=0){return this}}const q={setInterval(K,U,...H){const{delegate:V}=q;return V?.setInterval?V.setInterval(K,U,...H):setInterval(K,U,...H)},clearInterval(K){const{delegate:U}=q;return(U?.clearInterval||clearInterval)(K)},delegate:void 0};var ee=M(8737);class F extends L{constructor(U,H){super(U,H),this.scheduler=U,this.work=H,this.pending=!1}schedule(U,H=0){if(this.closed)return this;this.state=U;const V=this.id,X=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(X,V,H)),this.pending=!0,this.delay=H,this.id=this.id||this.requestAsyncId(X,this.id,H),this}requestAsyncId(U,H,V=0){return q.setInterval(U.flush.bind(U,this),V)}recycleAsyncId(U,H,V=0){if(null!=V&&this.delay===V&&!1===this.pending)return H;q.clearInterval(H)}execute(U,H){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const V=this._execute(U,H);if(V)return V;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,H){let X,V=!1;try{this.work(U)}catch(z){V=!0,X=z||new Error("Scheduled action threw falsy error")}if(V)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:U,scheduler:H}=this,{actions:V}=H;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(V,this),null!=U&&(this.id=this.recycleAsyncId(H,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(G,b,M)=>{"use strict";M.d(b,{v:()=>q});var l=M(6063);class L{constructor(F,K=L.now){this.schedulerActionCtor=F,this.now=K}schedule(F,K=0,U){return new this.schedulerActionCtor(this,F).schedule(U,K)}}L.now=l.l.now;class q extends L{constructor(F,K=L.now){super(F,K),this.actions=[],this._active=!1,this._scheduled=void 0}flush(F){const{actions:K}=this;if(this._active)return void K.push(F);let U;this._active=!0;do{if(U=F.execute(F.state,F.delay))break}while(F=K.shift());if(this._active=!1,U){for(;F=K.shift();)F.unsubscribe();throw U}}}},4986:(G,b,M)=>{"use strict";M.d(b,{z:()=>q});var l=M(4408);const q=new(M(7565).v)(l.o)},6063:(G,b,M)=>{"use strict";M.d(b,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(G,b,M)=>{"use strict";M.d(b,{N:()=>F});var l=M(4408),q=M(7565);const F=new class ee extends q.v{}(class L extends l.o{constructor(H,V){super(H,V),this.scheduler=H,this.work=V}schedule(H,V=0){return V>0?super.schedule(H,V):(this.delay=V,this.state=H,this.scheduler.flush(this),this)}execute(H,V){return V>0||this.closed?super.execute(H,V):this._execute(H,V)}requestAsyncId(H,V,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(H,V,X):H.flush(this)}})},3410:(G,b,M)=>{"use strict";M.d(b,{z:()=>l});const l={setTimeout(L,q,...ee){const{delegate:F}=l;return F?.setTimeout?F.setTimeout(L,q,...ee):setTimeout(L,q,...ee)},clearTimeout(L){const{delegate:q}=l;return(q?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(G,b,M)=>{"use strict";M.d(b,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(G,b,M)=>{"use strict";M.d(b,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(G,b,M)=>{"use strict";M.d(b,{_6:()=>K,jO:()=>ee,yG:()=>F});var l=M(576);function q(U){return U[U.length-1]}function ee(U){return(0,l.m)(q(U))?U.pop():void 0}function F(U){return function L(U){return U&&(0,l.m)(U.schedule)}(q(U))?U.pop():void 0}function K(U,H){return"number"==typeof q(U)?U.pop():H}},8737:(G,b,M)=>{"use strict";function l(L,q){if(L){const ee=L.indexOf(q);0<=ee&&L.splice(ee,1)}}M.d(b,{P:()=>l})},3888:(G,b,M)=>{"use strict";function l(L){const ee=L(F=>{Error.call(F),F.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}M.d(b,{d:()=>l})},2806:(G,b,M)=>{"use strict";M.d(b,{O:()=>ee,x:()=>q});var l=M(2416);let L=null;function q(F){if(l.v.useDeprecatedSynchronousErrorHandling){const K=!L;if(K&&(L={errorThrown:!1,error:null}),F(),K){const{errorThrown:U,error:H}=L;if(L=null,U)throw H}}else F()}function ee(F){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=F)}},9672:(G,b,M)=>{"use strict";function l(L,q,ee,F=0,K=!1){const U=q.schedule(function(){ee(),K?L.add(this.schedule(null,F)):this.unsubscribe()},F);if(L.add(U),!K)return U}M.d(b,{f:()=>l})},4671:(G,b,M)=>{"use strict";function l(L){return L}M.d(b,{y:()=>l})},1144:(G,b,M)=>{"use strict";M.d(b,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(G,b,M)=>{"use strict";M.d(b,{D:()=>L});var l=M(576);function L(q){return Symbol.asyncIterator&&(0,l.m)(q?.[Symbol.asyncIterator])}},576:(G,b,M)=>{"use strict";function l(L){return"function"==typeof L}M.d(b,{m:()=>l})},3670:(G,b,M)=>{"use strict";M.d(b,{c:()=>q});var l=M(8822),L=M(576);function q(ee){return(0,L.m)(ee[l.L])}},6495:(G,b,M)=>{"use strict";M.d(b,{T:()=>q});var l=M(2202),L=M(576);function q(ee){return(0,L.m)(ee?.[l.h])}},8239:(G,b,M)=>{"use strict";M.d(b,{t:()=>L});var l=M(576);function L(q){return(0,l.m)(q?.then)}},3260:(G,b,M)=>{"use strict";M.d(b,{L:()=>ee,Q:()=>q});var l=M(655),L=M(576);function q(F){return(0,l.FC)(this,arguments,function*(){const U=F.getReader();try{for(;;){const{value:H,done:V}=yield(0,l.qq)(U.read());if(V)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(H)}}finally{U.releaseLock()}})}function ee(F){return(0,L.m)(F?.getReader)}},4482:(G,b,M)=>{"use strict";M.d(b,{A:()=>L,e:()=>q});var l=M(576);function L(ee){return(0,l.m)(ee?.lift)}function q(ee){return F=>{if(L(F))return F.lift(function(K){try{return ee(K,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(G,b,M)=>{"use strict";function l(){}M.d(b,{Z:()=>l})},9635:(G,b,M)=>{"use strict";M.d(b,{U:()=>q,z:()=>L});var l=M(4671);function L(...ee){return q(ee)}function q(ee){return 0===ee.length?l.y:1===ee.length?ee[0]:function(K){return ee.reduce((U,H)=>H(U),K)}}},7849:(G,b,M)=>{"use strict";M.d(b,{h:()=>q});var l=M(2416),L=M(3410);function q(ee){L.z.setTimeout(()=>{const{onUnhandledError:F}=l.v;if(!F)throw ee;F(ee)})}},4532:(G,b,M)=>{"use strict";function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(b,{z:()=>l})},655:(G,b,M)=>{"use strict";function H(te,Q,le,re){return new(le||(le=Promise))(function(De,qe){function lt(bn){try{Fe(re.next(bn))}catch(ei){qe(ei)}}function xt(bn){try{Fe(re.throw(bn))}catch(ei){qe(ei)}}function Fe(bn){bn.done?De(bn.value):function be(De){return De instanceof le?De:new le(function(qe){qe(De)})}(bn.value).then(lt,xt)}Fe((re=re.apply(te,Q||[])).next())})}function j(te){return this instanceof j?(this.v=te,this):new j(te)}function J(te,Q,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,re=le.apply(te,Q||[]),De=[];return be={},qe("next"),qe("throw"),qe("return"),be[Symbol.asyncIterator]=function(){return this},be;function qe(Ht){re[Ht]&&(be[Ht]=function(St){return new Promise(function(ti,tn){De.push([Ht,St,ti,tn])>1||lt(Ht,St)})})}function lt(Ht,St){try{!function xt(Ht){Ht.value instanceof j?Promise.resolve(Ht.value.v).then(Fe,bn):ei(De[0][2],Ht)}(re[Ht](St))}catch(ti){ei(De[0][3],ti)}}function Fe(Ht){lt("next",Ht)}function bn(Ht){lt("throw",Ht)}function ei(Ht,St){Ht(St),De.shift(),De.length&&lt(De[0][0],De[0][1])}}function fe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Q=te[Symbol.asyncIterator];return Q?Q.call(te):(te=function B(te){var Q="function"==typeof Symbol&&Symbol.iterator,le=Q&&te[Q],re=0;if(le)return le.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&re>=te.length&&(te=void 0),{value:te&&te[re++],done:!te}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),le={},re("next"),re("throw"),re("return"),le[Symbol.asyncIterator]=function(){return this},le);function re(De){le[De]=te[De]&&function(qe){return new Promise(function(lt,xt){!function be(De,qe,lt,xt){Promise.resolve(xt).then(function(Fe){De({value:Fe,done:lt})},qe)}(lt,xt,(qe=te[De](qe)).done,qe.value)})}}}M.d(b,{FC:()=>J,KL:()=>fe,mG:()=>H,qq:()=>j})},4650:(G,b,M)=>{"use strict";M.d(b,{$8M:()=>Gs,$Z:()=>nw,AFp:()=>Ng,ALo:()=>mg,AaK:()=>H,AsE:()=>Ca,CHM:()=>tc,CRH:()=>Ig,CZH:()=>Ba,CqO:()=>Cd,D6c:()=>e_,DdM:()=>Pd,EJc:()=>bS,EpF:()=>ey,F4k:()=>ty,FYo:()=>cC,FiY:()=>fn,G48:()=>VE,Gf:()=>iE,GfV:()=>xv,Gpc:()=>z,JOm:()=>mi,KtG:()=>Mf,LFG:()=>bt,LSH:()=>Br,Lbi:()=>DE,Lck:()=>Pa,MAs:()=>Xm,MMx:()=>It,NdJ:()=>wd,O4$:()=>G_,OlP:()=>Rt,Oqu:()=>Wp,PXZ:()=>RE,PiD:()=>qs,Q6J:()=>Fp,QGY:()=>Up,QP$:()=>Ua,Qsj:()=>MM,R0b:()=>Cr,RDi:()=>sv,Rgc:()=>Nd,SBq:()=>oa,Sil:()=>IE,Suo:()=>yr,TTD:()=>Cf,TgZ:()=>Ju,Tol:()=>yo,VKq:()=>xr,X6Q:()=>UE,XFs:()=>We,Xpm:()=>nu,Xts:()=>sh,Y36:()=>ts,YKP:()=>gD,YNc:()=>qm,Yjl:()=>$l,Yz7:()=>St,ZZ4:()=>KE,_Bn:()=>Rd,_UZ:()=>Lp,_Vd:()=>Su,_c5:()=>hT,_uU:()=>Dy,aQg:()=>Ga,c2e:()=>SE,cJS:()=>tn,cg1:()=>it,dDg:()=>jg,dqk:()=>Ne,eFA:()=>PE,ekj:()=>my,eoX:()=>Gg,f3M:()=>Wn,g9A:()=>kg,h0i:()=>Dn,hGG:()=>pT,hij:()=>il,iGM:()=>El,ifc:()=>Ue,ip1:()=>Lg,kL8:()=>ul,kcU:()=>H_,lG2:()=>Zl,lqb:()=>ho,lri:()=>OE,n5z:()=>js,oAB:()=>Qi,oxw:()=>iy,qLn:()=>Au,qOj:()=>Vm,qZA:()=>Ed,rWj:()=>Bg,sBO:()=>iT,sIi:()=>ha,s_b:()=>Ud,soG:()=>Sl,tBr:()=>_c,tb:()=>TE,tp0:()=>Xs,uIk:()=>Pp,vHH:()=>x,vpe:()=>Ti,wAp:()=>je,xi3:()=>Qy,xp6:()=>$h,z2F:()=>Rl,zSh:()=>ch,zs3:()=>er});var l=M(7579),L=M(727),q=M(9751),ee=M(6451),F=M(3099);function K(o){for(let s in o)if(o[s]===K)return s;throw Error("Could not find renamed property on target object.")}function U(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function H(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(H).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function V(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const X=K({__forward_ref__:K});function z(o){return o.__forward_ref__=z,o.toString=function(){return H(this())},o}function B(o){return ge(o)?o():o}function ge(o){return"function"==typeof o&&o.hasOwnProperty(X)&&o.__forward_ref__===z}class x extends Error{constructor(s,a){super(function k(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function j(o){return"string"==typeof o?o:null==o?"":String(o)}function oe(o,s){throw new x(-201,!1)}function xt(o,s){null==o&&function Fe(o,s,a,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,o,null,"!=")}function St(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function tn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Xi(o){return xs(o,ni)||xs(o,Os)}function xs(o,s){return o.hasOwnProperty(s)?o[s]:null}function Xa(o){return o&&(o.hasOwnProperty(Ji)||o.hasOwnProperty(pf))?o[Ji]:null}const ni=K({\u0275prov:K}),Ji=K({\u0275inj:K}),Os=K({ngInjectableDef:K}),pf=K({ngInjectorDef:K});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Sn;function In(o){const s=Sn;return Sn=o,s}function Rs(o,s,a){const c=Xi(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&We.Optional?null:void 0!==s?s:void oe(H(o))}function ur(o){return{toString:o}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),Ue=(()=>{return(o=Ue||(Ue={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ue;var o})();const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cn={},ft=[],Pn=K({\u0275cmp:K}),Ro=K({\u0275dir:K}),Lt=K({\u0275pipe:K}),tu=K({\u0275mod:K}),dt=K({\u0275fac:K}),bo=K({__NG_ELEMENT_ID__:K});let bs=0;function nu(o){return ur(()=>{const a=!0===o.standalone,c={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||ft,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ue.Emulated,id:"c"+bs++,styles:o.styles||ft,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.dependencies,v=o.features;return f.inputs=iu(o.inputs,c),f.outputs=iu(o.outputs),v&&v.forEach(m=>m(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Hl).filter(Ps):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(Fn).filter(Ps):null,f})}function Hl(o){return Et(o)||xn(o)}function Ps(o){return null!==o}const Fo={};function Qi(o){return ur(()=>{const s={type:o.type,bootstrap:o.bootstrap||ft,declarations:o.declarations||ft,imports:o.imports||ft,exports:o.exports||ft,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Fo[o.id]=o.type),s})}function iu(o,s){if(null==o)return cn;const a={};for(const c in o)if(o.hasOwnProperty(c)){let f=o[c],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),a[f]=c,s&&(s[f]=p)}return a}const Zl=nu;function $l(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Et(o){return o[Pn]||null}function xn(o){return o[Ro]||null}function Fn(o){return o[Lt]||null}function _n(o,s){const a=o[tu]||null;if(!a&&!0===s)throw new Error(`Type ${H(o)} does not have '\u0275mod' property.`);return a}function Zn(o){return Array.isArray(o)&&"object"==typeof o[1]}function O(o){return Array.isArray(o)&&!0===o[1]}function ae(o){return 0!=(8&o.flags)}function $(o){return 2==(2&o.flags)}function ie(o){return 1==(1&o.flags)}function me(o){return null!==o.template}function Ie(o){return 0!=(256&o[2])}function ko(o,s){return o.hasOwnProperty(dt)?o[dt]:null}class T_{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Cf(){return M_}function M_(o){return o.type.prototype.ngOnChanges&&(o.setInput=wf),g0}function g0(){const o=S_(this),s=o?.current;if(s){const a=o.previous;if(a===cn)o.previous=s;else for(let c in s)a[c]=s[c];o.current=null,this.ngOnChanges(s)}}function wf(o,s,a,c){const f=S_(o)||function JT(o,s){return o[Yl]=s}(o,{previous:cn,current:null}),p=f.current||(f.current={}),v=f.previous,m=this.declaredInputs[a],E=v[m];p[m]=new T_(E&&E.currentValue,s,v===cn),o[c]=s}Cf.ngInherit=!0;const Yl="__ngSimpleChanges__";function S_(o){return o[Yl]||null}function dn(o){for(;Array.isArray(o);)o=o[0];return o}function ql(o,s){return dn(s[o])}function dr(o,s){return dn(s[o.index])}function x_(o,s){return o.data[s]}function Uo(o,s){return o[s]}function fr(o,s){const a=s[o];return Zn(a)?a:a[0]}function Xl(o){return 4==(4&o[2])}function Vo(o){return 64==(64&o[2])}function Nr(o,s){return null==s?null:o[s]}function O_(o){o[18]=0}function Jl(o,s){o[5]+=s;let a=o,c=o[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const nt={lFrame:U_(null),bindingsEnabled:!0};function Tf(){return nt.bindingsEnabled}function pe(){return nt.lFrame.lView}function ht(){return nt.lFrame.tView}function tc(o){return nt.lFrame.contextLView=o,o[8]}function Mf(o){return nt.lFrame.contextLView=null,o}function on(){let o=P_();for(;null!==o&&64===o.type;)o=o.parent;return o}function P_(){return nt.lFrame.currentTNode}function ui(o,s){const a=nt.lFrame;a.currentTNode=o,a.isParent=s}function Sf(){return nt.lFrame.isParent}function $n(){const o=nt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Us(){return nt.lFrame.bindingIndex++}function Ri(o){const s=nt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function w0(o,s){const a=nt.lFrame;a.bindingIndex=a.bindingRootIndex=o,nc(s)}function nc(o){nt.lFrame.currentDirectiveIndex=o}function L_(){return nt.lFrame.currentQueryIndex}function Of(o){nt.lFrame.currentQueryIndex=o}function Rf(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function T0(o,s,a){if(a&We.SkipSelf){let f=s,p=o;for(;!(f=f.parent,null!==f||a&We.Host||(f=Rf(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;s=f,o=p}const c=nt.lFrame=k_();return c.currentTNode=s,c.lView=o,!0}function N_(o){const s=k_(),a=o[1];nt.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function k_(){const o=nt.lFrame,s=null===o?null:o.child;return null===s?U_(o):s}function U_(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function V_(){const o=nt.lFrame;return nt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const bf=V_;function Pf(){const o=V_();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ln(){return nt.lFrame.selectedIndex}function to(o){nt.lFrame.selectedIndex=o}function qt(){const o=nt.lFrame;return x_(o.tView,o.selectedIndex)}function G_(){nt.lFrame.currentNamespace="svg"}function H_(){!function Ff(){nt.lFrame.currentNamespace=null}()}function Lf(o,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:m,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:I}=p;v&&(o.contentHooks||(o.contentHooks=[])).push(-a,v),m&&((o.contentHooks||(o.contentHooks=[])).push(a,m),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,m)),E&&(o.viewHooks||(o.viewHooks=[])).push(-a,E),D&&((o.viewHooks||(o.viewHooks=[])).push(a,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,D)),null!=I&&(o.destroyHooks||(o.destroyHooks=[])).push(a,I)}}function Nf(o,s,a){Z_(o,s,3,a)}function uu(o,s,a,c){(3&o[2])===a&&Z_(o,s,a,c)}function ci(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function Z_(o,s,a,c){const p=c??-1,v=s.length-1;let m=0;for(let E=void 0!==c?65535&o[18]:0;E<v;E++)if("number"==typeof s[E+1]){if(m=s[E],null!=c&&m>=c)break}else s[E]<0&&(o[18]+=65536),(m<p||-1==p)&&(I0(o,a,s,E),o[18]=(4294901760&o[18])+E+2),E++}function I0(o,s,a,c){const f=a[c]<0,p=a[c+1],m=o[f?-a[c]:a[c]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{p.call(m)}finally{}}}else try{p.call(m)}finally{}}class Vs{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Uf(o,s,a){let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const p=a[c++],v=a[c++],m=a[c++];o.setAttribute(s,v,m,p)}else{const p=f,v=a[++c];A0(p)?o.setProperty(s,p,v):o.setAttribute(s,p,v),c++}}return c}function $_(o){return 3===o||4===o||6===o}function A0(o){return 64===o.charCodeAt(0)}function Vf(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const f=s[c];"number"==typeof f?a=f:0===a||x0(o,a,f,null,-1===a||2===a?s[++c]:null)}}return o}function x0(o,s,a,c,f){let p=0,v=o.length;if(-1===s)v=-1;else for(;p<o.length;){const m=o[p++];if("number"==typeof m){if(m===s){v=-1;break}if(m>s){v=p-1;break}}}for(;p<o.length;){const m=o[p];if("number"==typeof m)break;if(m===a){if(null===c)return void(null!==f&&(o[p+1]=f));if(c===o[p+1])return void(o[p+2]=f)}p++,null!==c&&p++,null!==f&&p++}-1!==v&&(o.splice(v,0,s),p=v+1),o.splice(p++,0,a),null!==c&&o.splice(p++,0,c),null!==f&&o.splice(p++,0,f)}function O0(o){return-1!==o}function lu(o){return 32767&o}function cu(o,s){let a=function lM(o){return o>>16}(o),c=s;for(;a>0;)c=c[15],a--;return c}let W_=!0;function ic(o){const s=W_;return W_=o,s}let no=0;const Xt={};function Bs(o,s){const a=kr(o,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,oc(c.data,o),oc(s,null),oc(c.blueprint,null));const f=Bf(o,s),p=o.injectorIndex;if(O0(f)){const v=lu(f),m=cu(f,s),E=m[1].data;for(let D=0;D<8;D++)s[p+D]=m[v+D]|E[v+D]}return s[p+8]=f,p}function oc(o,s){o.push(0,0,0,0,0,0,0,0,s)}function kr(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Bf(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,c=null,f=s;for(;null!==f;){if(c=ac(f),null===c)return-1;if(a++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function sc(o,s,a){!function Ge(o,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(bo)&&(c=a[bo]),null==c&&(c=a[bo]=no++);const f=255&c;s.data[o+(f>>5)]|=1<<f}(o,s,a)}function z_(o,s,a){if(a&We.Optional)return o;oe()}function Y_(o,s,a,c){if(a&We.Optional&&void 0===c&&(c=null),0==(a&(We.Self|We.Host))){const f=o[9],p=In(void 0);try{return f?f.get(s,c,a&We.Optional):Rs(s,c,a&We.Optional)}finally{In(p)}}return z_(c,0,a)}function jf(o,s,a,c=We.Default,f){if(null!==o){if(1024&s[2]){const v=function $f(o,s,a,c,f){let p=o,v=s;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const m=du(p,v,a,c|We.Self,Xt);if(m!==Xt)return m;let E=p.parent;if(!E){const D=v[21];if(D){const I=D.get(a,Xt,c);if(I!==Xt)return I}E=ac(v),v=v[15]}p=E}return f}(o,s,a,c,Xt);if(v!==Xt)return v}const p=du(o,s,a,c,Xt);if(p!==Xt)return p}return Y_(s,a,c,f)}function du(o,s,a,c,f){const p=function b0(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(bo)?o[bo]:void 0;return"number"==typeof s?s>=0?255&s:P0:s}(a);if("function"==typeof p){if(!T0(s,o,c))return c&We.Host?z_(f,0,c):Y_(s,a,c,f);try{const v=p(c);if(null!=v||c&We.Optional)return v;oe()}finally{bf()}}else if("number"==typeof p){let v=null,m=kr(o,s),E=-1,D=c&We.Host?s[16][6]:null;for((-1===m||c&We.SkipSelf)&&(E=-1===m?Bf(o,s):s[m+8],-1!==E&&Zf(c,!1)?(v=s[1],m=lu(E),s=cu(E,s)):m=-1);-1!==m;){const I=s[1];if(Hf(p,m,I.data)){const A=ro(m,s,a,v,c,D);if(A!==Xt)return A}E=s[m+8],-1!==E&&Zf(c,s[1].data[m+8]===D)&&Hf(p,m,s)?(v=I,m=lu(E),s=cu(E,s)):m=-1}}return f}function ro(o,s,a,c,f,p){const v=s[1],m=v.data[o+8],I=Gf(m,v,a,null==c?$(m)&&W_:c!=v&&0!=(3&m.type),f&We.Host&&p===m);return null!==I?fu(s,v,I,m):Xt}function Gf(o,s,a,c,f){const p=o.providerIndexes,v=s.data,m=1048575&p,E=o.directiveStart,I=p>>20,P=f?m+I:o.directiveEnd;for(let Y=c?m:m+I;Y<P;Y++){const ce=v[Y];if(Y<E&&a===ce||Y>=E&&ce.type===a)return Y}if(f){const Y=v[E];if(Y&&me(Y)&&Y.type===a)return E}return null}function fu(o,s,a,c){let f=o[a];const p=s.data;if(function oM(o){return o instanceof Vs}(f)){const v=f;v.resolving&&function de(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new x(-200,`Circular dependency in DI detected for ${o}${a}`)}(function J(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():j(o)}(p[a]));const m=ic(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?In(v.injectImpl):null;T0(o,c,We.Default);try{f=o[a]=v.factory(void 0,p,o,c),s.firstCreatePass&&a>=c.directiveStart&&function S0(o,s,a){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:p}=s.type.prototype;if(c){const v=M_(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,v)}f&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,f),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,p))}(a,p[a],s)}finally{null!==E&&In(E),ic(m),v.resolving=!1,bf()}}return f}function Hf(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function Zf(o,s){return!(o&We.Self||o&We.Host&&s)}class Bo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return jf(this._tNode,this._lView,s,c,a)}}function P0(){return new Bo(on(),pe())}function js(o){return ur(()=>{const s=o.prototype.constructor,a=s[dt]||Yt(s),c=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==c;){const p=f[dt]||Yt(f);if(p&&p!==a)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Yt(o){return ge(o)?()=>{const s=Yt(B(o));return s&&s()}:ko(o)}function ac(o){const s=o[1],a=s.type;return 2===a?s.declTNode:1===a?o[6]:null}function Gs(o){return function R0(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const c=a.length;let f=0;for(;f<c;){const p=a[f];if($_(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<c&&"string"==typeof a[f];)f++;else{if(p===s)return a[f+1];f+=2}}}return null}(on(),o)}const io="__parameters__";function Hs(o,s,a){return ur(()=>{const c=function hu(o){return function(...a){if(o){const c=o(...a);for(const f in c)this[f]=c[f]}}}(s);function f(...p){if(this instanceof f)return c.apply(this,p),this;const v=new f(...p);return m.annotation=v,m;function m(E,D,I){const A=E.hasOwnProperty(io)?E[io]:Object.defineProperty(E,io,{value:[]})[io];for(;A.length<=I;)A.push(null);return(A[I]=A[I]||[]).push(v),E}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Rt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=St({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tr(o,s){void 0===s&&(s=o);for(let a=0;a<o.length;a++){let c=o[a];Array.isArray(c)?(s===o&&(s=o.slice(0,a)),Tr(c,s)):s!==o&&s.push(c)}return s}function oo(o,s){o.forEach(a=>Array.isArray(a)?oo(a,s):s(a))}function X_(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function lc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function hr(o,s,a){let c=Zs(o,s);return c>=0?o[1|c]=a:(c=~c,function Vr(o,s,a,c){let f=o.length;if(f==s)o.push(a,c);else if(1===f)o.push(c,o[0]),o[0]=a;else{for(f--,o.push(o[f-1],o[f]);f>s;)o[f]=o[f-2],f--;o[s]=a,o[s+1]=c}}(o,c,s,a)),c}function dc(o,s){const a=Zs(o,s);if(a>=0)return o[1|a]}function Zs(o,s){return function Q_(o,s,a){let c=0,f=o.length>>a;for(;f!==c;){const p=c+(f-c>>1),v=o[p<<a];if(s===v)return p<<a;v>s?f=p:c=p+1}return~(f<<a)}(o,s,1)}const bi={},zf="__NG_DI_FLAG__",$s="ngTempTokenPath",nv=/\n/gm,gc="__source";let hi;function Ws(o){const s=hi;return hi=o,s}function zs(o,s=We.Default){if(void 0===hi)throw new x(-203,!1);return null===hi?Rs(o,void 0,s):hi.get(o,s&We.Optional?null:void 0,s)}function bt(o,s=We.Default){return(function Ja(){return Sn}()||zs)(B(o),s)}function Wn(o,s=We.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),bt(o,s)}function mu(o){const s=[];for(let a=0;a<o.length;a++){const c=B(o[a]);if(Array.isArray(c)){if(0===c.length)throw new x(900,!1);let f,p=We.Default;for(let v=0;v<c.length;v++){const m=c[v],E=Pt(m);"number"==typeof E?-1===E?f=m.token:p|=E:f=m}s.push(bt(f,p))}else s.push(bt(c))}return s}function Ys(o,s){return o[zf]=s,o.prototype[zf]=s,o}function Pt(o){return o[zf]}const _c=Ys(Hs("Inject",o=>({token:o})),-1),fn=Ys(Hs("Optional"),8),qs=Ys(Hs("Self"),2),Xs=Ys(Hs("SkipSelf"),4);let Qf;function sv(o){Qf=o}class cv{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fi(o){return o instanceof cv?o.changingThisBreaksApplicationSecurity:o}const K0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,q0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Br(o){const s=function Tu(){const o=pe();return o&&o[12]}();return s?s.sanitize(sn.URL,o)||"":function uo(o,s){const a=function Z0(o){return o instanceof cv&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(o,"URL")?Fi(o):function wc(o){return(o=String(o)).match(K0)||o.match(q0)?o:"unsafe:"+o}(j(o))}const sh=new Rt("ENVIRONMENT_INITIALIZER"),Ev=new Rt("INJECTOR",-1),Cv=new Rt("INJECTOR_DEF_TYPES");class wv{get(s,a=bi){if(a===bi){const c=new Error(`NullInjectorError: No provider for ${H(s)}!`);throw c.name="NullInjectorError",c}return a}}function iC(...o){return{\u0275providers:Dv(0,o)}}function Dv(o,...s){const a=[],c=new Set;let f;return oo(s,p=>{const v=p;uh(v,a,[],c)&&(f||(f=[]),f.push(v))}),void 0!==f&&ah(f,a),a}function ah(o,s){for(let a=0;a<o.length;a++){const{providers:f}=o[a];oo(f,p=>{s.push(p)})}}function uh(o,s,a,c){if(!(o=B(o)))return!1;let f=null,p=Xa(o);const v=!p&&Et(o);if(p||v){if(v&&!v.standalone)return!1;f=o}else{const E=o.ngModule;if(p=Xa(E),!p)return!1;f=E}const m=c.has(f);if(v){if(m)return!1;if(c.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const D of E)uh(D,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!m){let D;c.add(f);try{oo(p.imports,I=>{uh(I,s,a,c)&&(D||(D=[]),D.push(I))})}finally{}void 0!==D&&ah(D,s)}if(!m){const D=ko(f)||(()=>new f);s.push({provide:f,useFactory:D,deps:ft},{provide:Cv,useValue:f,multi:!0},{provide:sh,useValue:()=>bt(f),multi:!0})}const E=p.providers;null==E||m||oo(E,I=>{s.push(I)})}}return f!==o&&void 0!==o.providers}const lh=K({provide:String,useValue:K});function Mu(o){return null!==o&&"object"==typeof o&&lh in o}function fo(o){return"function"==typeof o}const ch=new Rt("Set Injector scope."),jr={},Mv={};let dh;function Wo(){return void 0===dh&&(dh=new wv),dh}class ho{}class Ic extends ho{constructor(s,a,c,f){super(),this.parent=a,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xc(s,v=>this.processProvider(v)),this.records.set(Ev,vi(void 0,this)),f.has("environment")&&this.records.set(ho,vi(void 0,this));const p=this.records.get(ch);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Cv.multi,ft,We.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Ws(this),c=In(void 0);try{return s()}finally{Ws(a),In(c)}}get(s,a=bi,c=We.Default){this.assertNotDestroyed();const f=Ws(this),p=In(void 0);try{if(!(c&We.SkipSelf)){let m=this.records.get(s);if(void 0===m){const E=function ph(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rt}(s)&&Xi(s);m=E&&this.injectableDefInScope(E)?vi(Ac(s),jr):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(c&We.Self?Wo():this.parent).get(s,a=c&We.Optional&&a===bi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[$s]=v[$s]||[]).unshift(H(s)),f)throw v;return function zn(o,s,a,c){const f=o[$s];throw s[gc]&&f.unshift(s[gc]),o.message=function Ks(o,s,a,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=H(s);if(Array.isArray(s))f=s.map(H).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let m=s[v];p.push(v+":"+("string"==typeof m?JSON.stringify(m):H(m)))}f=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${f}]: ${o.replace(nv,"\n  ")}`}("\n"+o.message,f,a,c),o.ngTokenPath=f,o[$s]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{In(p),Ws(f)}}resolveInjectorInitializers(){const s=Ws(this),a=In(void 0);try{const c=this.get(sh.multi,ft,We.Self);for(const f of c)f()}finally{Ws(s),In(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(H(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(s){let a=fo(s=B(s))?s:B(s&&s.provide);const c=function hh(o){return Mu(o)?vi(void 0,o.useValue):vi(Sv(o),jr)}(s);if(fo(s)||!0!==s.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=vi(void 0,jr,!0),f.factory=()=>mu(f.multi),this.records.set(a,f)),a=s,f.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===jr&&(a.value=Mv,a.value=a.factory()),"object"==typeof a.value&&a.value&&function aC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=B(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ac(o){const s=Xi(o),a=null!==s?s.factory:ko(o);if(null!==a)return a;if(o instanceof Rt)throw new x(204,!1);if(o instanceof Function)return function fh(o){const s=o.length;if(s>0)throw function cc(o,s){const a=[];for(let c=0;c<o;c++)a.push(s);return a}(s,"?"),new x(204,!1);const a=function ff(o){const s=o&&(o[ni]||o[Os]);if(s){const a=function hf(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new x(204,!1)}function Sv(o,s,a){let c;if(fo(o)){const f=B(o);return ko(f)||Ac(f)}if(Mu(o))c=()=>B(o.useValue);else if(function $o(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...mu(o.deps||[]));else if(function _i(o){return!(!o||!o.useExisting)}(o))c=()=>bt(B(o.useExisting));else{const f=B(o&&(o.useClass||o.provide));if(!function sC(o){return!!o.deps}(o))return ko(f)||Ac(f);c=()=>new f(...mu(o.deps))}return c}function vi(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Iv(o){return!!o.\u0275providers}function xc(o,s){for(const a of o)Array.isArray(a)?xc(a,s):Iv(a)?xc(a.\u0275providers,s):s(a)}class gh{}class Oc{resolveComponentFactory(s){throw function uC(o){const s=Error(`No component factory found for ${H(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Su=(()=>{class o{}return o.NULL=new Oc,o})();function lC(){return zo(on(),pe())}function zo(o,s){return new oa(dr(o,s))}let oa=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=lC,o})();function TM(o){return o instanceof oa?o.nativeElement:o}class cC{}let MM=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function vh(){const o=pe(),a=fr(on().index,o);return(Zn(a)?a:o)[11]}(),o})(),dC=(()=>{class o{}return o.\u0275prov=St({token:o,providedIn:"root",factory:()=>null}),o})();class xv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const fC=new xv("14.1.1"),Iu={};function Ch(o){return o.ngOriginalError}class Au{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ch(s);for(;a&&Ch(a);)a=Ch(a);return a||null}}const wh=new Map;let EC=0;const aa="__ngContext__";function kn(o,s){Zn(s)?(o[aa]=s[20],function wC(o){wh.set(o[20],o)}(s)):o[aa]=s}function xu(o){const s=o[aa];return"number"==typeof s?function Fv(o){return wh.get(o)||null}(s):s||null}function Dh(o){const s=xu(o);return s?Zn(s)?s:s.lView:null}const MC=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ne))();function Sr(o){return o instanceof Function?o():o}var mi=(()=>((mi=mi||{})[mi.Important=1]="Important",mi[mi.DashCase=2]="DashCase",mi))();function Sh(o,s){return undefined(o,s)}function la(o){const s=o[3];return O(s)?s[3]:s}function bu(o){return Hv(o[13])}function Ah(o){return Hv(o[4])}function Hv(o){for(;null!==o&&!O(o);)o=o[4];return o}function ca(o,s,a,c,f){if(null!=c){let p,v=!1;O(c)?p=c:Zn(c)&&(v=!0,c=c[0]);const m=dn(c);0===o&&null!==a?null==f?zv(s,a,m):qo(s,a,m,f||null,!0):1===o&&null!==a?qo(s,a,m,f||null,!0):2===o?function Xv(o,s,a){const c=Hc(o,s);c&&function Kv(o,s,a,c){o.removeChild(s,a,c)}(o,c,s,a)}(s,m,v):3===o&&s.destroyNode(m),null!=p&&function NC(o,s,a,c,f){const p=a[7];p!==dn(a)&&ca(s,o,c,p,f);for(let m=10;m<a.length;m++){const E=a[m];$c(E[1],E,o,s,c,p)}}(s,o,p,a,f)}}function Bc(o,s,a){return o.createElement(s,a)}function Ph(o,s){const a=o[9],c=a.indexOf(s),f=s[3];512&s[2]&&(s[2]&=-513,Jl(f,-1)),a.splice(c,1)}function Pu(o,s){if(o.length<=10)return;const a=10+s,c=o[a];if(c){const f=c[17];null!==f&&f!==o&&Ph(f,c),s>0&&(o[a-1][4]=c[4]);const p=lc(o,10+s);!function Zv(o,s){$c(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function jc(o,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&$c(o,s,a,3,null,null),function PC(o){let s=o[13];if(!s)return Fh(o[1],o);for(;s;){let a=null;if(Zn(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==o;)Zn(s)&&Fh(s[1],s),s=s[3];null===s&&(s=o),Zn(s)&&Fh(s[1],s),a=s&&s[4]}s=a}}(s)}}function Fh(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Gc(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let c=0;c<a.length;c+=2){const f=s[a[c]];if(!(f instanceof Vs)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const m=f[p[v]],E=p[v+1];try{E.call(m)}finally{}}else try{p.call(f)}finally{}}}}(o,s),function LC(o,s){const a=o.cleanup,c=s[7];let f=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],m="function"==typeof v?v(s):dn(s[v]),E=c[f=a[p+2]],D=a[p+3];"boolean"==typeof D?m.removeEventListener(a[p],E,D):D>=0?c[f=D]():c[f=-D].unsubscribe(),p+=2}else{const v=c[f=a[p+1]];a[p].call(v)}if(null!==c){for(let p=f+1;p<c.length;p++)(0,c[p])();s[7]=null}}(o,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&O(s[3])){a!==s[3]&&Ph(a,s);const c=s[19];null!==c&&c.detachView(o)}!function Lv(o){wh.delete(o[20])}(s)}}function $v(o,s,a){return function Wv(o,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const f=o.data[c.directiveStart].encapsulation;if(f===Ue.None||f===Ue.Emulated)return null}return dr(c,a)}(o,s.parent,a)}function qo(o,s,a,c,f){o.insertBefore(s,a,c,f)}function zv(o,s,a){o.appendChild(s,a)}function Yv(o,s,a,c,f){null!==c?qo(o,s,a,c,f):zv(o,s,a)}function Hc(o,s){return o.parentNode(s)}let Lh=function Li(o,s,a){return 40&o.type?dr(o,a):null};function Uh(o,s,a,c){const f=$v(o,c,s),p=s[11],m=function Fu(o,s,a){return Lh(o,s,a)}(c.parent||s[6],c,s);if(null!=f)if(Array.isArray(a))for(let E=0;E<a.length;E++)Yv(p,f,a[E],m,!1);else Yv(p,f,a,m,!1)}function Vh(o,s){if(null!==s){const a=s.type;if(3&a)return dr(s,o);if(4&a)return Zc(-1,o[s.index]);if(8&a){const c=s.child;if(null!==c)return Vh(o,c);{const f=o[s.index];return O(f)?Zc(-1,f):dn(f)}}if(32&a)return Sh(s,o)()||dn(o[s.index]);{const c=Bh(o,s);return null!==c?Array.isArray(c)?c[0]:Vh(la(o[16]),c):Vh(o,s.next)}}return null}function Bh(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Zc(o,s){const a=10+o+1;if(a<s.length){const c=s[a],f=c[1].firstChild;if(null!==f)return Vh(c,f)}return s[7]}function yi(o,s,a,c,f,p,v){for(;null!=a;){const m=c[a.index],E=a.type;if(v&&0===s&&(m&&kn(dn(m),c),a.flags|=4),64!=(64&a.flags))if(8&E)yi(o,s,a.child,c,f,p,!1),ca(s,o,f,m,p);else if(32&E){const D=Sh(a,c);let I;for(;I=D();)ca(s,o,f,I,p);ca(s,o,f,m,p)}else 16&E?jh(o,s,c,a,f,p):ca(s,o,f,m,p);a=v?a.projectionNext:a.next}}function $c(o,s,a,c,f,p){yi(a,c,o.firstChild,s,f,p,!1)}function jh(o,s,a,c,f,p){const v=a[16],E=v[6].projection[c.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)ca(s,o,f,E[D],p);else yi(o,s,E,v[3],f,p,!0)}function Qv(o,s,a){o.setAttribute(s,"style",a)}function Lu(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function em(o,s,a){let c=o.length;for(;;){const f=o.indexOf(s,a);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=s.length;if(f+p===c||o.charCodeAt(f+p)<=32)return f}a=f+1}}const tm="ng-template";function UC(o,s,a){let c=0;for(;c<o.length;){let f=o[c++];if(a&&"class"===f){if(f=o[c],-1!==em(f.toLowerCase(),s,0))return!0}else if(1===f){for(;c<o.length&&"string"==typeof(f=o[c++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function Gh(o){return 4===o.type&&o.value!==tm}function VC(o,s,a){return s===(4!==o.type||a?o.value:tm)}function nm(o,s,a){let c=4;const f=o.attrs||[],p=function Zh(o){for(let s=0;s<o.length;s++)if($_(o[s]))return s;return o.length}(f);let v=!1;for(let m=0;m<s.length;m++){const E=s[m];if("number"!=typeof E){if(!v)if(4&c){if(c=2|1&c,""!==E&&!VC(o,E,a)||""===E&&1===s.length){if(Gr(c))return!1;v=!0}}else{const D=8&c?E:s[++m];if(8&c&&null!==o.attrs){if(!UC(o.attrs,D,a)){if(Gr(c))return!1;v=!0}continue}const A=BC(8&c?"class":E,f,Gh(o),a);if(-1===A){if(Gr(c))return!1;v=!0;continue}if(""!==D){let P;P=A>p?"":f[A+1].toLowerCase();const Y=8&c?P:null;if(Y&&-1!==em(Y,D,0)||2&c&&D!==P){if(Gr(c))return!1;v=!0}}}}else{if(!v&&!Gr(c)&&!Gr(E))return!1;if(v&&Gr(E))continue;v=!1,c=E|1&c}}return Gr(c)||v}function Gr(o){return 0==(1&o)}function BC(o,s,a,c){if(null===s)return-1;let f=0;if(c||!a){let p=!1;for(;f<s.length;){const v=s[f];if(v===o)return f;if(3===v||6===v)p=!0;else{if(1===v||2===v){let m=s[++f];for(;"string"==typeof m;)m=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=p?1:2}return-1}return function GC(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const c=o[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,o)}function Hh(o,s,a=!1){for(let c=0;c<s.length;c++)if(nm(o,s[c],a))return!0;return!1}function rm(o,s){return o?":not("+s.trim()+")":s}function NM(o){let s=o[0],a=1,c=2,f="",p=!1;for(;a<o.length;){let v=o[a];if("string"==typeof v)if(2&c){const m=o[++a];f+="["+v+(m.length>0?'="'+m+'"':"")+"]"}else 8&c?f+="."+v:4&c&&(f+=" "+v);else""!==f&&!Gr(v)&&(s+=rm(p,f),f=""),c=v,p=p||!Gr(c);a++}return""!==f&&(s+=rm(p,f)),s}const rt={};function $h(o){po(ht(),pe(),Ln()+o,!1)}function po(o,s,a,c){if(!c)if(3==(3&s[2])){const p=o.preOrderCheckHooks;null!==p&&Nf(s,p,a)}else{const p=o.preOrderHooks;null!==p&&uu(s,p,0,a)}to(a)}function Wh(o,s=null,a=null,c){const f=hn(o,s,a,c);return f.resolveInjectorInitializers(),f}function hn(o,s=null,a=null,c,f=new Set){const p=[a||ft,iC(o)];return c=c||("object"==typeof o?void 0:H(o)),new Ic(p,s||Wo(),c||null,f)}let er=(()=>{class o{static create(a,c){if(Array.isArray(a))return Wh({name:""},c,a,"");{const f=a.name??"";return Wh({name:f},a.parent,a.providers,f)}}}return o.THROW_IF_NOT_FOUND=bi,o.NULL=new wv,o.\u0275prov=St({token:o,providedIn:"any",factory:()=>bt(Ev)}),o.__NG_ELEMENT_ID__=-1,o})();function ts(o,s=We.Default){const a=pe();return null===a?bt(o,s):jf(on(),a,B(o),s)}function nw(){throw new Error("invalid")}function go(o,s){return o<<17|s<<2}function Kn(o){return o>>17&32767}function Qh(o){return 2|o}function Zr(o){return(131068&o)>>2}function ep(o,s){return-131069&o|s<<2}function gm(o){return 1|o}function dw(o,s){const a=o.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c],p=a[c+1];if(-1!==p){const v=o.data[p];Of(f),v.contentQueries(2,s[p],p)}}}function Bu(o,s,a,c,f,p,v,m,E,D,I){const A=s.blueprint.slice();return A[0]=f,A[2]=76|c,(null!==I||o&&1024&o[2])&&(A[2]|=1024),O_(A),A[3]=A[15]=o,A[8]=a,A[10]=v||o&&o[10],A[11]=m||o&&o[11],A[12]=E||o&&o[12]||null,A[9]=D||o&&o[9]||null,A[6]=p,A[20]=function CC(){return EC++}(),A[21]=I,A[16]=2==s.type?o[16]:A,A}function _o(o,s,a,c,f){let p=o.data[s];if(null===p)p=function gp(o,s,a,c,f){const p=P_(),v=Sf(),E=o.data[s]=function pw(o,s,a,c,f,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,c,f);return null===o.firstChild&&(o.firstChild=E),null!==p&&(v?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,s,a,c,f),function C0(){return nt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=f;const v=function au(){const o=nt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return ui(p,!0),p}function ju(o,s,a,c){if(0===a)return-1;const f=s.length;for(let p=0;p<a;p++)s.push(c),o.blueprint.push(c),o.data.push(null);return f}function ad(o,s,a){N_(s);try{const c=o.viewQuery;null!==c&&Hu(1,c,a);const f=o.template;null!==f&&_p(o,s,f,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&dw(o,s),o.staticViewQueries&&Hu(2,o.viewQuery,a);const p=o.components;null!==p&&function fw(o,s){for(let a=0;a<s.length;a++)Dw(o,s[a])}(s,p)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,Pf()}}function ki(o,s,a,c){const f=s[2];if(128!=(128&f)){N_(s);try{O_(s),function If(o){return nt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&_p(o,s,a,2,c);const v=3==(3&f);if(v){const D=o.preOrderCheckHooks;null!==D&&Nf(s,D,null)}else{const D=o.preOrderHooks;null!==D&&uu(s,D,0,null),ci(s,0)}if(function ww(o){for(let s=bu(o);null!==s;s=Ah(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const f=a[c],p=f[3];0==(512&f[2])&&Jl(p,1),f[2]|=512}}}(s),function Pm(o){for(let s=bu(o);null!==s;s=Ah(s))for(let a=10;a<s.length;a++){const c=s[a],f=c[1];Vo(c)&&ki(f,c,f.template,c[8])}}(s),null!==o.contentQueries&&dw(o,s),v){const D=o.contentCheckHooks;null!==D&&Nf(s,D)}else{const D=o.contentHooks;null!==D&&uu(s,D,1),ci(s,1)}!function ym(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const f=a[c];if(f<0)to(~f);else{const p=f,v=a[++c],m=a[++c];w0(v,p),m(2,s[p])}}}finally{to(-1)}}(o,s);const m=o.components;null!==m&&function pp(o,s){for(let a=0;a<s.length;a++)dd(o,s[a])}(s,m);const E=o.viewQuery;if(null!==E&&Hu(2,E,c),v){const D=o.viewCheckHooks;null!==D&&Nf(s,D)}else{const D=o.viewHooks;null!==D&&uu(s,D,2),ci(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Jl(s[3],-1))}finally{Pf()}}}function rs(o,s,a,c){const f=s[10],v=Xl(s);try{!v&&f.begin&&f.begin(),v&&ad(o,s,c),ki(o,s,a,c)}finally{!v&&f.end&&f.end()}}function _p(o,s,a,c,f){const p=Ln(),v=2&c;try{to(-1),v&&s.length>22&&po(o,s,22,!1),a(c,f)}finally{to(p)}}function ud(o,s,a){!Tf()||(function Sm(o,s,a,c){const f=a.directiveStart,p=a.directiveEnd;o.firstCreatePass||Bs(a,s),kn(c,s);const v=a.initialInputs;for(let m=f;m<p;m++){const E=o.data[m],D=me(E);D&&Cp(s,a,E);const I=fu(s,o,m,a);kn(I,s),null!==v&&Rm(0,m-f,I,E,0,v),D&&(fr(a.index,s)[8]=I)}}(o,s,a,dr(a,s)),128==(128&a.flags)&&function mw(o,s,a){const c=a.directiveStart,f=a.directiveEnd,p=a.index,v=function D0(){return nt.lFrame.currentDirectiveIndex}();try{to(p);for(let m=c;m<f;m++){const E=o.data[m],D=s[m];nc(m),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Ep(E,D)}}finally{to(-1),nc(v)}}(o,s,a))}function Em(o,s,a=dr){const c=s.localNames;if(null!==c){let f=s.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],m=-1===v?a(s,o):o[v];o[f++]=m}}}function Cm(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=ld(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function ld(o,s,a,c,f,p,v,m,E,D){const I=22+c,A=I+f,P=function BM(o,s){const a=[];for(let c=0;c<s;c++)a.push(c<o?null:rt);return a}(I,A),Y="function"==typeof D?D():D;return P[1]={type:o,blueprint:P,template:a,queries:null,viewQuery:m,declTNode:s,data:P.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function hw(o,s,a,c){const f=Nm(s);null===a?f.push(c):(f.push(a),o.firstCreatePass&&km(o).push(c,f.length-1))}function mp(o,s,a){for(let c in o)if(o.hasOwnProperty(c)){const f=o[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,f):a[c]=[s,f]}return a}function wm(o,s){const c=s.directiveEnd,f=o.data,p=s.attrs,v=[];let m=null,E=null;for(let D=s.directiveStart;D<c;D++){const I=f[D],A=I.inputs,P=null===p||Gh(s)?null:Ew(A,p);v.push(P),m=mp(A,D,m),E=mp(I.outputs,D,E)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=m,s.outputs=E}function da(o,s){const a=fr(s,o);16&a[2]||(a[2]|=32)}function Mm(o,s,a,c){let f=!1;if(Tf()){const p=function Im(o,s,a){const c=o.directiveRegistry;let f=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];Hh(a,v.selectors,!1)&&(f||(f=[]),sc(Bs(a,s),o,v.type),me(v)?(Am(o,a),f.unshift(v)):f.push(v))}return f}(o,s,a),v=null===c?null:{"":-1};if(null!==p){f=!0,cd(a,o.data.length,p.length);for(let I=0;I<p.length;I++){const A=p[I];A.providersResolver&&A.providersResolver(A)}let m=!1,E=!1,D=ju(o,s,p.length,null);for(let I=0;I<p.length;I++){const A=p[I];a.mergedAttrs=Vf(a.mergedAttrs,A.hostAttrs),Om(o,a,s,D,A),yw(D,A,v),null!==A.contentQueries&&(a.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=128);const P=A.type.prototype;!m&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),m=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),E=!0),D++}wm(o,a)}v&&function xm(o,s,a){if(s){const c=o.localNames=[];for(let f=0;f<s.length;f+=2){const p=a[s[f+1]];if(null==p)throw new x(-301,!1);c.push(s[f],p)}}}(a,c,v)}return a.mergedAttrs=Vf(a.mergedAttrs,a.attrs),f}function yp(o,s,a,c,f,p){const v=p.hostBindings;if(v){let m=o.hostBindingOpCodes;null===m&&(m=o.hostBindingOpCodes=[]);const E=~s.index;(function vw(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=E&&m.push(E),m.push(c,f,v)}}function Ep(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Am(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function yw(o,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=o;me(s)&&(a[""]=o)}}function cd(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}function Om(o,s,a,c,f){o.data[c]=f;const p=f.factory||(f.factory=ko(f.type)),v=new Vs(p,me(f),ts);o.blueprint[c]=v,a[c]=v,yp(o,s,0,c,ju(o,a,f.hostVars,rt),f)}function Cp(o,s,a){const c=dr(s,o),f=Cm(a),p=o[10],v=hd(o,Bu(o,f,null,a.onPush?32:16,c,s,p,p.createRenderer(c,a),null,null,null));o[s.index]=v}function Ei(o,s,a,c,f,p){const v=dr(o,s);!function Gu(o,s,a,c,f,p,v){if(null==p)o.removeAttribute(s,f,a);else{const m=null==v?j(p):v(p,c||"",f);o.setAttribute(s,f,m,a)}}(s[11],v,p,o.value,a,c,f)}function Rm(o,s,a,c,f,p){const v=p[s];if(null!==v){const m=c.setInput;for(let E=0;E<v.length;){const D=v[E++],I=v[E++],A=v[E++];null!==m?c.setInput(a,A,D,I):a[I]=A}}}function Ew(o,s){let a=null,c=0;for(;c<s.length;){const f=s[c];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===a&&(a=[]),a.push(f,o[f],s[c+1])),c+=2}else c+=2;else c+=4}return a}function bm(o,s,a,c){return new Array(o,!0,!1,s,null,0,c,a,null,null)}function dd(o,s){const a=fr(s,o);if(Vo(a)){const c=a[1];48&a[2]?ki(c,a,c.template,a[8]):a[5]>0&&fd(a)}}function fd(o){for(let c=bu(o);null!==c;c=Ah(c))for(let f=10;f<c.length;f++){const p=c[f];if(512&p[2]){const v=p[1];ki(v,p,v.template,p[8])}else p[5]>0&&fd(p)}const a=o[1].components;if(null!==a)for(let c=0;c<a.length;c++){const f=fr(a[c],o);Vo(f)&&f[5]>0&&fd(f)}}function Dw(o,s){const a=fr(s,o),c=a[1];(function Fm(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(c,a),ad(c,a,a[8])}function hd(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Lm(o){for(;o;){o[2]|=32;const s=la(o);if(Ie(o)&&!s)return o;o=s}return null}function Tp(o){!function Dp(o){for(let s=0;s<o.components.length;s++){const a=o.components[s],c=Dh(a);if(null!==c){const f=c[1];rs(f,c,f.template,a)}}}(o[8])}function Hu(o,s,a){Of(0),s(o,a)}const Mp=(()=>Promise.resolve(null))();function Nm(o){return o[7]||(o[7]=[])}function km(o){return o.cleanup||(o.cleanup=[])}function Sp(o,s){const a=o[9],c=a?a.get(Au,null):null;c&&c.handleError(s)}function Ip(o,s,a,c,f){for(let p=0;p<a.length;){const v=a[p++],m=a[p++],E=s[v],D=o.data[v];null!==D.setInput?D.setInput(E,f,c,m):E[m]=f}}function gr(o,s,a){const c=ql(s,o);!function Oh(o,s,a){o.setValue(s,a)}(o[11],c,a)}function gd(o,s,a){let c=a?o.styles:null,f=a?o.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const m=s[v];"number"==typeof m?p=m:1==p?f=V(f,m):2==p&&(c=V(c,m+": "+s[++v]+";"))}a?o.styles=c:o.stylesWithoutHost=c,a?o.classes=f:o.classesWithoutHost=f}function is(o,s,a,c,f=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(dn(p)),O(p))for(let m=10;m<p.length;m++){const E=p[m],D=E[1].firstChild;null!==D&&is(E[1],E,D,c)}const v=a.type;if(8&v)is(o,s,a.child,c);else if(32&v){const m=Sh(a,s);let E;for(;E=m();)c.push(E)}else if(16&v){const m=Bh(s,a);if(Array.isArray(m))c.push(...m);else{const E=la(s[16]);is(E[1],E,m,c,!0)}}a=f?a.projectionNext:a.next}return c}class Zu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return is(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(O(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Pu(s,c),lc(a,c))}this._attachedToViewContainer=!1}jc(this._lView[1],this._lView)}onDestroy(s){hw(this._lView[1],this._lView,null,s)}markForCheck(){Lm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function pd(o,s,a){const c=s[10];c.begin&&c.begin();try{ki(o,s,o.template,a)}catch(f){throw Sp(s,f),f}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bC(o,s){$c(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=s}}class Um extends Zu{constructor(s){super(s),this._view=s}detectChanges(){Tp(this._view)}checkNoChanges(){}get context(){return null}}class Ap extends Su{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Et(s);return new _d(a,this.ngModule)}}function xp(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class $M{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const f=this.injector.get(s,Iu,c);return f!==Iu||a===Iu?f:this.parentInjector.get(s,a,c)}}class _d extends gh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function ZC(o){return o.map(NM).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return xp(this.componentDef.inputs)}get outputs(){return xp(this.componentDef.outputs)}create(s,a,c,f){let p=(f=f||this.ngModule)instanceof ho?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new $M(s,p):s,m=v.get(cC,null);if(null===m)throw new x(407,!1);const E=v.get(dC,null),D=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=c?function jM(o,s,a){return o.selectRootElement(s,a===Ue.ShadowDom)}(D,c,this.componentDef.encapsulation):Bc(m.createRenderer(null,this.componentDef),I,function ZM(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(I)),P=this.componentDef.onPush?288:272,Y=function XM(o,s){return{components:[],scheduler:o||MC,clean:Mp,playerHandler:s||null,flags:0}}(),ce=ld(0,null,null,1,0,null,null,null,null,null),ye=Bu(null,ce,Y,P,null,null,m,D,E,v,null);let Ae,Le;N_(ye);try{const Ze=function KM(o,s,a,c,f,p){const v=a[1];a[22]=o;const E=_o(v,22,2,"#host",null),D=E.mergedAttrs=s.hostAttrs;null!==D&&(gd(E,D,!0),null!==o&&(Uf(f,o,D),null!==E.classes&&Lu(f,o,E.classes),null!==E.styles&&Qv(f,o,E.styles)));const I=c.createRenderer(o,s),A=Bu(a,Cm(s),null,s.onPush?32:16,a[22],E,c,I,p||null,null,null);return v.firstCreatePass&&(sc(Bs(E,a),v,s.type),Am(v,E),cd(E,a.length,1)),hd(a,A),a[22]=A}(A,this.componentDef,ye,m,D);if(A)if(c)Uf(D,A,["ng-version",fC.full]);else{const{attrs:he,classes:Ve}=function $C(o){const s=[],a=[];let c=1,f=2;for(;c<o.length;){let p=o[c];if("string"==typeof p)2===f?""!==p&&s.push(p,o[++c]):8===f&&a.push(p);else{if(!Gr(f))break;f=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);he&&Uf(D,A,he),Ve&&Ve.length>0&&Lu(D,A,Ve.join(" "))}if(Le=x_(ce,22),void 0!==a){const he=Le.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const _t=a[Ve];he.push(null!=_t?Array.from(_t):null)}}Ae=function qM(o,s,a,c,f){const p=a[1],v=function _w(o,s,a){const c=on();o.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Om(o,c,s,ju(o,s,1,null),a),wm(o,c));const f=fu(s,o,c.directiveStart,c);kn(f,s);const p=dr(c,s);return p&&kn(p,s),f}(p,a,s);if(c.components.push(v),o[8]=v,null!==f)for(const E of f)E(v,s);if(s.contentQueries){const E=on();s.contentQueries(1,v,E.directiveStart)}const m=on();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(to(m.index),yp(a[1],m,0,m.directiveStart,m.directiveEnd,s),Ep(s,v)),v}(Ze,this.componentDef,ye,Y,[JM]),ad(ce,ye,null)}finally{Pf()}return new zM(this.componentType,Ae,zo(Le,ye),ye,Le)}}class zM extends class Av{}{constructor(s,a,c,f,p){super(),this.location=c,this._rootLView=f,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Um(f),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[s])){const p=this._rootLView;Ip(p[1],p,f,s,a),da(p,this._tNode.index)}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function JM(){const o=on();Lf(pe()[1],o)}function Vm(o){let s=function Mw(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const c=[o];for(;s;){let f;if(me(o))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new x(903,!1);f=s.\u0275dir}if(f){if(a){c.push(f);const v=o;v.inputs=$u(o.inputs),v.declaredInputs=$u(o.declaredInputs),v.outputs=$u(o.outputs);const m=f.hostBindings;m&&Rp(o,m);const E=f.viewQuery,D=f.contentQueries;if(E&&Bm(o,E),D&&Op(o,D),U(o.inputs,f.inputs),U(o.declaredInputs,f.declaredInputs),U(o.outputs,f.outputs),me(f)&&f.data.animation){const I=o.data;I.animation=(I.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let v=0;v<p.length;v++){const m=p[v];m&&m.ngInherit&&m(o),m===Vm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ut(o){let s=0,a=null;for(let c=o.length-1;c>=0;c--){const f=o[c];f.hostVars=s+=f.hostVars,f.hostAttrs=Vf(f.hostAttrs,a=Vf(a,f.hostAttrs))}}(c)}function $u(o){return o===cn?{}:o===ft?[]:o}function Bm(o,s){const a=o.viewQuery;o.viewQuery=a?(c,f)=>{s(c,f),a(c,f)}:s}function Op(o,s){const a=o.contentQueries;o.contentQueries=a?(c,f,p)=>{s(c,f,p),a(c,f,p)}:s}function Rp(o,s){const a=o.hostBindings;o.hostBindings=a?(c,f)=>{s(c,f),a(c,f)}:s}let Wu=null;function Ui(){if(!Wu){const o=Ne.Symbol;if(o&&o.iterator)Wu=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Wu=c)}}}return Wu}function ha(o){return!!vd(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ui()in o)}function vd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Wr(o,s,a){return o[s]=a}function Vn(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function os(o,s,a,c){const f=Vn(o,s,a);return Vn(o,s+1,c)||f}function Pp(o,s,a,c){const f=pe();return Vn(f,Us(),s)&&(ht(),Ei(qt(),f,o,s,a,c)),Pp}function Yu(o,s,a,c,f,p){const m=os(o,function li(){return nt.lFrame.bindingIndex}(),a,f);return Ri(2),m?s+j(a)+c+j(f)+p:rt}function qm(o,s,a,c,f,p,v,m){const E=pe(),D=ht(),I=o+22,A=D.firstCreatePass?function xw(o,s,a,c,f,p,v,m,E){const D=s.consts,I=_o(s,o,4,v||null,Nr(D,m));Mm(s,a,I,Nr(D,E)),Lf(s,I);const A=I.tViews=ld(2,I,c,f,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,I),A.queries=s.queries.embeddedTView(I)),I}(I,D,E,s,a,c,f,p,v):D.data[I];ui(A,!1);const P=E[11].createComment("");Uh(D,E,P,A),kn(P,E),hd(E,E[I]=bm(P,E,P,A)),ie(A)&&ud(D,E,A),null!=v&&Em(E,A,m)}function Xm(o){return Uo(function rM(){return nt.lFrame.contextLView}(),22+o)}function Fp(o,s,a){const c=pe();return Vn(c,Us(),s)&&function En(o,s,a,c,f,p,v,m){const E=dr(s,a);let I,D=s.inputs;!m&&null!=D&&(I=D[c])?(Ip(o,a,I,c,f),$(s)&&da(a,s.index)):3&s.type&&(c=function Dm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),f=null!=v?v(f,s.value||"",c):f,p.setProperty(E,c,f))}(ht(),qt(),c,o,s,c[11],a,!1),Fp}function yd(o,s,a,c,f){const v=f?"class":"style";Ip(o,a,s.inputs[v],v,c)}function Ju(o,s,a,c){const f=pe(),p=ht(),v=22+o,m=f[11],E=f[v]=Bc(m,s,function M0(){return nt.lFrame.currentNamespace}()),D=p.firstCreatePass?function Jm(o,s,a,c,f,p,v){const m=s.consts,D=_o(s,o,2,f,Nr(m,p));return Mm(s,a,D,Nr(m,v)),null!==D.attrs&&gd(D,D.attrs,!1),null!==D.mergedAttrs&&gd(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(v,p,f,0,s,a,c):p.data[v];ui(D,!0);const I=D.mergedAttrs;null!==I&&Uf(m,E,I);const A=D.classes;null!==A&&Lu(m,E,A);const P=D.styles;return null!==P&&Qv(m,E,P),64!=(64&D.flags)&&Uh(p,f,E,D),0===function y0(){return nt.lFrame.elementDepthCount}()&&kn(E,f),function Ql(){nt.lFrame.elementDepthCount++}(),ie(D)&&(ud(p,f,D),function vp(o,s,a){if(ae(s)){const f=s.directiveEnd;for(let p=s.directiveStart;p<f;p++){const v=o.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,D,f)),null!==c&&Em(f,D),Ju}function Ed(){let o=on();Sf()?function Ns(){nt.lFrame.isParent=!1}():(o=o.parent,ui(o,!1));const s=o;!function ec(){nt.lFrame.elementDepthCount--}();const a=ht();return a.firstCreatePass&&(Lf(a,o),ae(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function aM(o){return 0!=(16&o.flags)}(s)&&yd(a,s,pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function uM(o){return 0!=(32&o.flags)}(s)&&yd(a,s,pe(),s.stylesWithoutHost,!1),Ed}function Lp(o,s,a,c){return Ju(o,s,a,c),Ed(),Lp}function ey(){return pe()}function Up(o){return!!o&&"function"==typeof o.then}function ty(o){return!!o&&"function"==typeof o.subscribe}const Cd=ty;function wd(o,s,a,c){const f=pe(),p=ht(),v=on();return function Bp(o,s,a,c,f,p,v,m){const E=ie(c),I=o.firstCreatePass&&km(o),A=s[8],P=Nm(s);let Y=!0;if(3&c.type||m){const Ae=dr(c,s),Le=m?m(Ae):Ae,Ze=P.length,he=m?_t=>m(dn(_t[c.index])):c.index;let Ve=null;if(!m&&E&&(Ve=function ny(o,s,a,c){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const v=f[p];if(v===a&&f[p+1]===c){const m=s[7],E=f[p+2];return m.length>E?m[E]:null}"string"==typeof v&&(p+=2)}return null}(o,s,f,c.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=p,Ve.__ngLastListenerFn__=p,Y=!1;else{p=ry(c,s,A,p,!1);const _t=a.listen(Le,f,p);P.push(p,_t),I&&I.push(f,he,Ze,Ze+1)}}else p=ry(c,s,A,p,!1);const ce=c.outputs;let ye;if(Y&&null!==ce&&(ye=ce[f])){const Ae=ye.length;if(Ae)for(let Le=0;Le<Ae;Le+=2){const Bt=s[ye[Le]][ye[Le+1]].subscribe(p),ws=P.length;P.push(p,Bt),I&&I.push(f,c.index,ws,-(ws+1))}}}(p,f,f[11],v,o,s,0,c),wd}function jp(o,s,a,c){try{return!1!==a(c)}catch(f){return Sp(o,f),!1}}function ry(o,s,a,c,f){return function p(v){if(v===Function)return c;Lm(2&o.flags?fr(o.index,s):s);let E=jp(s,0,c,v),D=p.__ngNextListenerFn__;for(;D;)E=jp(s,0,D,v)&&E,D=D.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function iy(o=1){return function B_(o){return(nt.lFrame.contextLView=function j_(o,s){for(;o>0;)s=s[15],o--;return s}(o,nt.lFrame.contextLView))[8]}(o)}function Dt(o,s,a,c,f){const p=o[a+1],v=null===s;let m=c?Kn(p):Zr(p),E=!1;for(;0!==m&&(!1===E||v);){const I=o[m+1];Gp(o[m],s)&&(E=!0,o[m+1]=c?gm(I):Qh(I)),m=c?Kn(I):Zr(I)}E&&(o[a+1]=c?Qh(p):gm(p))}function Gp(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Zs(o,s)>=0}const Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hp(o){return o.substring(Cn.key,Cn.keyEnd)}function dy(o,s){const a=Cn.textEnd;return a===s?-1:(s=Cn.keyEnd=function gt(o,s,a){for(;s<a&&o.charCodeAt(s)>32;)s++;return s}(o,Cn.key=s,a),as(o,s,a))}function as(o,s,a){for(;s<a&&o.charCodeAt(s)<=32;)s++;return s}function my(o,s){return function Ci(o,s,a,c){const f=pe(),p=ht(),v=Ri(2);p.firstUpdatePass&&Zp(p,o,v,c),s!==rt&&Vn(f,v,s)&&Yr(p,p.data[Ln()],f,f[11],o,f[v+1]=function Uw(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=H(Fi(o)))),o}(s,a),c,v)}(o,s,null,!0),my}function yo(o){!function tr(o,s,a,c){const f=ht(),p=Ri(2);f.firstUpdatePass&&Zp(f,null,p,c);const v=pe();if(a!==rt&&Vn(v,p,a)){const m=f.data[Ln()];if(Vw(m,c)&&!nl(f,p)){let E=c?m.classesWithoutHost:m.stylesWithoutHost;null!==E&&(a=V(E,a||"")),yd(f,m,v,a,c)}else!function nS(o,s,a,c,f,p,v,m){f===rt&&(f=ft);let E=0,D=0,I=0<f.length?f[0]:null,A=0<p.length?p[0]:null;for(;null!==I||null!==A;){const P=E<f.length?f[E+1]:void 0,Y=D<p.length?p[D+1]:void 0;let ye,ce=null;I===A?(E+=2,D+=2,P!==Y&&(ce=A,ye=Y)):null===A||null!==I&&I<A?(E+=2,ce=I):(D+=2,ce=A,ye=Y),null!==ce&&Yr(o,s,a,c,ce,ye,v,m),I=E<f.length?f[E]:null,A=D<p.length?p[D]:null}}(f,m,v,v[11],v[p+1],v[p+1]=function wy(o,s,a){if(null==a||""===a)return ft;const c=[],f=Fi(a);if(Array.isArray(f))for(let p=0;p<f.length;p++)o(c,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&o(c,p,f[p]);else"string"==typeof f&&s(c,f);return c}(o,s,a),c,p)}}(hr,Ir,o,!0)}function Ir(o,s){for(let a=function zr(o){return function py(o){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=o.length}(o),dy(o,as(o,0,Cn.textEnd))}(s);a>=0;a=dy(s,a))hr(o,Hp(s),!0)}function nl(o,s){return s>=o.expandoStartIndex}function Zp(o,s,a,c){const f=o.data;if(null===f[a+1]){const p=f[Ln()],v=nl(o,a);Vw(p,c)&&null===s&&!v&&(s=!1),s=function yy(o,s,a,c){const f=function xf(o){const s=nt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=c?s.residualClasses:s.residualStyles;if(null===f)0===(c?s.classBindings:s.styleBindings)&&(a=rl(a=Ea(null,o,s,a,c),s.attrs,c),p=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==f)if(a=Ea(f,o,s,a,c),null===p){let E=function Ey(o,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Zr(c))return o[Kn(c)]}(o,s,c);void 0!==E&&Array.isArray(E)&&(E=Ea(null,o,s,E[1],c),E=rl(E,s.attrs,c),function Cy(o,s,a,c){o[Kn(a?s.classBindings:s.styleBindings)]=c}(o,s,c,E))}else p=function kw(o,s,a){let c;const f=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<f;p++)c=rl(c,o[p].hostAttrs,a);return rl(c,s.attrs,a)}(o,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(f,p,s,c),function pt(o,s,a,c,f,p){let v=p?s.classBindings:s.styleBindings,m=Kn(v),E=Zr(v);o[c]=a;let I,D=!1;if(Array.isArray(a)){const A=a;I=A[1],(null===I||Zs(A,I)>0)&&(D=!0)}else I=a;if(f)if(0!==E){const P=Kn(o[m+1]);o[c+1]=go(P,m),0!==P&&(o[P+1]=ep(o[P+1],c)),o[m+1]=function Jc(o,s){return 131071&o|s<<17}(o[m+1],c)}else o[c+1]=go(m,0),0!==m&&(o[m+1]=ep(o[m+1],c)),m=c;else o[c+1]=go(E,0),0===m?m=c:o[E+1]=ep(o[E+1],c),E=c;D&&(o[c+1]=Qh(o[c+1])),Dt(o,I,c,!0),Dt(o,I,c,!1),function Fw(o,s,a,c,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&Zs(p,s)>=0&&(a[c+1]=gm(a[c+1]))}(s,I,o,c,p),v=go(m,E),p?s.classBindings=v:s.styleBindings=v}(f,p,s,a,v,c)}}function Ea(o,s,a,c,f){let p=null;const v=a.directiveEnd;let m=a.directiveStylingLast;for(-1===m?m=a.directiveStart:m++;m<v&&(p=s[m],c=rl(c,p.hostAttrs,f),p!==o);)m++;return null!==o&&(a.directiveStylingLast=m),c}function rl(o,s,a){const c=a?1:2;let f=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?f=v:f===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),hr(o,v,!!a||s[++p]))}return void 0===o?null:o}function Yr(o,s,a,c,f,p,v,m){if(!(3&s.type))return;const E=o.data,D=E[m+1];Td(function iw(o){return 1==(1&o)}(D)?Vi(E,s,a,f,Zr(D),v):void 0)||(Td(p)||function Xc(o){return 2==(2&o)}(D)&&(p=Vi(E,null,a,f,m,v)),function kC(o,s,a,c,f){if(s)f?o.addClass(a,c):o.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:mi.DashCase;null==f?o.removeStyle(a,c,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=mi.Important),o.setStyle(a,c,f,p))}}(c,v,ql(Ln(),a),f,p))}function Vi(o,s,a,c,f,p){const v=null===s;let m;for(;f>0;){const E=o[f],D=Array.isArray(E),I=D?E[1]:E,A=null===I;let P=a[f+1];P===rt&&(P=A?ft:void 0);let Y=A?dc(P,c):I===c?P:void 0;if(D&&!Td(Y)&&(Y=dc(E,c)),Td(Y)&&(m=Y,v))return m;const ce=o[f+1];f=v?Kn(ce):Zr(ce)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(m=dc(E,c))}return m}function Td(o){return void 0!==o}function Vw(o,s){return 0!=(o.flags&(s?16:32))}function Dy(o,s=""){const a=pe(),c=ht(),f=o+22,p=c.firstCreatePass?_o(c,f,1,s,null):c.data[f],v=a[f]=function xh(o,s){return o.createText(s)}(a[11],s);Uh(c,a,v,p),ui(p,!1)}function Wp(o){return il("",o,""),Wp}function il(o,s,a){const c=pe(),f=function ga(o,s,a,c){return Vn(o,Us(),a)?s+j(a)+c:rt}(c,o,s,a);return f!==rt&&gr(c,Ln(),f),il}function Ca(o,s,a,c,f){const p=pe(),v=Yu(p,o,s,a,c,f);return v!==rt&&gr(p,Ln(),v),Ca}const wo=void 0;var zw=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sl(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ta={};function it(o){const s=function Yw(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=Ft(s);if(a)return a;const c=s.split("-")[0];if(a=Ft(c),a)return a;if("en"===c)return zw;throw new x(701,!1)}function ul(o){return it(o)[je.PluralCase]}function Ft(o){return o in Ta||(Ta[o]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[o]),Ta[o]}var je=(()=>((je=je||{})[je.LocaleId=0]="LocaleId",je[je.DayPeriodsFormat=1]="DayPeriodsFormat",je[je.DayPeriodsStandalone=2]="DayPeriodsStandalone",je[je.DaysFormat=3]="DaysFormat",je[je.DaysStandalone=4]="DaysStandalone",je[je.MonthsFormat=5]="MonthsFormat",je[je.MonthsStandalone=6]="MonthsStandalone",je[je.Eras=7]="Eras",je[je.FirstDayOfWeek=8]="FirstDayOfWeek",je[je.WeekendRange=9]="WeekendRange",je[je.DateFormat=10]="DateFormat",je[je.TimeFormat=11]="TimeFormat",je[je.DateTimeFormat=12]="DateTimeFormat",je[je.NumberSymbols=13]="NumberSymbols",je[je.NumberFormats=14]="NumberFormats",je[je.CurrencyCode=15]="CurrencyCode",je[je.CurrencySymbol=16]="CurrencySymbol",je[je.CurrencyName=17]="CurrencyName",je[je.Currencies=18]="Currencies",je[je.Directionality=19]="Directionality",je[je.PluralCase=20]="PluralCase",je[je.ExtraData=21]="ExtraData",je))();const cs="en-US";let qw=cs;function Od(o,s,a,c,f){if(o=B(o),Array.isArray(o))for(let p=0;p<o.length;p++)Od(o[p],s,a,c,f);else{const p=ht(),v=pe();let m=fo(o)?o:B(o.provide),E=Sv(o);const D=on(),I=1048575&D.providerIndexes,A=D.directiveStart,P=D.providerIndexes>>20;if(fo(o)||!o.multi){const Y=new Vs(E,f,ts),ce=ba(m,s,f?I:I+P,A);-1===ce?(sc(Bs(D,v),p,m),Ra(p,o,s.length),s.push(m),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),a.push(Y),v.push(Y)):(a[ce]=Y,v[ce]=Y)}else{const Y=ba(m,s,I+P,A),ce=ba(m,s,I,I+P),ye=Y>=0&&a[Y],Ae=ce>=0&&a[ce];if(f&&!Ae||!f&&!ye){sc(Bs(D,v),p,m);const Le=function fg(o,s,a,c,f){const p=new Vs(o,a,ts);return p.multi=[],p.index=s,p.componentProviders=0,_l(p,f,c&&!a),p}(f?pD:ps,a.length,f,c,E);!f&&Ae&&(a[ce].providerFactory=Le),Ra(p,o,s.length,0),s.push(m),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),a.push(Le),v.push(Le)}else Ra(p,o,Y>-1?Y:ce,_l(a[f?ce:Y],E,!f&&c));!f&&c&&Ae&&a[ce].componentProviders++}}}function Ra(o,s,a,c){const f=fo(s),p=function Tv(o){return!!o.useClass}(s);if(f||p){const E=(p?B(s.useClass):s).prototype.ngOnDestroy;if(E){const D=o.destroyHooks||(o.destroyHooks=[]);if(!f&&s.multi){const I=D.indexOf(a);-1===I?D.push(a,[c,E]):D[I+1].push(c,E)}else D.push(a,E)}}}function _l(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function ba(o,s,a,c){for(let f=a;f<c;f++)if(s[f]===o)return f;return-1}function ps(o,s,a,c){return Yy(this.multi,[])}function pD(o,s,a,c){const f=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,m=fu(a,a[1],this.providerFactory.index,c);p=m.slice(0,v),Yy(f,p);for(let E=v;E<m.length;E++)p.push(m[E])}else p=[],Yy(f,p);return p}function Yy(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function Rd(o,s=[]){return a=>{a.providersResolver=(c,f)=>function hD(o,s,a){const c=ht();if(c.firstCreatePass){const f=me(o);Od(a,c.data,c.blueprint,f,!0),Od(s,c.data,c.blueprint,f,!1)}}(c,f?f(o):o,s)}}class Dn{}class gD{}function Pa(o,s){return new _D(o,s??null)}class _D extends Dn{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ap(this);const c=_n(s);this._bootstrapComponents=Sr(c.bootstrap),this._r3Injector=hn(s,a,[{provide:Dn,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],H(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zi extends gD{constructor(s){super(),this.moduleType=s}create(s){return new _D(this.moduleType,s)}}class bd extends Dn{constructor(s,a,c){super(),this.componentFactoryResolver=new Ap(this),this.instance=null;const f=new Ic([...s,{provide:Dn,useValue:this},{provide:Su,useValue:this.componentFactoryResolver}],a||Wo(),c,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function It(o,s,a=null){return new bd(o,s,a).injector}function Pd(o,s,a){const c=$n()+o,f=pe();return f[c]===rt?Wr(f,c,a?s.call(a):s()):function zu(o,s){return o[s]}(f,c)}function xr(o,s,a,c){return function qr(o,s,a,c,f,p){const v=s+a;return Vn(o,v,f)?Wr(o,v+1,p?c.call(p,f):c(f)):Fd(o,v+1)}(pe(),$n(),o,s,a,c)}function Fd(o,s){const a=o[s];return a===rt?void 0:a}function mg(o,s){const a=ht();let c;const f=o+22;a.firstCreatePass?(c=function yg(o,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(o===c.name)return c}}(s,a.pipeRegistry),a.data[f]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(f,c.onDestroy)):c=a.data[f];const p=c.factory||(c.factory=ko(c.type)),v=In(ts);try{const m=ic(!1),E=p();return ic(m),function Ow(o,s,a,c){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=c}(a,pe(),f,E),E}finally{In(v)}}function Qy(o,s,a,c){const f=o+22,p=pe(),v=Uo(p,f);return function yl(o,s){return o[1].data[s].pure}(p,f)?function SD(o,s,a,c,f,p,v){const m=s+a;return os(o,m,f,p)?Wr(o,m+2,v?c.call(v,f,p):c(f,p)):Fd(o,m+2)}(p,$n(),s,v.transform,a,c,v):v.transform(a,c)}function La(o){return s=>{setTimeout(o,void 0,s)}}const Ti=class Ld extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let f=s,p=a||(()=>null),v=c;if(s&&"object"==typeof s){const E=s;f=E.next?.bind(E),p=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(p=La(p),f&&(f=La(f)),v&&(v=La(v)));const m=super.subscribe({next:f,error:p,complete:v});return s instanceof L.w0&&s.add(m),m}};function DS(){return this._results[Ui()]()}class Eg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ui(),c=Eg.prototype;c[a]||(c[a]=DS)}get changes(){return this._changes||(this._changes=new Ti)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const f=Tr(s);(this._changesDetected=!function L0(o,s,a){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let f=o[c],p=s[c];if(a&&(f=a(f),p=a(p)),p!==f)return!1}return!0}(c._results,f,a))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nd=(()=>{class o{}return o.__NG_ELEMENT_ID__=kd,o})();const tE=Nd,OD=class extends tE{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,f=Bu(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(c)),ad(c,f,s),new Zu(f)}};function kd(){return Na(on(),pe())}function Na(o,s){return 4&o.type?new OD(s,o,zo(o,s)):null}let Ud=(()=>{class o{}return o.__NG_ELEMENT_ID__=nE,o})();function nE(){return wg(on(),pe())}const TS=Ud,RD=class extends TS{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Bf(this._hostTNode,this._hostLView);if(O0(s)){const a=cu(s,this._hostLView),c=lu(s);return new Bo(a[1].data[c+8],a)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=bD(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let f,p;"number"==typeof c?f=c:null!=c&&(f=c.index,p=c.injector);const v=s.createEmbeddedView(a||{},p);return this.insert(v,f),v}createComponent(s,a,c,f,p){const v=s&&!function gu(o){return"function"==typeof o}(s);let m;if(v)m=a;else{const A=a||{};m=A.index,c=A.injector,f=A.projectableNodes,p=A.environmentInjector||A.ngModuleRef}const E=v?s:new _d(Et(s)),D=c||this.parentInjector;if(!p&&null==E.ngModule){const P=(v?D:this.parentInjector).get(ho,null);P&&(p=P)}const I=E.create(D,f,void 0,p);return this.insert(I.hostView,m),I}insert(s,a){const c=s._lView,f=c[1];if(function m0(o){return O(o[3])}(c)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const A=c[3],P=new RD(A,A[6],A[3]);P.detach(P.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function FC(o,s,a,c){const f=10+c,p=a.length;c>0&&(a[f-1][4]=s),c<p-10?(s[4]=a[f],X_(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function bh(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(v,s);const m=s[19];null!==m&&m.insertView(o),s[2]|=64}(f,c,v,p);const m=Zc(p,v),E=c[11],D=Hc(E,v[7]);return null!==D&&function RC(o,s,a,c,f,p){c[0]=f,c[6]=s,$c(o,c,a,1,f,p)}(f,v[6],E,c,D,m),s.attachToViewContainerRef(),X_(Cg(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=bD(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Pu(this._lContainer,a);c&&(lc(Cg(this._lContainer),a),jc(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Pu(this._lContainer,a);return c&&null!=lc(Cg(this._lContainer),a)?new Zu(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function bD(o){return o[8]}function Cg(o){return o[8]||(o[8]=[])}function wg(o,s){let a;const c=s[o.index];if(O(c))a=c;else{let f;if(8&o.type)f=dn(c);else{const p=s[11];f=p.createComment("");const v=dr(o,s);qo(p,Hc(p,v),f,function qv(o,s){return o.nextSibling(s)}(p,v),!1)}s[o.index]=a=bm(c,s,f,o),hd(s,a)}return new RD(a,o,s)}class Dg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,f=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);f.push(this.queries[v.indexInDeclarationView].clone())}return new Tg(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==sE(s,a).matches&&this.queries[a].setDirty()}}class rE{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Mg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const f=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,f);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Mg(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Vd{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Vd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const p=c[f];this.matchTNodeWithReadOption(s,a,LD(a,p)),this.matchTNodeWithReadOption(s,a,Gf(a,s,p,!1,!1))}else c===Nd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Gf(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===oa||f===Ud||f===Nd&&4&a.type)this.addMatch(a.index,-2);else{const p=Gf(a,s,f,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function LD(o,s){const a=o.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function kD(o,s,a,c){return-1===a?function ND(o,s){return 11&o.type?zo(o,s):4&o.type?Na(o,s):null}(s,o):-2===a?function or(o,s,a){return a===oa?zo(s,o):a===Nd?Na(s,o):a===Ud?wg(s,o):void 0}(o,s,c):fu(o,o[1],a,s)}function Sg(o,s,a,c){const f=s[19].queries[c];if(null===f.matches){const p=o.data,v=a.matches,m=[];for(let E=0;E<v.length;E+=2){const D=v[E];m.push(D<0?null:kD(s,p[D],v[E+1],a.metadata.read))}f.matches=m}return f.matches}function Bd(o,s,a,c){const f=o.queries.getByIndex(a),p=f.matches;if(null!==p){const v=Sg(o,s,f,a);for(let m=0;m<p.length;m+=2){const E=p[m];if(E>0)c.push(v[m/2]);else{const D=p[m+1],I=s[-E];for(let A=10;A<I.length;A++){const P=I[A];P[17]===P[3]&&Bd(P[1],P,D,c)}if(null!==I[9]){const A=I[9];for(let P=0;P<A.length;P++){const Y=A[P];Bd(Y[1],Y,D,c)}}}}}return c}function El(o){const s=pe(),a=ht(),c=L_();Of(c+1);const f=sE(a,c);if(o.dirty&&Xl(s)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?Bd(a,s,c,[]):Sg(a,s,f,c);o.reset(p,TM),o.notifyOnChanges()}return!0}return!1}function iE(o,s,a){const c=ht();c.firstCreatePass&&(oE(c,new rE(o,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),jd(c,pe(),s)}function yr(o,s,a,c){const f=ht();if(f.firstCreatePass){const p=on();oE(f,new rE(s,a,c),p.index),function Gd(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(f,o),2==(2&a)&&(f.staticContentQueries=!0)}jd(f,pe(),a)}function Ig(){return function So(o,s){return o[19].queries[s].queryList}(pe(),L_())}function jd(o,s,a){const c=new Eg(4==(4&a));hw(o,s,c,c.destroy),null===s[19]&&(s[19]=new Tg),s[19].queries.push(new Dg(c))}function oE(o,s,a){null===o.queries&&(o.queries=new Mg),o.queries.track(new Vd(s,a))}function sE(o,s){return o.queries.getByIndex(s)}function Ua(o){const s=Et(o)||xn(o)||Fn(o);return null!==s&&s.standalone}function Fg(...o){}const Lg=new Rt("Application Initializer");let Ba=(()=>{class o{constructor(a){this.appInits=a,this.resolve=Fg,this.reject=Fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Up(p))a.push(p);else if(Cd(p)){const v=new Promise((m,E)=>{p.subscribe({complete:m,error:E})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(bt(Lg,8))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ng=new Rt("AppId",{providedIn:"root",factory:function wE(){return`${Mn()}${Mn()}${Mn()}`}});function Mn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kg=new Rt("Platform Initializer"),DE=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TE=new Rt("appBootstrapListener");let SE=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Sl=new Rt("LocaleId",{providedIn:"root",factory:()=>Wn(Sl,We.Optional|We.SkipSelf)||function RS(){return typeof $localize<"u"&&$localize.locale||cs}()}),bS=new Rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Al{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let IE=(()=>{class o{compileModuleSync(a){return new Zi(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Sr(_n(a).declarations).reduce((v,m)=>{const E=Et(m);return E&&v.push(new _d(E)),v},[]);return new Al(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const zi=(()=>Promise.resolve(0))();function xl(o){typeof Zone>"u"?zi.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Cr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ti(!1),this.onMicrotaskEmpty=new Ti(!1),this.onStable=new Ti(!1),this.onError=new Ti(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function vs(){let o=Ne.requestAnimationFrame,s=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function xE(o){const s=()=>{!function qD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ne,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Vg(o),o.isCheckStableRunning=!0,AE(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Vg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,f,p,v,m)=>{try{return Kd(o),a.invokeTask(f,p,v,m)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),qd(o)}},onInvoke:(a,c,f,p,v,m,E)=>{try{return Kd(o),a.invoke(f,p,v,m,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),qd(o)}},onHasTask:(a,c,f,p)=>{a.hasTask(f,p),c===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,Vg(o),AE(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,f,p)=>(a.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new x(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,f){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+f,s,FS,Fg,Fg);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const FS={};function AE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Vg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Kd(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qd(o){o._nesting--,AE(o)}class XD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ti,this.onMicrotaskEmpty=new Ti,this.onStable=new Ti,this.onError=new Ti}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,f){return s.apply(a,c)}}const OE=new Rt(""),Bg=new Rt("");let Hg,jg=(()=>{class o{constructor(a,c,f){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hg||(function JD(o){Hg=o}(f),f.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),xl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,f){return[]}}return o.\u0275fac=function(a){return new(a||o)(bt(Cr),bt(Gg),bt(Bg))},o.\u0275prov=St({token:o,factory:o.\u0275fac}),o})(),Gg=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Hg?.findTestabilityInTree(this,a,c)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Yi=null;const ms=new Rt("AllowMultipleToken"),Ol=new Rt("PlatformDestroyListeners");class RE{constructor(s,a){this.name=s,this.token=a}}function PE(o,s,a=[]){const c=`Platform: ${s}`,f=new Rt(c);return(p=[])=>{let v=Zg();if(!v||v.injector.get(ms,!1)){const m=[...a,...p,{provide:f,useValue:!0}];o?o(m):function QD(o){if(Yi&&!Yi.get(ms,!1))throw new x(400,!1);Yi=o;const s=o.get($g);(function bE(o){const s=o.get(kg,null);s&&s.forEach(a=>a())})(o)}(function FE(o=[],s){return er.create({name:s,providers:[{provide:ch,useValue:"platform"},{provide:Ol,useValue:new Set([()=>Yi=null])},...o]})}(m,c))}return function nT(o){const s=Zg();if(!s)throw new x(401,!1);return s}()}}function Zg(){return Yi?.get($g)??null}let $g=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const f=function Wg(o,s){let a;return a="noop"===o?new XD:("zone.js"===o?void 0:o)||new Cr(s),a}(c?.ngZone,function LE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Cr,useValue:f}];return f.run(()=>{const v=er.create({providers:p,parent:this.injector,name:a.moduleType.name}),m=a.create(v),E=m.injector.get(Au,null);if(!E)throw new x(402,!1);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:I=>{E.handleError(I)}});m.onDestroy(()=>{Kg(this._modules,m),D.unsubscribe()})}),function zg(o,s,a){try{const c=a();return Up(c)?c.catch(f=>{throw s.runOutsideAngular(()=>o.handleError(f)),f}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(E,f,()=>{const D=m.injector.get(Ba);return D.runInitializers(),D.donePromise.then(()=>(function Sd(o){xt(o,"Expected localeId to be defined"),"string"==typeof o&&(qw=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Sl,cs)||cs),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const f=Yg({},c);return function LS(o,s,a){const c=new Zi(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(a){const c=a.injector.get(Rl);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new x(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Ol,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(bt(er))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Yg(o,s){return Array.isArray(s)?s.reduce(Yg,o):{...o,...s}}let Rl=(()=>{class o{constructor(a,c,f){this._zone=a,this._injector=c,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new q.y(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),v=new q.y(m=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),xl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{E.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ee.T)(p,v.pipe((0,F.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const f=a instanceof gh;if(!this._injector.get(Ba).done)throw!f&&Ua(a),new x(405,false);let v;v=f?a:this._injector.get(Su).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const m=function ys(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Dn),D=v.create(er.NULL,[],c||v.selector,m),I=D.location.nativeElement,A=D.injector.get(OE,null);return A?.registerApplication(I),D.onDestroy(()=>{this.detachView(D.hostView),Kg(this.components,D),A?.unregisterApplication(I)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Kg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(TE,[]).concat(this._bootstrapListeners).forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Kg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new x(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)(bt(Cr),bt(ho),bt(Au))},o.\u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Kg(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}let rT=!0,kE=!1;function UE(){return kE=!0,rT}function VE(){if(kE)throw new Error("Cannot enable prod mode after platform setup.");rT=!1}let iT=(()=>{class o{}return o.__NG_ELEMENT_ID__=kS,o})();function kS(o){return function oT(o,s,a){if($(o)&&!a){const c=fr(o.index,s);return new Zu(c,c)}return 47&o.type?new Zu(s[16],s):null}(on(),pe(),16==(16&o))}class ZE{constructor(){}supports(s){return ha(s)}create(s){return new VS(s)}}const Qg=(o,s)=>s;class VS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Qg}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,f=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<zE(c,f,p)?a:c,m=zE(v,f,p),E=v.currentIndex;if(v===c)f--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)f++;else{p||(p=[]);const D=m-f,I=E-f;if(D!=I){for(let P=0;P<D;P++){const Y=P<p.length?p[P]:p[P]=0,ce=Y+P;I<=ce&&ce<D&&(p[P]=Y+1)}p[v.previousIndex]=I-D}}m!==E&&s(v,m,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ha(s))throw new x(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,p,v,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)p=s[m],v=this._trackByFn(m,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,m)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,m),c=!0),a=a._next}else f=0,function Hm(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Ui()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,m=>{v=this._trackByFn(f,m),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,m,v,f)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,v,f),c=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,f){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,f)):s=this._addAfter(new $E(a,c),p,f),s}_verifyReinsertion(s,a,c,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,p=s._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const f=null===a?this._itHead:a._next;return s._next=f,s._prev=a,null===f?this._itTail=s:f._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new cT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class $E{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class cT{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new WE,this.map.set(a,c)),c.add(s)}get(s,a){const f=this.map.get(s);return f?f.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zE(o,s,a){const c=o.previousIndex;if(null===c)return c;let f=0;return a&&c<a.length&&(f=a[c]),c+s+f}class tf{constructor(){}supports(s){return s instanceof Map||vd(s)}create(){return new YE}}class YE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||vd(s)))throw new x(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(f,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,a);const p=f._prev,v=f._next;return p&&(p._next=v),v&&(v._prev=p),f._next=null,f._prev=null,f}const c=new BS(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class BS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nf(){return new KE([new ZE])}let KE=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||nf()),deps:[[o,new Xs,new fn]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new x(901,!1)}}return o.\u0275prov=St({token:o,providedIn:"root",factory:nf}),o})();function qE(){return new Ga([new tf])}let Ga=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||qE()),deps:[[o,new Xs,new fn]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new x(901,!1)}}return o.\u0275prov=St({token:o,providedIn:"root",factory:qE}),o})();const hT=PE(null,"core",[]);let pT=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(bt(Rl))},o.\u0275mod=Qi({type:o}),o.\u0275inj=tn({}),o})();function e_(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2997),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(G){const b={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof G?G():G,q=Object.assign({},b,{features:M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||b.features},M);if(q.maxAge&&q.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${q.maxAge}`);return q}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(b,M){if(this.action=b,this.timestamp=M,this.type=PERFORM_ACTION,typeof b.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(b){this.timestamp=b,this.type=RESET}}class Rollback{constructor(b){this.timestamp=b,this.type=ROLLBACK}}class Commit{constructor(b){this.timestamp=b,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(b){this.id=b,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(b,M,l=!0){this.start=b,this.end=M,this.active=l,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(b){this.index=b,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(b){this.actionId=b,this.type=JUMP_TO_ACTION}}class ImportState{constructor(b){this.nextLiftedState=b,this.type=IMPORT_STATE}}class LockChanges{constructor(b){this.status=b,this.type=LOCK_CHANGES}}class PauseRecording{constructor(b){this.status=b,this.type=PAUSE_RECORDING}}function difference(G,b){return G.filter(M=>b.indexOf(M)<0)}function unliftState(G){const{computedStates:b,currentStateIndex:M}=G;if(M>=b.length){const{state:L}=b[b.length-1];return L}const{state:l}=b[M];return l}function unliftAction(G){return G.actionsById[G.nextActionId-1]}function liftAction(G){return new PerformAction(G,+Date.now())}function sanitizeActions(G,b){return Object.keys(b).reduce((M,l)=>{const L=Number(l);return M[L]=sanitizeAction(G,b[L],L),M},{})}function sanitizeAction(G,b,M){return{...b,action:G(b.action,M)}}function sanitizeStates(G,b){return b.map((M,l)=>({state:sanitizeState(G,M.state,l),error:M.error}))}function sanitizeState(G,b,M){return G(b,M)}function shouldFilterActions(G){return G.predicate||G.actionsSafelist||G.actionsBlocklist}function filterLiftedState(G,b,M,l){const L=[],q={},ee=[];return G.stagedActionIds.forEach((F,K)=>{const U=G.actionsById[F];!U||K&&isActionFiltered(G.computedStates[K],U,b,M,l)||(q[F]=U,L.push(F),ee.push(G.computedStates[K]))}),{...G,stagedActionIds:L,actionsById:q,computedStates:ee}}function isActionFiltered(G,b,M,l,L){const q=M&&!M(G,b.action),ee=l&&!b.action.type.match(l.map(K=>escapeRegExp(K)).join("|")),F=L&&b.action.type.match(L.map(K=>escapeRegExp(K)).join("|"));return q||ee||F}function escapeRegExp(G){return G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(G,b,M,l,L){if(l)return{state:M,error:"Interrupted by an error up the chain"};let ee,q=M;try{q=G(M,b)}catch(F){ee=F.toString(),L.handleError(F)}return{state:q,error:ee}}function recomputeStates(G,b,M,l,L,q,ee,F,K){if(b>=G.length&&G.length===q.length)return G;const U=G.slice(0,b),H=q.length-(K?1:0);for(let V=b;V<H;V++){const X=q[V],z=L[X].action,B=U[V-1],ge=B?B.state:l,Ee=B?B.error:void 0,k=ee.indexOf(X)>-1?B:computeNextEntry(M,z,ge,Ee,F);U.push(k)}return K&&U.push(G[G.length-1]),U}function liftInitialState(G,b){return{monitorState:b(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:G,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(G,b,M,l,L={}){return q=>(ee,F)=>{let{monitorState:K,actionsById:U,nextActionId:H,stagedActionIds:V,skippedActionIds:X,committedState:z,currentStateIndex:B,computedStates:ge,isLocked:Ee,isPaused:x}=ee||b;function k(de){let fe=de,se=V.slice(1,fe+1);for(let oe=0;oe<se.length;oe++){if(ge[oe+1].error){fe=oe,se=V.slice(1,fe+1);break}delete U[se[oe]]}X=X.filter(oe=>-1===se.indexOf(oe)),V=[0,...V.slice(fe+1)],z=ge[fe].state,ge=ge.slice(fe),B=B>fe?B-fe:0}function j(){U={0:liftAction(INIT_ACTION)},H=1,V=[0],X=[],z=ge[B].state,B=0,ge=[]}ee||(U=Object.create(U));let J=0;switch(F.type){case LOCK_CHANGES:Ee=F.status,J=1/0;break;case PAUSE_RECORDING:x=F.status,x?(V=[...V,H],U[H]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),H++,J=V.length-1,ge=ge.concat(ge[ge.length-1]),B===V.length-2&&B++,J=1/0):j();break;case RESET:U={0:liftAction(INIT_ACTION)},H=1,V=[0],X=[],z=G,B=0,ge=[];break;case COMMIT:j();break;case ROLLBACK:U={0:liftAction(INIT_ACTION)},H=1,V=[0],X=[],B=0,ge=[];break;case TOGGLE_ACTION:{const{id:de}=F;X=-1===X.indexOf(de)?[de,...X]:X.filter(se=>se!==de),J=V.indexOf(de);break}case SET_ACTIONS_ACTIVE:{const{start:de,end:fe,active:se}=F,oe=[];for(let _e=de;_e<fe;_e++)oe.push(_e);X=se?difference(X,oe):[...X,...oe],J=V.indexOf(de);break}case JUMP_TO_STATE:B=F.index,J=1/0;break;case JUMP_TO_ACTION:{const de=V.indexOf(F.actionId);-1!==de&&(B=de),J=1/0;break}case SWEEP:V=difference(V,X),X=[],B=Math.min(B,V.length-1);break;case PERFORM_ACTION:{if(Ee)return ee||b;if(x||ee&&isActionFiltered(ee.computedStates[B],F,L.predicate,L.actionsSafelist,L.actionsBlocklist)){const fe=ge[ge.length-1];ge=[...ge.slice(0,-1),computeNextEntry(q,F.action,fe.state,fe.error,M)],J=1/0;break}L.maxAge&&V.length===L.maxAge&&k(1),B===V.length-1&&B++;const de=H++;U[de]=F,V=[...V,de],J=V.length-1;break}case IMPORT_STATE:({monitorState:K,actionsById:U,nextActionId:H,stagedActionIds:V,skippedActionIds:X,committedState:z,currentStateIndex:B,computedStates:ge,isLocked:Ee,isPaused:x}=F.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:J=0,L.maxAge&&V.length>L.maxAge&&(ge=recomputeStates(ge,J,q,z,U,V,X,M,x),k(V.length-L.maxAge),J=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ge.filter(fe=>fe.error).length>0)J=0,L.maxAge&&V.length>L.maxAge&&(ge=recomputeStates(ge,J,q,z,U,V,X,M,x),k(V.length-L.maxAge),J=1/0);else{if(!x&&!Ee){B===V.length-1&&B++;const fe=H++;U[fe]=new PerformAction(F,+Date.now()),V=[...V,fe],J=V.length-1,ge=recomputeStates(ge,J,q,z,U,V,X,M,x)}ge=ge.map(fe=>({...fe,state:q(fe.state,RECOMPUTE_ACTION)})),B=V.length-1,L.maxAge&&V.length>L.maxAge&&k(V.length-L.maxAge),J=1/0}break;default:J=1/0}return ge=recomputeStates(ge,J,q,z,U,V,X,M,x),K=l(K,F),{monitorState:K,actionsById:U,nextActionId:H,stagedActionIds:V,skippedActionIds:X,committedState:z,currentStateIndex:B,computedStates:ge,isLocked:Ee,isPaused:x}}}let DevtoolsDispatcher=(()=>{class G extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return G.\u0275fac=function(){let b;return function(l){return(b||(b=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(G)))(l||G)}}(),G.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:G,factory:G.\u0275fac}),G})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(G,b,M){this.config=b,this.dispatcher=M,this.devtoolsExtension=G,this.createActionStreams()}notify(G,b){if(this.devtoolsExtension)if(G.type===PERFORM_ACTION){if(b.isLocked||b.isPaused)return;const M=unliftState(b);if(shouldFilterActions(this.config)&&isActionFiltered(M,G,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const l=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,b.currentStateIndex):M,L=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,G,b.nextActionId):G;this.sendToReduxDevtools(()=>this.extensionConnection.send(L,l))}else{const M={...b,stagedActionIds:b.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,b.actionsById):b.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,b.computedStates):b.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(G=>{const b=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=b,b.init(),b.subscribe(M=>G.next(M)),b.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const G=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),b=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.START)),M=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.STOP)),l=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(F=>F.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>F),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(F))),q=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(F=>F.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(F=>this.unwrapAction(F.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),ee=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=b.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>q)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(G){const b={name:G.name,features:G.features,serialize:G.serialize,autoPause:G.autoPause??!1};return!1!==G.maxAge&&(b.maxAge=G.maxAge),b}sendToReduxDevtools(G){try{G()}catch(b){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",b)}}}return DevtoolsExtension.\u0275fac=function G(b){return new(b||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class G{constructor(M,l,L,q,ee,F,K,U){const H=liftInitialState(K,U.monitor),V=liftReducerWith(K,H,F,U.monitor,U),X=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(l.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),q.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,q.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=L.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(V)),B=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),ge=X.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:j},[J,de])=>{let fe=de(j,J);return J.type!==PERFORM_ACTION&&shouldFilterActions(U)&&(fe=filterLiftedState(fe,U.predicate,U.actionsSafelist,U.actionsBlocklist)),q.notify(J,fe),{state:fe,action:J}},{state:H,action:null})).subscribe(({state:j,action:J})=>{B.next(j),J.type===PERFORM_ACTION&&ee.next(J.action)}),Ee=q.start$.subscribe(()=>{this.refresh()}),x=B.asObservable(),k=x.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ee,this.stateSubscription=ge,this.dispatcher=M,this.liftedState=x,this.state=k}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return G.\u0275fac=function(M){return new(M||G)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},G.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:G,factory:G.\u0275fac}),G})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(G,b){return Boolean(G)||b.monitor!==noMonitor}function createReduxDevtoolsExtension(){const G="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[G]<"u"?window[G]:null}function createStateObservable(G){return G.state}let StoreDevtoolsModule=(()=>{class G{static instrument(M={}){return{ngModule:G,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:M},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return G.\u0275fac=function(M){return new(M||G)},G.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:G}),G.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),G})()},2997:(G,b,M)=>{"use strict";M.d(b,{UO:()=>te,qg:()=>Pe,Y6:()=>be,mK:()=>Rs,n$:()=>In,Y$:()=>Qa,FR:()=>Ue,yh:()=>cn,CK:()=>Wl,Aw:()=>vf,cr:()=>Tt,wb:()=>gf,qC:()=>We,PH:()=>J});var l=M(4650),L=M(1135),q=M(9751),ee=M(7579),F=M(233),K=M(4004),H=M(4671),V=M(4482),X=M(5403);function B(O,ae){return O===ae}var ge=M(5363),Ee=M(1365),x=M(5026);const k={};function J(O,ae){if(k[O]=(k[O]||0)+1,"function"==typeof ae)return se(O,(...ie)=>({...ae(...ie),type:O}));switch(ae?ae._as:"empty"){case"empty":return se(O,()=>({type:O}));case"props":return se(O,ie=>({...ie,type:O}));default:throw new Error("Unexpected config.")}}function se(O,ae){return Object.defineProperty(ae,"type",{value:O,writable:!1})}const Pe="@ngrx/store/init";let te=(()=>{class O extends L.X{constructor(){super({type:Pe})}next($){if("function"==typeof $)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof $>"u")throw new TypeError("Actions must be objects");if(typeof $.type>"u")throw new TypeError("Actions must have a type property");super.next($)}complete(){}ngOnDestroy(){super.complete()}}return O.\u0275fac=function($){return new($||O)},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac}),O})();const Q=[te],le=new l.OlP("@ngrx/store Internal Root Guard"),re=new l.OlP("@ngrx/store Internal Initial State"),be=new l.OlP("@ngrx/store Initial State"),De=new l.OlP("@ngrx/store Reducer Factory"),qe=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),lt=new l.OlP("@ngrx/store Initial Reducers"),xt=new l.OlP("@ngrx/store Internal Initial Reducers"),Fe=new l.OlP("@ngrx/store Store Features"),bn=new l.OlP("@ngrx/store Internal Store Reducers"),ei=new l.OlP("@ngrx/store Internal Feature Reducers"),Ht=new l.OlP("@ngrx/store Internal Feature Configs"),St=new l.OlP("@ngrx/store Internal Store Features"),ti=new l.OlP("@ngrx/store Internal Feature Reducers Token"),tn=new l.OlP("@ngrx/store Feature Reducers"),Xi=new l.OlP("@ngrx/store User Provided Meta Reducers"),xs=new l.OlP("@ngrx/store Meta Reducers"),ff=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),hf=new l.OlP("@ngrx/store User Runtime Checks Config"),Xa=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),ni=new l.OlP("@ngrx/store Internal Runtime Checks"),Ji=new l.OlP("@ngrx/store Check if Action types are unique");function Os(O,ae={}){const $=Object.keys(O),ie={};for(let Ie=0;Ie<$.length;Ie++){const mt=$[Ie];"function"==typeof O[mt]&&(ie[mt]=O[mt])}const me=Object.keys(ie);return function(mt,Wt){mt=void 0===mt?ae:mt;let Nt=!1;const cr={};for(let kt=0;kt<me.length;kt++){const zt=me[kt],mf=mt[zt],yf=(0,ie[zt])(mf,Wt);cr[zt]=yf,Nt=Nt||yf!==mf}return Nt?cr:mt}}function We(...O){return function(ae){if(0===O.length)return ae;const $=O[O.length-1];return O.slice(0,-1).reduceRight((me,Ie)=>Ie(me),$(ae))}}function Sn(O,ae){return Array.isArray(ae)&&ae.length>0&&(O=We.apply(null,[...ae,O])),($,ie)=>{const me=O($);return(Ie,mt)=>me(Ie=void 0===Ie?ie:Ie,mt)}}class In extends q.y{}class Rs extends te{}const gf="@ngrx/store/update-reducers";let ur=(()=>{class O extends L.X{constructor($,ie,me,Ie){super(Ie(me,ie)),this.dispatcher=$,this.initialState=ie,this.reducers=me,this.reducerFactory=Ie}get currentReducers(){return this.reducers}addFeature($){this.addFeatures([$])}addFeatures($){const ie=$.reduce((me,{reducers:Ie,reducerFactory:mt,metaReducers:Wt,initialState:Nt,key:cr})=>{const kt="function"==typeof Ie?function Ja(O){const ae=Array.isArray(O)&&O.length>0?We(...O):$=>$;return($,ie)=>($=ae($),(me,Ie)=>$(me=void 0===me?ie:me,Ie))}(Wt)(Ie,Nt):Sn(mt,Wt)(Ie,Nt);return me[cr]=kt,me},{});this.addReducers(ie)}removeFeature($){this.removeFeatures([$])}removeFeatures($){this.removeReducers($.map(ie=>ie.key))}addReducer($,ie){this.addReducers({[$]:ie})}addReducers($){this.reducers={...this.reducers,...$},this.updateReducers(Object.keys($))}removeReducer($){this.removeReducers([$])}removeReducers($){$.forEach(ie=>{this.reducers=function pf(O,ae){return Object.keys(O).filter($=>$!==ae).reduce(($,ie)=>Object.assign($,{[ie]:O[ie]}),{})}(this.reducers,ie)}),this.updateReducers($)}updateReducers($){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:gf,features:$})}ngOnDestroy(){this.complete()}}return O.\u0275fac=function($){return new($||O)(l.LFG(Rs),l.LFG(be),l.LFG(lt),l.LFG(De))},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac}),O})();const An=[ur,{provide:In,useExisting:ur},{provide:Rs,useExisting:te}];let Qa=(()=>{class O extends ee.x{ngOnDestroy(){this.complete()}}return O.\u0275fac=function(){let ae;return function(ie){return(ae||(ae=l.n5z(O)))(ie||O)}}(),O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac}),O})();const nn=[Qa];class Ue extends q.y{}let Ne=(()=>{class O extends L.X{constructor($,ie,me,Ie){super(Ie);const cr=$.pipe((0,ge.Q)(F.N)).pipe((0,Ee.M)(ie)).pipe((0,x.R)(C_,{state:Ie}));this.stateSubscription=cr.subscribe(({state:kt,action:zt})=>{this.next(kt),me.next(zt)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return O.INIT=Pe,O.\u0275fac=function($){return new($||O)(l.LFG(te),l.LFG(In),l.LFG(Qa),l.LFG(be))},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac}),O})();function C_(O={state:void 0},[ae,$]){const{state:ie}=O;return{state:$(ie,ae),action:ae}}const eu=[Ne,{provide:Ue,useExisting:Ne}];let cn=(()=>{class O extends q.y{constructor($,ie,me){super(),this.actionsObserver=ie,this.reducerManager=me,this.source=$}select($,...ie){return Pn.call(null,$,...ie)(this)}lift($){const ie=new O(this,this.actionsObserver,this.reducerManager);return ie.operator=$,ie}dispatch($){this.actionsObserver.next($)}next($){this.actionsObserver.next($)}error($){this.actionsObserver.error($)}complete(){this.actionsObserver.complete()}addReducer($,ie){this.reducerManager.addReducer($,ie)}removeReducer($){this.reducerManager.removeReducer($)}}return O.\u0275fac=function($){return new($||O)(l.LFG(Ue),l.LFG(te),l.LFG(ur))},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac}),O})();const ft=[cn];function Pn(O,ae,...$){return function(me){let Ie;if("string"==typeof O){const mt=[ae,...$].filter(Boolean);Ie=me.pipe(function U(...O){const ae=O.length;if(0===ae)throw new Error("list of properties cannot be empty.");return(0,K.U)($=>{let ie=$;for(let me=0;me<ae;me++){const Ie=ie?.[O[me]];if(!(typeof Ie<"u"))return;ie=Ie}return ie})}(O,...mt))}else{if("function"!=typeof O)throw new TypeError(`Unexpected type '${typeof O}' in select operator, expected 'string' or 'function'`);Ie=me.pipe((0,K.U)(mt=>O(mt,ae)))}return Ie.pipe(function z(O,ae=H.y){return O=O??B,(0,V.e)(($,ie)=>{let me,Ie=!0;$.subscribe((0,X.x)(ie,mt=>{const Wt=ae(mt);(Ie||!O(me,Wt))&&(Ie=!1,me=Wt,ie.next(mt))}))})}())}}const Ro="https://ngrx.io/guide/store/configuration/runtime-checks";function Lt(O){return void 0===O}function tu(O){return null===O}function dt(O){return Array.isArray(O)}function Po(O){return"object"==typeof O&&null!==O}function Fo(O){return"function"==typeof O}function Ot(O){Object.freeze(O);const ae=Fo(O);return Object.getOwnPropertyNames(O).forEach($=>{if(!$.startsWith("\u0275")&&function ru(O,ae){return Object.prototype.hasOwnProperty.call(O,ae)}(O,$)&&(!ae||"caller"!==$&&"callee"!==$&&"arguments"!==$)){const ie=O[$];(Po(ie)||Fo(ie))&&!Object.isFrozen(ie)&&Ot(ie)}}),O}function ii(O,ae=[]){return(Lt(O)||tu(O))&&0===ae.length?{path:["root"],value:O}:Object.keys(O).reduce((ie,me)=>{if(ie)return ie;const Ie=O[me];return function Qi(O){return Fo(O)&&O.hasOwnProperty("\u0275cmp")}(Ie)?ie:!(Lt(Ie)||tu(Ie)||function nu(O){return"number"==typeof O}(Ie)||function bs(O){return"boolean"==typeof O}(Ie)||function bo(O){return"string"==typeof O}(Ie)||dt(Ie))&&(function Ps(O){if(!function Hl(O){return Po(O)&&!dt(O)}(O))return!1;const ae=Object.getPrototypeOf(O);return ae===Object.prototype||null===ae}(Ie)?ii(Ie,[...ae,me]):{path:[...ae,me],value:Ie})},!1)}function ot(O,ae){if(!1===O)return;const $=O.path.join("."),ie=new Error(`Detected unserializable ${ae} at "${$}". ${Ro}#strict${ae}serializability`);throw ie.value=O.value,ie.unserializablePath=$,ie}function oi(O){return(0,l.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...O}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ou({strictActionSerializability:O,strictStateSerializability:ae}){return $=>O||ae?function Ai(O,ae){return function($,ie){ae.action(ie)&&ot(ii(ie),"action");const me=O($,ie);return ae.state()&&ot(ii(me),"state"),me}}($,{action:ie=>O&&!rn(ie),state:()=>ae}):$}function xi({strictActionImmutability:O,strictStateImmutability:ae}){return $=>O||ae?function ri(O,ae){return function($,ie){const me=ae.action(ie)?Ot(ie):ie,Ie=O($,me);return ae.state()?Ot(Ie):Ie}}($,{action:ie=>O&&!rn(ie),state:()=>ae}):$}function rn(O){return O.type.startsWith("@ngrx")}function Oi({strictActionWithinNgZone:O}){return ae=>O?function Fs(O,ae){return function($,ie){if(ae.action(ie)&&!l.R0b.isInAngularZone())throw new Error(`Action '${ie.type}' running outside NgZone. ${Ro}#strictactionwithinngzone`);return O($,ie)}}(ae,{action:$=>O&&!rn($)}):ae}function si(O){return[{provide:Xa,useValue:O},{provide:hf,useFactory:eo,deps:[Xa]},{provide:ni,deps:[hf],useFactory:oi},{provide:xs,multi:!0,deps:[ni],useFactory:xi},{provide:xs,multi:!0,deps:[ni],useFactory:ou},{provide:xs,multi:!0,deps:[ni],useFactory:Oi}]}function Hn(){return[{provide:Ji,multi:!0,deps:[ni],useFactory:_f}]}function eo(O){return O}function _f(O){if(!O.strictActionTypeUniqueness)return;const ae=Object.entries(k).filter(([,$])=>$>1).map(([$])=>$);if(ae.length)throw new Error(`Action types are registered more than once, ${ae.map($=>`"${$}"`).join(", ")}. ${Ro}#strictactiontypeuniqueness`)}let Tt=(()=>{class O{constructor($,ie,me,Ie,mt,Wt){}}return O.\u0275fac=function($){return new($||O)(l.LFG(te),l.LFG(In),l.LFG(Qa),l.LFG(cn),l.LFG(le,8),l.LFG(Ji,8))},O.\u0275mod=l.oAB({type:O}),O.\u0275inj=l.cJS({}),O})(),Wl=(()=>{class O{constructor($,ie,me,Ie,mt){this.features=$,this.featureReducers=ie,this.reducerManager=me;const Wt=$.map((Nt,cr)=>{const zt=ie.shift()[cr];return{...Nt,reducers:zt,initialState:Lr(Nt.initialState)}});me.addFeatures(Wt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return O.\u0275fac=function($){return new($||O)(l.LFG(St),l.LFG(tn),l.LFG(ur),l.LFG(Tt),l.LFG(Ji,8))},O.\u0275mod=l.oAB({type:O}),O.\u0275inj=l.cJS({}),O})(),vf=(()=>{class O{static forRoot($,ie={}){return{ngModule:Tt,providers:[{provide:le,useFactory:vn,deps:[[cn,new l.FiY,new l.tp0]]},{provide:re,useValue:ie.initialState},{provide:be,useFactory:Lr,deps:[re]},{provide:xt,useValue:$},{provide:bn,useExisting:$ instanceof l.OlP?$:xt},{provide:lt,deps:[l.zs3,xt,[new l.tBr(bn)]],useFactory:Lo},{provide:Xi,useValue:ie.metaReducers?ie.metaReducers:[]},{provide:ff,deps:[xs,Xi],useFactory:ai},{provide:qe,useValue:ie.reducerFactory?ie.reducerFactory:Os},{provide:De,deps:[qe,ff],useFactory:Sn},Q,An,nn,eu,ft,si(ie.runtimeChecks),Hn()]}}static forFeature($,ie,me={}){return{ngModule:Wl,providers:[{provide:Ht,multi:!0,useValue:$ instanceof Object?{}:me},{provide:Fe,multi:!0,useValue:{key:$ instanceof Object?$.name:$,reducerFactory:me instanceof l.OlP||!me.reducerFactory?Os:me.reducerFactory,metaReducers:me instanceof l.OlP||!me.metaReducers?[]:me.metaReducers,initialState:me instanceof l.OlP||!me.initialState?void 0:me.initialState}},{provide:St,deps:[l.zs3,Ht,Fe],useFactory:Ls},{provide:ei,multi:!0,useValue:$ instanceof Object?$.reducer:ie},{provide:ti,multi:!0,useExisting:ie instanceof l.OlP?ie:ei},{provide:tn,multi:!0,deps:[l.zs3,ei,[new l.tBr(ti)]],useFactory:No},Hn()]}}}return O.\u0275fac=function($){return new($||O)},O.\u0275mod=l.oAB({type:O}),O.\u0275inj=l.cJS({}),O})();function Lo(O,ae){return ae instanceof l.OlP?O.get(ae):ae}function Ls(O,ae,$){return $.map((ie,me)=>{if(ae[me]instanceof l.OlP){const Ie=O.get(ae[me]);return{key:ie.key,reducerFactory:Ie.reducerFactory?Ie.reducerFactory:Os,metaReducers:Ie.metaReducers?Ie.metaReducers:[],initialState:Ie.initialState}}return ie})}function No(O,ae){return ae.map(ie=>ie instanceof l.OlP?O.get(ie):ie)}function Lr(O){return"function"==typeof O?O():O}function ai(O,ae){return O.concat(ae)}function vn(O){if(O)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}}},G=>{G(G.s=7286)}]);